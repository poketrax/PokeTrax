var tm=(e,r)=>()=>(r||e((r={exports:{}}).exports,r),r.exports);var a7=tm((ht,gt)=>{const rm=function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))n(o);new MutationObserver(o=>{for(const a of o)if(a.type==="childList")for(const i of a.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function t(o){const a={};return o.integrity&&(a.integrity=o.integrity),o.referrerpolicy&&(a.referrerPolicy=o.referrerpolicy),o.crossorigin==="use-credentials"?a.credentials="include":o.crossorigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(o){if(o.ep)return;o.ep=!0;const a=t(o);fetch(o.href,a)}};rm();function we(){}function gn(e,r){for(const t in r)e[t]=r[t];return e}function Iu(e){return e()}function Xd(){return Object.create(null)}function wo(e){e.forEach(Iu)}function nm(e){return typeof e=="function"}function nt(e,r){return e!=e?r==r:e!==r||e&&typeof e=="object"||typeof e=="function"}let Fo;function kt(e,r){return Fo||(Fo=document.createElement("a")),Fo.href=r,e===Fo.href}function om(e){return Object.keys(e).length===0}function zu(e){const r={};for(const t in e)t[0]!=="$"&&(r[t]=e[t]);return r}function ga(e,r){const t={};r=new Set(r);for(const n in e)!r.has(n)&&n[0]!=="$"&&(t[n]=e[n]);return t}function H(e,r){e.appendChild(r)}function De(e,r,t){e.insertBefore(r,t||null)}function Ce(e){e.parentNode.removeChild(e)}function Q(e){return document.createElement(e)}function fr(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}function Yc(e){return document.createTextNode(e)}function re(){return Yc(" ")}function am(){return Yc("")}function Lu(e,r,t,n){return e.addEventListener(r,t,n),()=>e.removeEventListener(r,t,n)}function j(e,r,t){t==null?e.removeAttribute(r):e.getAttribute(r)!==t&&e.setAttribute(r,t)}function Zd(e,r){const t=Object.getOwnPropertyDescriptors(e.__proto__);for(const n in r)r[n]==null?e.removeAttribute(n):n==="style"?e.style.cssText=r[n]:n==="__value"?e.value=e[n]=r[n]:t[n]&&t[n].set?e[n]=r[n]:j(e,n,r[n])}function im(e){return Array.from(e.childNodes)}function sm(e,r){r=""+r,e.wholeText!==r&&(e.data=r)}function cm(e,r,{bubbles:t=!1,cancelable:n=!1}={}){const o=document.createEvent("CustomEvent");return o.initCustomEvent(e,t,n,r),o}let oo;function Kn(e){oo=e}function Du(){if(!oo)throw new Error("Function called outside component initialization");return oo}function dm(e){Du().$$.on_mount.push(e)}function lm(){const e=Du();return(r,t,{cancelable:n=!1}={})=>{const o=e.$$.callbacks[r];if(o){const a=cm(r,t,{cancelable:n});return o.slice().forEach(i=>{i.call(e,a)}),!a.defaultPrevented}return!0}}function Si(e,r){const t=e.$$.callbacks[r.type];t&&t.slice().forEach(n=>n.call(this,r))}const Hn=[],ao=[],ta=[],cs=[],fm=Promise.resolve();let ds=!1;function um(){ds||(ds=!0,fm.then(Ru))}function ls(e){ta.push(e)}function Kd(e){cs.push(e)}const Mi=new Set;let No=0;function Ru(){const e=oo;do{for(;No<Hn.length;){const r=Hn[No];No++,Kn(r),pm(r.$$)}for(Kn(null),Hn.length=0,No=0;ao.length;)ao.pop()();for(let r=0;r<ta.length;r+=1){const t=ta[r];Mi.has(t)||(Mi.add(t),t())}ta.length=0}while(Hn.length);for(;cs.length;)cs.pop()();ds=!1,Mi.clear(),Kn(e)}function pm(e){if(e.fragment!==null){e.update(),wo(e.before_update);const r=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,r),e.after_update.forEach(ls)}}const ra=new Set;let Mr;function Ei(){Mr={r:0,c:[],p:Mr}}function Ti(){Mr.r||wo(Mr.c),Mr=Mr.p}function be(e,r){e&&e.i&&(ra.delete(e),e.i(r))}function xe(e,r,t,n){if(e&&e.o){if(ra.has(e))return;ra.add(e),Mr.c.push(()=>{ra.delete(e),n&&(t&&e.d(1),n())}),e.o(r)}}function Fu(e,r){const t={},n={},o={$$scope:1};let a=e.length;for(;a--;){const i=e[a],s=r[a];if(s){for(const c in i)c in s||(n[c]=1);for(const c in s)o[c]||(t[c]=s[c],o[c]=1);e[a]=s}else for(const c in i)o[c]=1}for(const i in n)i in t||(t[i]=void 0);return t}function hm(e){return typeof e=="object"&&e!==null?e:{}}function Qd(e,r,t){const n=e.$$.props[r];n!==void 0&&(e.$$.bound[n]=t,t(e.$$.ctx[n]))}function Le(e){e&&e.c()}function Pe(e,r,t,n){const{fragment:o,on_mount:a,on_destroy:i,after_update:s}=e.$$;o&&o.m(r,t),n||ls(()=>{const c=a.map(Iu).filter(nm);i?i.push(...c):wo(c),e.$$.on_mount=[]}),s.forEach(ls)}function Ue(e,r){const t=e.$$;t.fragment!==null&&(wo(t.on_destroy),t.fragment&&t.fragment.d(r),t.on_destroy=t.fragment=null,t.ctx=[])}function gm(e,r){e.$$.dirty[0]===-1&&(Hn.push(e),um(),e.$$.dirty.fill(0)),e.$$.dirty[r/31|0]|=1<<r%31}function st(e,r,t,n,o,a,i,s=[-1]){const c=oo;Kn(e);const d=e.$$={fragment:null,ctx:null,props:a,update:we,not_equal:o,bound:Xd(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(r.context||(c?c.$$.context:[])),callbacks:Xd(),dirty:s,skip_bound:!1,root:r.target||c.$$.root};i&&i(d.root);let l=!1;if(d.ctx=t?t(e,r.props||{},(f,u,...h)=>{const p=h.length?h[0]:u;return d.ctx&&o(d.ctx[f],d.ctx[f]=p)&&(!d.skip_bound&&d.bound[f]&&d.bound[f](p),l&&gm(e,f)),u}):[],d.update(),l=!0,wo(d.before_update),d.fragment=n?n(d.ctx):!1,r.target){if(r.hydrate){const f=im(r.target);d.fragment&&d.fragment.l(f),f.forEach(Ce)}else d.fragment&&d.fragment.c();r.intro&&be(e.$$.fragment),Pe(e,r.target,r.anchor,r.customElement),Ru()}Kn(c)}class ct{$destroy(){Ue(this,1),this.$destroy=we}$on(r,t){const n=this.$$.callbacks[r]||(this.$$.callbacks[r]=[]);return n.push(t),()=>{const o=n.indexOf(t);o!==-1&&n.splice(o,1)}}$set(r){this.$$set&&!om(r)&&(this.$$.skip_bound=!0,this.$$set(r),this.$$.skip_bound=!1)}}var fe;(function(e){e.GRAPHICS_DOCUMENT="graphics-document",e.GRAPHICS_OBJECT="graphics-object",e.GRAPHICS_SYMBOL="graphics-symbol",e.GROUP="group",e.DOCUMENT="document",e.CHECKBOX="checkbox",e.BUTTON="button",e.MENU="menu",e.MENU_ITEM="menuitem",e.IMG="img"})(fe||(fe={}));var fs;(function(e){e.RENDER_FINISHED="render-finished",e.RESIZE="chart-resize",e.MOUSEOVER="chart-mouseover",e.MOUSEOUT="chart-mouseout"})(fs||(fs={}));var us;(function(e){e.SHOW="show-modal",e.HIDE="hide-modal"})(us||(us={}));var ps;(function(e){e.UPDATE="model-update"})(ps||(ps={}));var hs;(function(e){e.SHOW_OVERFLOW_MENU="show-toolbar-overflow-menu",e.HIDE_OVERFLOW_MENU="hide-toolbar-overflow-menu",e.BUTTON_CLICK="toolbar-button-click"})(hs||(hs={}));var gs;(function(e){e.UPDATE="zoom-bar-update",e.SELECTION_START="zoom-bar-selection-start",e.SELECTION_IN_PROGRESS="zoom-bar-selection-in-progress",e.SELECTION_END="zoom-bar-selection-end"})(gs||(gs={}));var ms;(function(e){e.CHANGE="zoom-domain-change"})(ms||(ms={}));var vs;(function(e){e.CANVAS_ZOOM_IN="canvas-zoom-in",e.CANVAS_ZOOM_OUT="canvas-zoom-out"})(vs||(vs={}));var bs;(function(e){e.LABEL_MOUSEOVER="axis-label-mouseover",e.LABEL_MOUSEMOVE="axis-label-mousemove",e.LABEL_CLICK="axis-label-click",e.LABEL_MOUSEOUT="axis-label-mouseout",e.LABEL_FOCUS="axis-label-focus",e.LABEL_BLUR="axis-label-blur",e.RENDER_COMPLETE="axis-render-complete"})(bs||(bs={}));var ys;(function(e){e.POINT_MOUSEOVER="scatter-mouseover",e.POINT_MOUSEMOVE="scatter-mousemove",e.POINT_CLICK="scatter-click",e.POINT_MOUSEOUT="scatter-mouseout"})(ys||(ys={}));var ws;(function(e){e.WORD_MOUSEOVER="wordcloud-word-mouseover",e.WORD_MOUSEMOVE="wordcloud-word-mousemove",e.WORD_CLICK="wordcloud-word-click",e.WORD_MOUSEOUT="wordcloud-word-mouseout"})(ws||(ws={}));var _s;(function(e){e.SLICE_MOUSEOVER="pie-slice-mouseover",e.SLICE_MOUSEMOVE="pie-slice-mousemove",e.SLICE_CLICK="pie-slice-click",e.SLICE_MOUSEOUT="pie-slice-mouseout"})(_s||(_s={}));var xs;(function(e){e.ARC_MOUSEOVER="gauge-arc-mouseover",e.ARC_MOUSEMOVE="gauge-arc-mousemove",e.ARC_CLICK="gauge-arc-click",e.ARC_MOUSEOUT="gauge-arc-mouseout"})(xs||(xs={}));var ks;(function(e){e.BAR_MOUSEOVER="bar-mouseover",e.BAR_MOUSEMOVE="bar-mousemove",e.BAR_CLICK="bar-click",e.BAR_MOUSEOUT="bar-mouseout"})(ks||(ks={}));var Ss;(function(e){e.BOX_MOUSEOVER="box-mouseover",e.BOX_MOUSEMOVE="box-mousemove",e.BOX_CLICK="box-click",e.BOX_MOUSEOUT="box-mouseout",e.OUTLIER_MOUSEOVER="outlier-mouseover",e.OUTLIER_MOUSEMOVE="outlier-mousemove",e.OUTLIER_CLICK="outlier-click",e.OUTLIER_MOUSEOUT="outlier-mouseout"})(Ss||(Ss={}));var Ms;(function(e){e.SCATTER_MOUSEOVER="scatter-mouseover",e.SCATTER_MOUSEMOVE="scatter-mousemove",e.SCATTER_CLICK="scatter-click",e.SCATTER_MOUSEOUT="scatter-mouseout"})(Ms||(Ms={}));var Es;(function(e){e.POINT_MOUSEOVER="scatter-mouseover",e.POINT_MOUSEMOVE="scatter-mousemove",e.POINT_CLICK="scatter-click",e.POINT_MOUSEOUT="scatter-mouseout"})(Es||(Es={}));var Ts;(function(e){e.X_AXIS_MOUSEOVER="radar-x-axis-mouseover",e.X_AXIS_MOUSEMOVE="radar-x-axis-mousemove",e.X_AXIS_CLICK="radar-x-axis-click",e.X_AXIS_MOUSEOUT="radar-x-axis-mouseout"})(Ts||(Ts={}));var Os;(function(e){e.NODE_MOUSEOVER="tree-node-mouseover",e.NODE_CLICK="tree-node-click",e.NODE_MOUSEOUT="tree-node-mouseout"})(Os||(Os={}));var As;(function(e){e.LEAF_MOUSEOVER="leaf-mouseover",e.LEAF_MOUSEMOVE="leaf-mousemove",e.LEAF_CLICK="leaf-click",e.LEAF_MOUSEOUT="leaf-mouseout"})(As||(As={}));var Ps;(function(e){e.SHOW="show-tooltip",e.MOVE="move-tooltip",e.HIDE="hide-tooltip"})(Ps||(Ps={}));var Us;(function(e){e.SHOW="show-threshold",e.HIDE="hide-threshold"})(Us||(Us={}));var Cs;(function(e){e.ITEM_HOVER="legend-item-onhover",e.ITEM_CLICK="legend-item-onclick",e.ITEM_MOUSEOUT="legend-item-onmouseout",e.ITEMS_UPDATE="legend-items-update"})(Cs||(Cs={}));var Bs;(function(e){e.CIRCLE_MOUSEOVER="circle-leaf-mouseover",e.CIRCLE_CLICK="circle-leaf-click",e.CIRCLE_MOUSEOUT="circle-leaf-mouseout",e.CIRCLE_MOUSEMOVE="circle-leaf-mousemove"})(Bs||(Bs={}));var Is;(function(e){e.NODE_MOUSEOVER="alluvial-node-mouseover",e.NODE_CLICK="alluvial-node-click",e.NODE_MOUSEOUT="alluvial-node-mouseout",e.NODE_MOUSEMOVE="alluvial-node-mousemove",e.LINE_MOUSEOVER="alluvial-line-mouseover",e.LINE_CLICK="alluvial-line-click",e.LINE_MOUSEOUT="alluvial-line-mouseout",e.LINE_MOUSEMOVE="alluvial-line-mousemove"})(Is||(Is={}));var zs;(function(e){e.METER_MOUSEOVER="meter-mouseover",e.METER_CLICK="meter-click",e.METER_MOUSEOUT="meter-mouseout",e.METER_MOUSEMOVE="meter-mousemove"})(zs||(zs={}));var Ls;(function(e){e.HEATMAP_MOUSEOVER="heatmap-mouseover",e.HEATMAP_CLICK="heatmap-click",e.HEATMAP_MOUSEOUT="heatmap-mouseout",e.HEATMAP_MOUSEMOVE="hetmap-mousemove"})(Ls||(Ls={}));var mm=Object.freeze(Object.defineProperty({__proto__:null,get Chart(){return fs},get Modal(){return us},get Model(){return ps},get Toolbar(){return hs},get ZoomBar(){return gs},get ZoomDomain(){return ms},get CanvasZoom(){return vs},get Axis(){return bs},get Area(){return ys},get WordCloud(){return ws},get Pie(){return _s},get Gauge(){return xs},get Bar(){return ks},get Boxplot(){return Ss},get Scatter(){return Ms},get Line(){return Es},get Radar(){return Ts},get Tree(){return Os},get Treemap(){return As},get Tooltip(){return Ps},get Threshold(){return Us},get Legend(){return Cs},get CirclePack(){return Bs},get Alluvial(){return Is},get Meter(){return zs},get Heatmap(){return Ls}},Symbol.toStringTag,{value:"Module"})),E=mm,oe;(function(e){e.HTML="html",e.SVG="svg"})(oe||(oe={}));var Jd;(function(e){e.DEFAULT="default",e.G100="g100",e.G90="g90",e.G10="g10"})(Jd||(Jd={}));var ie;(function(e){e.BACKGROUND="background",e.FILL="fill",e.STROKE="stroke",e.TOOLTIP="tooltip"})(ie||(ie={}));var q;(function(e){e.LEFT="left",e.RIGHT="right",e.TOP="top",e.BOTTOM="bottom"})(q||(q={}));var St;(function(e){e.GRAPH_VIEW="graph_view",e.SLIDER_VIEW="slider_view"})(St||(St={}));var Kt;(function(e){e.END_LINE="end_line",e.MID_LINE="mid_line",e.FRONT_LINE="front_line",e.NONE="none"})(Kt||(Kt={}));var He;(function(e){e.VERTICAL="vertical",e.HORIZONTAL="horizontal"})(He||(He={}));var ne;(function(e){e.TIME="time",e.LINEAR="linear",e.LOG="log",e.LABELS="labels",e.LABELS_RATIO="labels-ratio"})(ne||(ne={}));var dn;(function(e){e.RIGHT="right",e.LEFT="left",e.TOP="top",e.BOTTOM="bottom"})(dn||(dn={}));var Ve;(function(e){e.LEFT="left",e.CENTER="center",e.RIGHT="right"})(Ve||(Ve={}));var mn;(function(e){e.HORIZONTAL="horizontal",e.VERTICAL="vertical"})(mn||(mn={}));var ma;(function(e){e.TREE="tree",e.DENDROGRAM="dendrogram"})(ma||(ma={}));var Be;(function(e){e.ROW="row",e.COLUMN="column",e.ROW_REVERSE="row-reverse",e.COLUMN_REVERSE="column-reverse"})(Be||(Be={}));var ge;(function(e){e.FIXED="fixed",e.PREFERRED="preferred",e.STRETCH="stretch"})(ge||(ge={}));var vn;(function(e){e.CENTER="center"})(vn||(vn={}));var Qn;(function(e){e.LEFT="left",e.RIGHT="right"})(Qn||(Qn={}));var Ne;(function(e){e.GRID="grid",e.VERT_OR_HORIZ="vertOrHoriz",e.PIE="pie",e.DONUT="donut"})(Ne||(Ne={}));var Ut;(function(e){e.START="start",e.MIDDLE="middle",e.END="end"})(Ut||(Ut={}));var Ct;(function(e){e.BASELINE="baseline",e.MIDDLE="middle",e.HANGING="hanging"})(Ct||(Ct={}));var Er;(function(e){e.SEMI="semi",e.FULL="full"})(Er||(Er={}));var va;(function(e){e.UP="up",e.DOWN="down"})(va||(va={}));var Jn;(function(e){e.SUCCESS="success",e.WARNING="warning",e.DANGER="danger"})(Jn||(Jn={}));var eo;(function(e){e.ALWAYS="always",e.AUTO="auto",e.NEVER="never"})(eo||(eo={}));var ut;(function(e){e.SCATTER="scatter",e.LINE="line",e.SIMPLE_BAR="simple-bar",e.STACKED_BAR="stacked-bar",e.GROUPED_BAR="grouped-bar",e.AREA="area",e.STACKED_AREA="stacked-area"})(ut||(ut={}));var Ae;(function(e){e.EXPORT_CSV="Export as CSV",e.EXPORT_PNG="Export as PNG",e.EXPORT_JPG="Export as JPG",e.ZOOM_IN="Zoom in",e.ZOOM_OUT="Zoom out",e.RESET_ZOOM="Reset zoom",e.MAKE_FULLSCREEN="Make fullscreen",e.SHOW_AS_DATATABLE="Show as data-table",e.CUSTOM="Custom"})(Ae||(Ae={}));var ba;(function(e){e.LEFT="left",e.RIGHT="right"})(ba||(ba={}));var Fe;(function(e){e.CHECKBOX="checkbox",e.RADIUS="radius",e.AREA="area",e.SIZE="size",e.LINE="line",e.QUARTILE="quartile",e.ZOOM="zoom"})(Fe||(Fe={}));var to;(function(e){e.LINEAR="linear",e.QUANTIZE="quantize"})(to||(to={}));var ln;(function(e){e.ON="on",e.AUTO="auto",e.OFF="off"})(ln||(ln={}));var io;(function(e){e.DEFAULT="default",e.HOVERABLE="hoverable"})(io||(io={}));const vm=e=>+e;function Nu(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var Vo,tt="cds",It={opacity:{unselected:.05,selected:.4}},Yt={ticks:{number:7,rotateIfSmallerThan:30,verticalSpaceRatio:2.5,horizontalSpaceRatio:3.5},ratio:{reference:"value",compareTo:"marker"},paddingRatio:.1,hover:{rectanglePadding:4}},fn={duration:1e3,ease:Nu,zoomLevel:3},kr={circles:{fillOpacity:.3,hover:{stroke:"#FFF"}},padding:{mainGroup:4,children:2},hierarchyLevel:2},Xc={pairingOptions:{"1-color":4,"2-color":5,"3-color":5,"4-color":3,"5-color":2,"14-color":1}},ft={circle:{radius:4,opacity:{hovered:1,default:.3}},box:{opacity:{hovered:.5,default:.3}},strokeWidth:{default:1,thicker:2}},Vu={defaultBins:10},ze={items:{status:{ACTIVE:1,DISABLED:0},horizontalSpace:12,verticalSpace:24,textYOffset:8,spaceAfter:4},checkbox:{radius:6.5},radius:{iconData:[{cx:7,cy:7,r:6.5},{cx:7,cy:10,r:3.5}],fill:null,stroke:"#8c8c8c"},line:{yPosition:6,width:24,strokeWidth:1.4,fill:null,stroke:"#999999"},area:{width:24,height:14,fill:"#6f6f6f",stroke:null},size:{iconData:[{width:23,height:12},{width:13,height:6}],fill:null,stroke:"#8D8D8D"},quartile:{iconData:[{x:0,y:0,width:24,height:13},{x:11,y:4,width:1,height:4}]},zoom:{iconData:[{x:0,y:0,width:12,height:12}],color:"#8D8D8D"},color:{barWidth:300,barHeight:8,axisYTranslation:10}},Bt={opacity:{unselected:.3,selected:1},weight:{selected:2,unselected:1}},Ge={statusBar:{paddingRight:5},status:{indicatorSize:16,paddingLeft:15},total:{paddingLeft:36,paddingRight:24},height:{default:8,proportional:16},dividerWidth:2},Se={radiusOffset:-15,innerRadius:2,padAngle:.007,hoverArc:{outerRadiusOffset:3},xOffset:30,yOffset:20,yOffsetCallout:10,callout:{minSliceDegree:5,offsetX:15,offsetY:12,horizontalLineLength:8,textMargin:2}},lr={opacity:{unselected:.1,selected:.3},xLabelPadding:10,yLabelPadding:8,yTicksNumber:4,minRange:10,xAxisRectHeight:50,dotsRadius:5},yt={nodeWidth:4,nodeHoveredWidth:8,minNodePadding:24,opacity:{unfocus:.3,default:.8,selected:1}},Ds={minCellDividerDimension:16,chartPadding:.5},Rs={default:{size:24}},$u={horizontalOffset:10},Fs={default:{duration:300},pie_slice_mouseover:{duration:100},pie_chart_titles:{duration:375},graph_element_mouseover_fill_update:{duration:100},graph_element_mouseout_fill_update:{duration:100}},bm={buttonSize:32,iconSize:20,height:32,spacerHeight:10,iconPadding:6},at={height:(Vo={},Vo[St.GRAPH_VIEW]=32,Vo[St.SLIDER_VIEW]=10,Vo),spacerHeight:8,handleWidth:5,handleBarWidth:1,handleBarHeight:12},Hu=[{type:Fe.RADIUS,name:"Radius"},{type:Fe.AREA,name:"Poor area"},{type:Fe.AREA,name:"Satisfactory area"},{type:Fe.AREA,name:"Great area"},{type:Fe.QUARTILE,name:"Quartiles"}],ym=typeof global=="object"&&global&&global.Object===Object&&global,Gu=ym,wm=typeof self=="object"&&self&&self.Object===Object&&self,_m=Gu||wm||Function("return this")(),Ot=_m,xm=Ot.Symbol,_t=xm,ju=Object.prototype,km=ju.hasOwnProperty,Sm=ju.toString,In=_t?_t.toStringTag:void 0;function Mm(e){var r=km.call(e,In),t=e[In];try{e[In]=void 0;var n=!0}catch{}var o=Sm.call(e);return n&&(r?e[In]=t:delete e[In]),o}var Em=Object.prototype,Tm=Em.toString;function Om(e){return Tm.call(e)}var Am="[object Null]",Pm="[object Undefined]",el=_t?_t.toStringTag:void 0;function Rr(e){return e==null?e===void 0?Pm:Am:el&&el in Object(e)?Mm(e):Om(e)}function Ft(e){return e!=null&&typeof e=="object"}var Um="[object Symbol]";function Qa(e){return typeof e=="symbol"||Ft(e)&&Rr(e)==Um}function qu(e,r){for(var t=-1,n=e==null?0:e.length,o=Array(n);++t<n;)o[t]=r(e[t],t,e);return o}var Cm=Array.isArray,Xe=Cm,Bm=1/0,tl=_t?_t.prototype:void 0,rl=tl?tl.toString:void 0;function Wu(e){if(typeof e=="string")return e;if(Xe(e))return qu(e,Wu)+"";if(Qa(e))return rl?rl.call(e):"";var r=e+"";return r=="0"&&1/e==-Bm?"-0":r}var Im=/\s/;function zm(e){for(var r=e.length;r--&&Im.test(e.charAt(r)););return r}var Lm=/^\s+/;function Dm(e){return e&&e.slice(0,zm(e)+1).replace(Lm,"")}function xt(e){var r=typeof e;return e!=null&&(r=="object"||r=="function")}var nl=0/0,Rm=/^[-+]0x[0-9a-f]+$/i,Fm=/^0b[01]+$/i,Nm=/^0o[0-7]+$/i,Vm=parseInt;function ro(e){if(typeof e=="number")return e;if(Qa(e))return nl;if(xt(e)){var r=typeof e.valueOf=="function"?e.valueOf():e;e=xt(r)?r+"":r}if(typeof e!="string")return e===0?e:+e;e=Dm(e);var t=Fm.test(e);return t||Nm.test(e)?Vm(e.slice(2),t?2:8):Rm.test(e)?nl:+e}function Zc(e){return e}var $m="[object AsyncFunction]",Hm="[object Function]",Gm="[object GeneratorFunction]",jm="[object Proxy]";function Kc(e){if(!xt(e))return!1;var r=Rr(e);return r==Hm||r==Gm||r==$m||r==jm}var qm=Ot["__core-js_shared__"],Oi=qm,ol=function(){var e=/[^.]+$/.exec(Oi&&Oi.keys&&Oi.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function Wm(e){return!!ol&&ol in e}var Ym=Function.prototype,Xm=Ym.toString;function Fr(e){if(e!=null){try{return Xm.call(e)}catch{}try{return e+""}catch{}}return""}var Zm=/[\\^$.*+?()[\]{}|]/g,Km=/^\[object .+?Constructor\]$/,Qm=Function.prototype,Jm=Object.prototype,ev=Qm.toString,tv=Jm.hasOwnProperty,rv=RegExp("^"+ev.call(tv).replace(Zm,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function nv(e){if(!xt(e)||Wm(e))return!1;var r=Kc(e)?rv:Km;return r.test(Fr(e))}function ov(e,r){return e==null?void 0:e[r]}function Nr(e,r){var t=ov(e,r);return nv(t)?t:void 0}var av=Nr(Ot,"WeakMap"),Ns=av,al=Object.create,iv=function(){function e(){}return function(r){if(!xt(r))return{};if(al)return al(r);e.prototype=r;var t=new e;return e.prototype=void 0,t}}(),sv=iv;function cv(e,r,t){switch(t.length){case 0:return e.call(r);case 1:return e.call(r,t[0]);case 2:return e.call(r,t[0],t[1]);case 3:return e.call(r,t[0],t[1],t[2])}return e.apply(r,t)}function dv(){}function Yu(e,r){var t=-1,n=e.length;for(r||(r=Array(n));++t<n;)r[t]=e[t];return r}var lv=800,fv=16,uv=Date.now;function pv(e){var r=0,t=0;return function(){var n=uv(),o=fv-(n-t);if(t=n,o>0){if(++r>=lv)return arguments[0]}else r=0;return e.apply(void 0,arguments)}}function hv(e){return function(){return e}}var gv=function(){try{var e=Nr(Object,"defineProperty");return e({},"",{}),e}catch{}}(),ya=gv,mv=ya?function(e,r){return ya(e,"toString",{configurable:!0,enumerable:!1,value:hv(r),writable:!0})}:Zc,vv=mv,bv=pv(vv),yv=bv;function wv(e,r){for(var t=-1,n=e==null?0:e.length;++t<n&&r(e[t],t,e)!==!1;);return e}function _v(e,r,t,n){for(var o=e.length,a=t+(n?1:-1);n?a--:++a<o;)if(r(e[a],a,e))return a;return-1}function xv(e){return e!==e}function kv(e,r,t){for(var n=t-1,o=e.length;++n<o;)if(e[n]===r)return n;return-1}function Sv(e,r,t){return r===r?kv(e,r,t):_v(e,xv,t)}function Mv(e,r){var t=e==null?0:e.length;return!!t&&Sv(e,r,0)>-1}var Ev=9007199254740991,Tv=/^(?:0|[1-9]\d*)$/;function Qc(e,r){var t=typeof e;return r=r==null?Ev:r,!!r&&(t=="number"||t!="symbol"&&Tv.test(e))&&e>-1&&e%1==0&&e<r}function Ja(e,r,t){r=="__proto__"&&ya?ya(e,r,{configurable:!0,enumerable:!0,value:t,writable:!0}):e[r]=t}function _o(e,r){return e===r||e!==e&&r!==r}var Ov=Object.prototype,Av=Ov.hasOwnProperty;function Xu(e,r,t){var n=e[r];(!(Av.call(e,r)&&_o(n,t))||t===void 0&&!(r in e))&&Ja(e,r,t)}function xo(e,r,t,n){var o=!t;t||(t={});for(var a=-1,i=r.length;++a<i;){var s=r[a],c=n?n(t[s],e[s],s,t,e):void 0;c===void 0&&(c=e[s]),o?Ja(t,s,c):Xu(t,s,c)}return t}var il=Math.max;function Pv(e,r,t){return r=il(r===void 0?e.length-1:r,0),function(){for(var n=arguments,o=-1,a=il(n.length-r,0),i=Array(a);++o<a;)i[o]=n[r+o];o=-1;for(var s=Array(r+1);++o<r;)s[o]=n[o];return s[r]=t(i),cv(e,this,s)}}function Zu(e,r){return yv(Pv(e,r,Zc),e+"")}var Uv=9007199254740991;function Jc(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=Uv}function Vr(e){return e!=null&&Jc(e.length)&&!Kc(e)}function Ku(e,r,t){if(!xt(t))return!1;var n=typeof r;return(n=="number"?Vr(t)&&Qc(r,t.length):n=="string"&&r in t)?_o(t[r],e):!1}function Cv(e){return Zu(function(r,t){var n=-1,o=t.length,a=o>1?t[o-1]:void 0,i=o>2?t[2]:void 0;for(a=e.length>3&&typeof a=="function"?(o--,a):void 0,i&&Ku(t[0],t[1],i)&&(a=o<3?void 0:a,o=1),r=Object(r);++n<o;){var s=t[n];s&&e(r,s,n,a)}return r})}var Bv=Object.prototype;function ei(e){var r=e&&e.constructor,t=typeof r=="function"&&r.prototype||Bv;return e===t}function Iv(e,r){for(var t=-1,n=Array(e);++t<e;)n[t]=r(t);return n}var zv="[object Arguments]";function sl(e){return Ft(e)&&Rr(e)==zv}var Qu=Object.prototype,Lv=Qu.hasOwnProperty,Dv=Qu.propertyIsEnumerable,Rv=sl(function(){return arguments}())?sl:function(e){return Ft(e)&&Lv.call(e,"callee")&&!Dv.call(e,"callee")},bn=Rv;function Fv(){return!1}var Ju=typeof ht=="object"&&ht&&!ht.nodeType&&ht,cl=Ju&&typeof gt=="object"&&gt&&!gt.nodeType&&gt,Nv=cl&&cl.exports===Ju,dl=Nv?Ot.Buffer:void 0,Vv=dl?dl.isBuffer:void 0,$v=Vv||Fv,yn=$v,Hv="[object Arguments]",Gv="[object Array]",jv="[object Boolean]",qv="[object Date]",Wv="[object Error]",Yv="[object Function]",Xv="[object Map]",Zv="[object Number]",Kv="[object Object]",Qv="[object RegExp]",Jv="[object Set]",e0="[object String]",t0="[object WeakMap]",r0="[object ArrayBuffer]",n0="[object DataView]",o0="[object Float32Array]",a0="[object Float64Array]",i0="[object Int8Array]",s0="[object Int16Array]",c0="[object Int32Array]",d0="[object Uint8Array]",l0="[object Uint8ClampedArray]",f0="[object Uint16Array]",u0="[object Uint32Array]",Oe={};Oe[o0]=Oe[a0]=Oe[i0]=Oe[s0]=Oe[c0]=Oe[d0]=Oe[l0]=Oe[f0]=Oe[u0]=!0;Oe[Hv]=Oe[Gv]=Oe[r0]=Oe[jv]=Oe[n0]=Oe[qv]=Oe[Wv]=Oe[Yv]=Oe[Xv]=Oe[Zv]=Oe[Kv]=Oe[Qv]=Oe[Jv]=Oe[e0]=Oe[t0]=!1;function p0(e){return Ft(e)&&Jc(e.length)&&!!Oe[Rr(e)]}function ed(e){return function(r){return e(r)}}var ep=typeof ht=="object"&&ht&&!ht.nodeType&&ht,no=ep&&typeof gt=="object"&&gt&&!gt.nodeType&&gt,h0=no&&no.exports===ep,Ai=h0&&Gu.process,g0=function(){try{var e=no&&no.require&&no.require("util").types;return e||Ai&&Ai.binding&&Ai.binding("util")}catch{}}(),wn=g0,ll=wn&&wn.isTypedArray,m0=ll?ed(ll):p0,ti=m0,v0=Object.prototype,b0=v0.hasOwnProperty;function tp(e,r){var t=Xe(e),n=!t&&bn(e),o=!t&&!n&&yn(e),a=!t&&!n&&!o&&ti(e),i=t||n||o||a,s=i?Iv(e.length,String):[],c=s.length;for(var d in e)(r||b0.call(e,d))&&!(i&&(d=="length"||o&&(d=="offset"||d=="parent")||a&&(d=="buffer"||d=="byteLength"||d=="byteOffset")||Qc(d,c)))&&s.push(d);return s}function rp(e,r){return function(t){return e(r(t))}}var y0=rp(Object.keys,Object),w0=y0,_0=Object.prototype,x0=_0.hasOwnProperty;function np(e){if(!ei(e))return w0(e);var r=[];for(var t in Object(e))x0.call(e,t)&&t!="constructor"&&r.push(t);return r}function ko(e){return Vr(e)?tp(e):np(e)}function k0(e){var r=[];if(e!=null)for(var t in Object(e))r.push(t);return r}var S0=Object.prototype,M0=S0.hasOwnProperty;function E0(e){if(!xt(e))return k0(e);var r=ei(e),t=[];for(var n in e)n=="constructor"&&(r||!M0.call(e,n))||t.push(n);return t}function So(e){return Vr(e)?tp(e,!0):E0(e)}var T0=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,O0=/^\w*$/;function td(e,r){if(Xe(e))return!1;var t=typeof e;return t=="number"||t=="symbol"||t=="boolean"||e==null||Qa(e)?!0:O0.test(e)||!T0.test(e)||r!=null&&e in Object(r)}var A0=Nr(Object,"create"),so=A0;function P0(){this.__data__=so?so(null):{},this.size=0}function U0(e){var r=this.has(e)&&delete this.__data__[e];return this.size-=r?1:0,r}var C0="__lodash_hash_undefined__",B0=Object.prototype,I0=B0.hasOwnProperty;function z0(e){var r=this.__data__;if(so){var t=r[e];return t===C0?void 0:t}return I0.call(r,e)?r[e]:void 0}var L0=Object.prototype,D0=L0.hasOwnProperty;function R0(e){var r=this.__data__;return so?r[e]!==void 0:D0.call(r,e)}var F0="__lodash_hash_undefined__";function N0(e,r){var t=this.__data__;return this.size+=this.has(e)?0:1,t[e]=so&&r===void 0?F0:r,this}function Pr(e){var r=-1,t=e==null?0:e.length;for(this.clear();++r<t;){var n=e[r];this.set(n[0],n[1])}}Pr.prototype.clear=P0;Pr.prototype.delete=U0;Pr.prototype.get=z0;Pr.prototype.has=R0;Pr.prototype.set=N0;function V0(){this.__data__=[],this.size=0}function ri(e,r){for(var t=e.length;t--;)if(_o(e[t][0],r))return t;return-1}var $0=Array.prototype,H0=$0.splice;function G0(e){var r=this.__data__,t=ri(r,e);if(t<0)return!1;var n=r.length-1;return t==n?r.pop():H0.call(r,t,1),--this.size,!0}function j0(e){var r=this.__data__,t=ri(r,e);return t<0?void 0:r[t][1]}function q0(e){return ri(this.__data__,e)>-1}function W0(e,r){var t=this.__data__,n=ri(t,e);return n<0?(++this.size,t.push([e,r])):t[n][1]=r,this}function er(e){var r=-1,t=e==null?0:e.length;for(this.clear();++r<t;){var n=e[r];this.set(n[0],n[1])}}er.prototype.clear=V0;er.prototype.delete=G0;er.prototype.get=j0;er.prototype.has=q0;er.prototype.set=W0;var Y0=Nr(Ot,"Map"),co=Y0;function X0(){this.size=0,this.__data__={hash:new Pr,map:new(co||er),string:new Pr}}function Z0(e){var r=typeof e;return r=="string"||r=="number"||r=="symbol"||r=="boolean"?e!=="__proto__":e===null}function ni(e,r){var t=e.__data__;return Z0(r)?t[typeof r=="string"?"string":"hash"]:t.map}function K0(e){var r=ni(this,e).delete(e);return this.size-=r?1:0,r}function Q0(e){return ni(this,e).get(e)}function J0(e){return ni(this,e).has(e)}function eb(e,r){var t=ni(this,e),n=t.size;return t.set(e,r),this.size+=t.size==n?0:1,this}function tr(e){var r=-1,t=e==null?0:e.length;for(this.clear();++r<t;){var n=e[r];this.set(n[0],n[1])}}tr.prototype.clear=X0;tr.prototype.delete=K0;tr.prototype.get=Q0;tr.prototype.has=J0;tr.prototype.set=eb;var tb="Expected a function";function rd(e,r){if(typeof e!="function"||r!=null&&typeof r!="function")throw new TypeError(tb);var t=function(){var n=arguments,o=r?r.apply(this,n):n[0],a=t.cache;if(a.has(o))return a.get(o);var i=e.apply(this,n);return t.cache=a.set(o,i)||a,i};return t.cache=new(rd.Cache||tr),t}rd.Cache=tr;var rb=500;function nb(e){var r=rd(e,function(n){return t.size===rb&&t.clear(),n}),t=r.cache;return r}var ob=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,ab=/\\(\\)?/g,ib=nb(function(e){var r=[];return e.charCodeAt(0)===46&&r.push(""),e.replace(ob,function(t,n,o,a){r.push(o?a.replace(ab,"$1"):n||t)}),r}),sb=ib;function Mo(e){return e==null?"":Wu(e)}function op(e,r){return Xe(e)?e:td(e,r)?[e]:sb(Mo(e))}var cb=1/0;function oi(e){if(typeof e=="string"||Qa(e))return e;var r=e+"";return r=="0"&&1/e==-cb?"-0":r}function ap(e,r){r=op(r,e);for(var t=0,n=r.length;e!=null&&t<n;)e=e[oi(r[t++])];return t&&t==n?e:void 0}function Te(e,r,t){var n=e==null?void 0:ap(e,r);return n===void 0?t:n}function nd(e,r){for(var t=-1,n=r.length,o=e.length;++t<n;)e[o+t]=r[t];return e}var fl=_t?_t.isConcatSpreadable:void 0;function db(e){return Xe(e)||bn(e)||!!(fl&&e&&e[fl])}function ai(e,r,t,n,o){var a=-1,i=e.length;for(t||(t=db),o||(o=[]);++a<i;){var s=e[a];r>0&&t(s)?r>1?ai(s,r-1,t,n,o):nd(o,s):n||(o[o.length]=s)}return o}function lb(e){var r=e==null?0:e.length;return r?ai(e,1):[]}var fb=rp(Object.getPrototypeOf,Object),od=fb,ub="[object Object]",pb=Function.prototype,hb=Object.prototype,ip=pb.toString,gb=hb.hasOwnProperty,mb=ip.call(Object);function vb(e){if(!Ft(e)||Rr(e)!=ub)return!1;var r=od(e);if(r===null)return!0;var t=gb.call(r,"constructor")&&r.constructor;return typeof t=="function"&&t instanceof t&&ip.call(t)==mb}function bb(e,r,t){var n=-1,o=e.length;r<0&&(r=-r>o?0:o+r),t=t>o?o:t,t<0&&(t+=o),o=r>t?0:t-r>>>0,r>>>=0;for(var a=Array(o);++n<o;)a[n]=e[n+r];return a}function yb(e,r,t){var n=e.length;return t=t===void 0?n:t,!r&&t>=n?e:bb(e,r,t)}var wb="\\ud800-\\udfff",_b="\\u0300-\\u036f",xb="\\ufe20-\\ufe2f",kb="\\u20d0-\\u20ff",Sb=_b+xb+kb,Mb="\\ufe0e\\ufe0f",Eb="\\u200d",Tb=RegExp("["+Eb+wb+Sb+Mb+"]");function sp(e){return Tb.test(e)}function Ob(e){return e.split("")}var cp="\\ud800-\\udfff",Ab="\\u0300-\\u036f",Pb="\\ufe20-\\ufe2f",Ub="\\u20d0-\\u20ff",Cb=Ab+Pb+Ub,Bb="\\ufe0e\\ufe0f",Ib="["+cp+"]",Vs="["+Cb+"]",$s="\\ud83c[\\udffb-\\udfff]",zb="(?:"+Vs+"|"+$s+")",dp="[^"+cp+"]",lp="(?:\\ud83c[\\udde6-\\uddff]){2}",fp="[\\ud800-\\udbff][\\udc00-\\udfff]",Lb="\\u200d",up=zb+"?",pp="["+Bb+"]?",Db="(?:"+Lb+"(?:"+[dp,lp,fp].join("|")+")"+pp+up+")*",Rb=pp+up+Db,Fb="(?:"+[dp+Vs+"?",Vs,lp,fp,Ib].join("|")+")",Nb=RegExp($s+"(?="+$s+")|"+Fb+Rb,"g");function Vb(e){return e.match(Nb)||[]}function $b(e){return sp(e)?Vb(e):Ob(e)}function Hb(e){return function(r){r=Mo(r);var t=sp(r)?$b(r):void 0,n=t?t[0]:r.charAt(0),o=t?yb(t,1).join(""):r.slice(1);return n[e]()+o}}var Gb=Hb("toUpperCase"),jb=Gb;function qb(e){return jb(Mo(e).toLowerCase())}function Wb(e,r,t,n){var o=-1,a=e==null?0:e.length;for(n&&a&&(t=e[++o]);++o<a;)t=r(t,e[o],o,e);return t}function Yb(e){return function(r){return e==null?void 0:e[r]}}var Xb={\u00C0:"A",\u00C1:"A",\u00C2:"A",\u00C3:"A",\u00C4:"A",\u00C5:"A",\u00E0:"a",\u00E1:"a",\u00E2:"a",\u00E3:"a",\u00E4:"a",\u00E5:"a",\u00C7:"C",\u00E7:"c",\u00D0:"D",\u00F0:"d",\u00C8:"E",\u00C9:"E",\u00CA:"E",\u00CB:"E",\u00E8:"e",\u00E9:"e",\u00EA:"e",\u00EB:"e",\u00CC:"I",\u00CD:"I",\u00CE:"I",\u00CF:"I",\u00EC:"i",\u00ED:"i",\u00EE:"i",\u00EF:"i",\u00D1:"N",\u00F1:"n",\u00D2:"O",\u00D3:"O",\u00D4:"O",\u00D5:"O",\u00D6:"O",\u00D8:"O",\u00F2:"o",\u00F3:"o",\u00F4:"o",\u00F5:"o",\u00F6:"o",\u00F8:"o",\u00D9:"U",\u00DA:"U",\u00DB:"U",\u00DC:"U",\u00F9:"u",\u00FA:"u",\u00FB:"u",\u00FC:"u",\u00DD:"Y",\u00FD:"y",\u00FF:"y",\u00C6:"Ae",\u00E6:"ae",\u00DE:"Th",\u00FE:"th",\u00DF:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010A:"C",\u010C:"C",\u0107:"c",\u0109:"c",\u010B:"c",\u010D:"c",\u010E:"D",\u0110:"D",\u010F:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011A:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011B:"e",\u011C:"G",\u011E:"G",\u0120:"G",\u0122:"G",\u011D:"g",\u011F:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012A:"I",\u012C:"I",\u012E:"I",\u0130:"I",\u0129:"i",\u012B:"i",\u012D:"i",\u012F:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013B:"L",\u013D:"L",\u013F:"L",\u0141:"L",\u013A:"l",\u013C:"l",\u013E:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014A:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014B:"n",\u014C:"O",\u014E:"O",\u0150:"O",\u014D:"o",\u014F:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015A:"S",\u015C:"S",\u015E:"S",\u0160:"S",\u015B:"s",\u015D:"s",\u015F:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016A:"U",\u016C:"U",\u016E:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016B:"u",\u016D:"u",\u016F:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017B:"Z",\u017D:"Z",\u017A:"z",\u017C:"z",\u017E:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017F:"s"},Zb=Yb(Xb),Kb=Zb,Qb=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Jb="\\u0300-\\u036f",e1="\\ufe20-\\ufe2f",t1="\\u20d0-\\u20ff",r1=Jb+e1+t1,n1="["+r1+"]",o1=RegExp(n1,"g");function a1(e){return e=Mo(e),e&&e.replace(Qb,Kb).replace(o1,"")}var i1=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g;function s1(e){return e.match(i1)||[]}var c1=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;function d1(e){return c1.test(e)}var hp="\\ud800-\\udfff",l1="\\u0300-\\u036f",f1="\\ufe20-\\ufe2f",u1="\\u20d0-\\u20ff",p1=l1+f1+u1,gp="\\u2700-\\u27bf",mp="a-z\\xdf-\\xf6\\xf8-\\xff",h1="\\xac\\xb1\\xd7\\xf7",g1="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",m1="\\u2000-\\u206f",v1=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",vp="A-Z\\xc0-\\xd6\\xd8-\\xde",b1="\\ufe0e\\ufe0f",bp=h1+g1+m1+v1,yp="['\u2019]",ul="["+bp+"]",y1="["+p1+"]",wp="\\d+",w1="["+gp+"]",_p="["+mp+"]",xp="[^"+hp+bp+wp+gp+mp+vp+"]",_1="\\ud83c[\\udffb-\\udfff]",x1="(?:"+y1+"|"+_1+")",k1="[^"+hp+"]",kp="(?:\\ud83c[\\udde6-\\uddff]){2}",Sp="[\\ud800-\\udbff][\\udc00-\\udfff]",tn="["+vp+"]",S1="\\u200d",pl="(?:"+_p+"|"+xp+")",M1="(?:"+tn+"|"+xp+")",hl="(?:"+yp+"(?:d|ll|m|re|s|t|ve))?",gl="(?:"+yp+"(?:D|LL|M|RE|S|T|VE))?",Mp=x1+"?",Ep="["+b1+"]?",E1="(?:"+S1+"(?:"+[k1,kp,Sp].join("|")+")"+Ep+Mp+")*",T1="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",O1="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",A1=Ep+Mp+E1,P1="(?:"+[w1,kp,Sp].join("|")+")"+A1,U1=RegExp([tn+"?"+_p+"+"+hl+"(?="+[ul,tn,"$"].join("|")+")",M1+"+"+gl+"(?="+[ul,tn+pl,"$"].join("|")+")",tn+"?"+pl+"+"+hl,tn+"+"+gl,O1,T1,wp,P1].join("|"),"g");function C1(e){return e.match(U1)||[]}function B1(e,r,t){return e=Mo(e),r=t?void 0:r,r===void 0?d1(e)?C1(e):s1(e):e.match(r)||[]}var I1="['\u2019]",z1=RegExp(I1,"g");function Tp(e){return function(r){return Wb(B1(a1(r).replace(z1,"")),e,"")}}var L1=Tp(function(e,r,t){return r=r.toLowerCase(),e+(t?qb(r):r)}),D1=L1;function R1(e,r,t){return e===e&&(t!==void 0&&(e=e<=t?e:t),r!==void 0&&(e=e>=r?e:r)),e}function F1(e,r,t){return t===void 0&&(t=r,r=void 0),t!==void 0&&(t=ro(t),t=t===t?t:0),r!==void 0&&(r=ro(r),r=r===r?r:0),R1(ro(e),r,t)}function N1(){this.__data__=new er,this.size=0}function V1(e){var r=this.__data__,t=r.delete(e);return this.size=r.size,t}function $1(e){return this.__data__.get(e)}function H1(e){return this.__data__.has(e)}var G1=200;function j1(e,r){var t=this.__data__;if(t instanceof er){var n=t.__data__;if(!co||n.length<G1-1)return n.push([e,r]),this.size=++t.size,this;t=this.__data__=new tr(n)}return t.set(e,r),this.size=t.size,this}function Et(e){var r=this.__data__=new er(e);this.size=r.size}Et.prototype.clear=N1;Et.prototype.delete=V1;Et.prototype.get=$1;Et.prototype.has=H1;Et.prototype.set=j1;function q1(e,r){return e&&xo(r,ko(r),e)}function W1(e,r){return e&&xo(r,So(r),e)}var Op=typeof ht=="object"&&ht&&!ht.nodeType&&ht,ml=Op&&typeof gt=="object"&&gt&&!gt.nodeType&&gt,Y1=ml&&ml.exports===Op,vl=Y1?Ot.Buffer:void 0,bl=vl?vl.allocUnsafe:void 0;function Ap(e,r){if(r)return e.slice();var t=e.length,n=bl?bl(t):new e.constructor(t);return e.copy(n),n}function X1(e,r){for(var t=-1,n=e==null?0:e.length,o=0,a=[];++t<n;){var i=e[t];r(i,t,e)&&(a[o++]=i)}return a}function Pp(){return[]}var Z1=Object.prototype,K1=Z1.propertyIsEnumerable,yl=Object.getOwnPropertySymbols,Q1=yl?function(e){return e==null?[]:(e=Object(e),X1(yl(e),function(r){return K1.call(e,r)}))}:Pp,ad=Q1;function J1(e,r){return xo(e,ad(e),r)}var e2=Object.getOwnPropertySymbols,t2=e2?function(e){for(var r=[];e;)nd(r,ad(e)),e=od(e);return r}:Pp,Up=t2;function r2(e,r){return xo(e,Up(e),r)}function Cp(e,r,t){var n=r(e);return Xe(e)?n:nd(n,t(e))}function Hs(e){return Cp(e,ko,ad)}function n2(e){return Cp(e,So,Up)}var o2=Nr(Ot,"DataView"),Gs=o2,a2=Nr(Ot,"Promise"),js=a2,i2=Nr(Ot,"Set"),un=i2,wl="[object Map]",s2="[object Object]",_l="[object Promise]",xl="[object Set]",kl="[object WeakMap]",Sl="[object DataView]",c2=Fr(Gs),d2=Fr(co),l2=Fr(js),f2=Fr(un),u2=Fr(Ns),yr=Rr;(Gs&&yr(new Gs(new ArrayBuffer(1)))!=Sl||co&&yr(new co)!=wl||js&&yr(js.resolve())!=_l||un&&yr(new un)!=xl||Ns&&yr(new Ns)!=kl)&&(yr=function(e){var r=Rr(e),t=r==s2?e.constructor:void 0,n=t?Fr(t):"";if(n)switch(n){case c2:return Sl;case d2:return wl;case l2:return _l;case f2:return xl;case u2:return kl}return r});var _n=yr,p2=Object.prototype,h2=p2.hasOwnProperty;function g2(e){var r=e.length,t=new e.constructor(r);return r&&typeof e[0]=="string"&&h2.call(e,"index")&&(t.index=e.index,t.input=e.input),t}var m2=Ot.Uint8Array,wa=m2;function id(e){var r=new e.constructor(e.byteLength);return new wa(r).set(new wa(e)),r}function v2(e,r){var t=r?id(e.buffer):e.buffer;return new e.constructor(t,e.byteOffset,e.byteLength)}var b2=/\w*$/;function y2(e){var r=new e.constructor(e.source,b2.exec(e));return r.lastIndex=e.lastIndex,r}var Ml=_t?_t.prototype:void 0,El=Ml?Ml.valueOf:void 0;function w2(e){return El?Object(El.call(e)):{}}function Bp(e,r){var t=r?id(e.buffer):e.buffer;return new e.constructor(t,e.byteOffset,e.length)}var _2="[object Boolean]",x2="[object Date]",k2="[object Map]",S2="[object Number]",M2="[object RegExp]",E2="[object Set]",T2="[object String]",O2="[object Symbol]",A2="[object ArrayBuffer]",P2="[object DataView]",U2="[object Float32Array]",C2="[object Float64Array]",B2="[object Int8Array]",I2="[object Int16Array]",z2="[object Int32Array]",L2="[object Uint8Array]",D2="[object Uint8ClampedArray]",R2="[object Uint16Array]",F2="[object Uint32Array]";function N2(e,r,t){var n=e.constructor;switch(r){case A2:return id(e);case _2:case x2:return new n(+e);case P2:return v2(e,t);case U2:case C2:case B2:case I2:case z2:case L2:case D2:case R2:case F2:return Bp(e,t);case k2:return new n;case S2:case T2:return new n(e);case M2:return y2(e);case E2:return new n;case O2:return w2(e)}}function Ip(e){return typeof e.constructor=="function"&&!ei(e)?sv(od(e)):{}}var V2="[object Map]";function $2(e){return Ft(e)&&_n(e)==V2}var Tl=wn&&wn.isMap,H2=Tl?ed(Tl):$2,G2=H2,j2="[object Set]";function q2(e){return Ft(e)&&_n(e)==j2}var Ol=wn&&wn.isSet,W2=Ol?ed(Ol):q2,Y2=W2,X2=1,Z2=2,K2=4,zp="[object Arguments]",Q2="[object Array]",J2="[object Boolean]",ey="[object Date]",ty="[object Error]",Lp="[object Function]",ry="[object GeneratorFunction]",ny="[object Map]",oy="[object Number]",Dp="[object Object]",ay="[object RegExp]",iy="[object Set]",sy="[object String]",cy="[object Symbol]",dy="[object WeakMap]",ly="[object ArrayBuffer]",fy="[object DataView]",uy="[object Float32Array]",py="[object Float64Array]",hy="[object Int8Array]",gy="[object Int16Array]",my="[object Int32Array]",vy="[object Uint8Array]",by="[object Uint8ClampedArray]",yy="[object Uint16Array]",wy="[object Uint32Array]",Ee={};Ee[zp]=Ee[Q2]=Ee[ly]=Ee[fy]=Ee[J2]=Ee[ey]=Ee[uy]=Ee[py]=Ee[hy]=Ee[gy]=Ee[my]=Ee[ny]=Ee[oy]=Ee[Dp]=Ee[ay]=Ee[iy]=Ee[sy]=Ee[cy]=Ee[vy]=Ee[by]=Ee[yy]=Ee[wy]=!0;Ee[ty]=Ee[Lp]=Ee[dy]=!1;function na(e,r,t,n,o,a){var i,s=r&X2,c=r&Z2,d=r&K2;if(t&&(i=o?t(e,n,o,a):t(e)),i!==void 0)return i;if(!xt(e))return e;var l=Xe(e);if(l){if(i=g2(e),!s)return Yu(e,i)}else{var f=_n(e),u=f==Lp||f==ry;if(yn(e))return Ap(e,s);if(f==Dp||f==zp||u&&!o){if(i=c||u?{}:Ip(e),!s)return c?r2(e,W1(i,e)):J1(e,q1(i,e))}else{if(!Ee[f])return o?e:{};i=N2(e,f,s)}}a||(a=new Et);var h=a.get(e);if(h)return h;a.set(e,i),Y2(e)?e.forEach(function(b){i.add(na(b,r,t,b,e,a))}):G2(e)&&e.forEach(function(b,y){i.set(y,na(b,r,t,y,e,a))});var p=d?c?n2:Hs:c?So:ko,m=l?void 0:p(e);return wv(m||e,function(b,y){m&&(y=b,b=e[y]),Xu(i,y,na(b,r,t,y,e,a))}),i}var _y=1,xy=4;function ky(e){return na(e,_y|xy)}var Sy="__lodash_hash_undefined__";function My(e){return this.__data__.set(e,Sy),this}function Ey(e){return this.__data__.has(e)}function lo(e){var r=-1,t=e==null?0:e.length;for(this.__data__=new tr;++r<t;)this.add(e[r])}lo.prototype.add=lo.prototype.push=My;lo.prototype.has=Ey;function Rp(e,r){for(var t=-1,n=e==null?0:e.length;++t<n;)if(r(e[t],t,e))return!0;return!1}function Fp(e,r){return e.has(r)}var Ty=1,Oy=2;function Np(e,r,t,n,o,a){var i=t&Ty,s=e.length,c=r.length;if(s!=c&&!(i&&c>s))return!1;var d=a.get(e),l=a.get(r);if(d&&l)return d==r&&l==e;var f=-1,u=!0,h=t&Oy?new lo:void 0;for(a.set(e,r),a.set(r,e);++f<s;){var p=e[f],m=r[f];if(n)var b=i?n(m,p,f,r,e,a):n(p,m,f,e,r,a);if(b!==void 0){if(b)continue;u=!1;break}if(h){if(!Rp(r,function(y,g){if(!Fp(h,g)&&(p===y||o(p,y,t,n,a)))return h.push(g)})){u=!1;break}}else if(!(p===m||o(p,m,t,n,a))){u=!1;break}}return a.delete(e),a.delete(r),u}function Ay(e){var r=-1,t=Array(e.size);return e.forEach(function(n,o){t[++r]=[o,n]}),t}function sd(e){var r=-1,t=Array(e.size);return e.forEach(function(n){t[++r]=n}),t}var Py=1,Uy=2,Cy="[object Boolean]",By="[object Date]",Iy="[object Error]",zy="[object Map]",Ly="[object Number]",Dy="[object RegExp]",Ry="[object Set]",Fy="[object String]",Ny="[object Symbol]",Vy="[object ArrayBuffer]",$y="[object DataView]",Al=_t?_t.prototype:void 0,Pi=Al?Al.valueOf:void 0;function Hy(e,r,t,n,o,a,i){switch(t){case $y:if(e.byteLength!=r.byteLength||e.byteOffset!=r.byteOffset)return!1;e=e.buffer,r=r.buffer;case Vy:return!(e.byteLength!=r.byteLength||!a(new wa(e),new wa(r)));case Cy:case By:case Ly:return _o(+e,+r);case Iy:return e.name==r.name&&e.message==r.message;case Dy:case Fy:return e==r+"";case zy:var s=Ay;case Ry:var c=n&Py;if(s||(s=sd),e.size!=r.size&&!c)return!1;var d=i.get(e);if(d)return d==r;n|=Uy,i.set(e,r);var l=Np(s(e),s(r),n,o,a,i);return i.delete(e),l;case Ny:if(Pi)return Pi.call(e)==Pi.call(r)}return!1}var Gy=1,jy=Object.prototype,qy=jy.hasOwnProperty;function Wy(e,r,t,n,o,a){var i=t&Gy,s=Hs(e),c=s.length,d=Hs(r),l=d.length;if(c!=l&&!i)return!1;for(var f=c;f--;){var u=s[f];if(!(i?u in r:qy.call(r,u)))return!1}var h=a.get(e),p=a.get(r);if(h&&p)return h==r&&p==e;var m=!0;a.set(e,r),a.set(r,e);for(var b=i;++f<c;){u=s[f];var y=e[u],g=r[u];if(n)var w=i?n(g,y,u,r,e,a):n(y,g,u,e,r,a);if(!(w===void 0?y===g||o(y,g,t,n,a):w)){m=!1;break}b||(b=u=="constructor")}if(m&&!b){var k=e.constructor,_=r.constructor;k!=_&&"constructor"in e&&"constructor"in r&&!(typeof k=="function"&&k instanceof k&&typeof _=="function"&&_ instanceof _)&&(m=!1)}return a.delete(e),a.delete(r),m}var Yy=1,Pl="[object Arguments]",Ul="[object Array]",$o="[object Object]",Xy=Object.prototype,Cl=Xy.hasOwnProperty;function Zy(e,r,t,n,o,a){var i=Xe(e),s=Xe(r),c=i?Ul:_n(e),d=s?Ul:_n(r);c=c==Pl?$o:c,d=d==Pl?$o:d;var l=c==$o,f=d==$o,u=c==d;if(u&&yn(e)){if(!yn(r))return!1;i=!0,l=!1}if(u&&!l)return a||(a=new Et),i||ti(e)?Np(e,r,t,n,o,a):Hy(e,r,c,t,n,o,a);if(!(t&Yy)){var h=l&&Cl.call(e,"__wrapped__"),p=f&&Cl.call(r,"__wrapped__");if(h||p){var m=h?e.value():e,b=p?r.value():r;return a||(a=new Et),o(m,b,t,n,a)}}return u?(a||(a=new Et),Wy(e,r,t,n,o,a)):!1}function ii(e,r,t,n,o){return e===r?!0:e==null||r==null||!Ft(e)&&!Ft(r)?e!==e&&r!==r:Zy(e,r,t,n,ii,o)}var Ky=1,Qy=2;function Jy(e,r,t,n){var o=t.length,a=o,i=!n;if(e==null)return!a;for(e=Object(e);o--;){var s=t[o];if(i&&s[2]?s[1]!==e[s[0]]:!(s[0]in e))return!1}for(;++o<a;){s=t[o];var c=s[0],d=e[c],l=s[1];if(i&&s[2]){if(d===void 0&&!(c in e))return!1}else{var f=new Et;if(n)var u=n(d,l,c,e,r,f);if(!(u===void 0?ii(l,d,Ky|Qy,n,f):u))return!1}}return!0}function Vp(e){return e===e&&!xt(e)}function ew(e){for(var r=ko(e),t=r.length;t--;){var n=r[t],o=e[n];r[t]=[n,o,Vp(o)]}return r}function $p(e,r){return function(t){return t==null?!1:t[e]===r&&(r!==void 0||e in Object(t))}}function tw(e){var r=ew(e);return r.length==1&&r[0][2]?$p(r[0][0],r[0][1]):function(t){return t===e||Jy(t,e,r)}}function rw(e,r){return e!=null&&r in Object(e)}function nw(e,r,t){r=op(r,e);for(var n=-1,o=r.length,a=!1;++n<o;){var i=oi(r[n]);if(!(a=e!=null&&t(e,i)))break;e=e[i]}return a||++n!=o?a:(o=e==null?0:e.length,!!o&&Jc(o)&&Qc(i,o)&&(Xe(e)||bn(e)))}function ow(e,r){return e!=null&&nw(e,r,rw)}var aw=1,iw=2;function sw(e,r){return td(e)&&Vp(r)?$p(oi(e),r):function(t){var n=Te(t,e);return n===void 0&&n===r?ow(t,e):ii(r,n,aw|iw)}}function cw(e){return function(r){return r==null?void 0:r[e]}}function dw(e){return function(r){return ap(r,e)}}function lw(e){return td(e)?cw(oi(e)):dw(e)}function si(e){return typeof e=="function"?e:e==null?Zc:typeof e=="object"?Xe(e)?sw(e[0],e[1]):tw(e):lw(e)}function fw(e,r,t,n){for(var o=-1,a=e==null?0:e.length;++o<a;){var i=e[o];r(n,i,t(i),e)}return n}function uw(e){return function(r,t,n){for(var o=-1,a=Object(r),i=n(r),s=i.length;s--;){var c=i[e?s:++o];if(t(a[c],c,a)===!1)break}return r}}var pw=uw(),Hp=pw;function hw(e,r){return e&&Hp(e,r,ko)}function gw(e,r){return function(t,n){if(t==null)return t;if(!Vr(t))return e(t,n);for(var o=t.length,a=r?o:-1,i=Object(t);(r?a--:++a<o)&&n(i[a],a,i)!==!1;);return t}}var mw=gw(hw),cd=mw;function vw(e,r,t,n){return cd(e,function(o,a,i){r(n,o,t(o),i)}),n}function bw(e,r){return function(t,n){var o=Xe(t)?fw:vw,a=r?r():{};return o(t,e,si(n),a)}}var yw=function(){return Ot.Date.now()},Ui=yw,ww="Expected a function",_w=Math.max,xw=Math.min;function kw(e,r,t){var n,o,a,i,s,c,d=0,l=!1,f=!1,u=!0;if(typeof e!="function")throw new TypeError(ww);r=ro(r)||0,xt(t)&&(l=!!t.leading,f="maxWait"in t,a=f?_w(ro(t.maxWait)||0,r):a,u="trailing"in t?!!t.trailing:u);function h(x){var O=n,M=o;return n=o=void 0,d=x,i=e.apply(M,O),i}function p(x){return d=x,s=setTimeout(y,r),l?h(x):i}function m(x){var O=x-c,M=x-d,T=r-O;return f?xw(T,a-M):T}function b(x){var O=x-c,M=x-d;return c===void 0||O>=r||O<0||f&&M>=a}function y(){var x=Ui();if(b(x))return g(x);s=setTimeout(y,m(x))}function g(x){return s=void 0,u&&n?h(x):(n=o=void 0,i)}function w(){s!==void 0&&clearTimeout(s),d=0,n=c=o=s=void 0}function k(){return s===void 0?i:g(Ui())}function _(){var x=Ui(),O=b(x);if(n=arguments,o=this,c=x,O){if(s===void 0)return p(c);if(f)return clearTimeout(s),s=setTimeout(y,r),h(c)}return s===void 0&&(s=setTimeout(y,r)),i}return _.cancel=w,_.flush=k,_}function qs(e,r,t){(t!==void 0&&!_o(e[r],t)||t===void 0&&!(r in e))&&Ja(e,r,t)}function Ws(e){return Ft(e)&&Vr(e)}function Ys(e,r){if(!(r==="constructor"&&typeof e[r]=="function")&&r!="__proto__")return e[r]}function Sw(e){return xo(e,So(e))}function Mw(e,r,t,n,o,a,i){var s=Ys(e,t),c=Ys(r,t),d=i.get(c);if(d){qs(e,t,d);return}var l=a?a(s,c,t+"",e,r,i):void 0,f=l===void 0;if(f){var u=Xe(c),h=!u&&yn(c),p=!u&&!h&&ti(c);l=c,u||h||p?Xe(s)?l=s:Ws(s)?l=Yu(s):h?(f=!1,l=Ap(c,!0)):p?(f=!1,l=Bp(c,!0)):l=[]:vb(c)||bn(c)?(l=s,bn(s)?l=Sw(s):(!xt(s)||Kc(s))&&(l=Ip(c))):f=!1}f&&(i.set(c,l),o(l,c,n,a,i),i.delete(c)),qs(e,t,l)}function Gp(e,r,t,n,o){e!==r&&Hp(r,function(a,i){if(o||(o=new Et),xt(a))Mw(e,r,i,t,Gp,n,o);else{var s=n?n(Ys(e,i),a,i+"",e,r,o):void 0;s===void 0&&(s=a),qs(e,i,s)}},So)}function Ew(e,r,t){for(var n=-1,o=e==null?0:e.length;++n<o;)if(t(r,e[n]))return!0;return!1}function Tw(e){var r=e==null?0:e.length;return r?e[r-1]:void 0}function Ow(e,r){var t=-1,n=Vr(e)?Array(e.length):[];return cd(e,function(o,a,i){n[++t]=r(o,a,i)}),n}function Aw(e,r){var t=Xe(e)?qu:Ow;return t(e,si(r))}var Pw=1/0;function Uw(e,r){return ai(Aw(e,r),Pw)}function Cw(e){for(var r=-1,t=e==null?0:e.length,n={};++r<t;){var o=e[r];n[o[0]]=o[1]}return n}var Bw=Object.prototype,Iw=Bw.hasOwnProperty,zw=bw(function(e,r,t){Iw.call(e,t)?e[t].push(r):Ja(e,t,[r])}),Lw=zw,Dw="[object Map]",Rw="[object Set]",Fw=Object.prototype,Nw=Fw.hasOwnProperty;function Vw(e){if(e==null)return!0;if(Vr(e)&&(Xe(e)||typeof e=="string"||typeof e.splice=="function"||yn(e)||ti(e)||bn(e)))return!e.length;var r=_n(e);if(r==Dw||r==Rw)return!e.size;if(ei(e))return!np(e).length;for(var t in e)if(Nw.call(e,t))return!1;return!0}function $w(e,r){return ii(e,r)}var Hw=Tp(function(e,r,t){return e+(t?"-":"")+r.toLowerCase()}),Gw=Hw,jw=Cv(function(e,r,t){Gp(e,r,t)}),qw=jw;function Ww(e,r){var t;return cd(e,function(n,o,a){return t=r(n,o,a),!t}),!!t}function Yw(e,r,t){var n=Xe(e)?Rp:Ww;return t&&Ku(e,r,t)&&(r=void 0),n(e,si(r))}var Xw=1/0,Zw=un&&1/sd(new un([,-0]))[1]==Xw?function(e){return new un(e)}:dv,Kw=Zw,Qw=200;function jp(e,r,t){var n=-1,o=Mv,a=e.length,i=!0,s=[],c=s;if(t)i=!1,o=Ew;else if(a>=Qw){var d=r?null:Kw(e);if(d)return sd(d);i=!1,o=Fp,c=new lo}else c=r?[]:s;e:for(;++n<a;){var l=e[n],f=r?r(l):l;if(l=t||l!==0?l:0,i&&f===f){for(var u=c.length;u--;)if(c[u]===f)continue e;r&&c.push(f),s.push(l)}else o(c,f,t)||(c!==s&&c.push(f),s.push(l))}return s}var Jw=Zu(function(e){var r=Tw(e);return Ws(r)&&(r=void 0),jp(ai(e,1,Ws,!0),si(r))}),e_=Jw;function t_(e){return e&&e.length?jp(e):[]}var Xs="http://www.w3.org/1999/xhtml",Bl={svg:"http://www.w3.org/2000/svg",xhtml:Xs,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function ci(e){var r=e+="",t=r.indexOf(":");return t>=0&&(r=e.slice(0,t))!=="xmlns"&&(e=e.slice(t+1)),Bl.hasOwnProperty(r)?{space:Bl[r],local:e}:e}function r_(e){return function(){var r=this.ownerDocument,t=this.namespaceURI;return t===Xs&&r.documentElement.namespaceURI===Xs?r.createElement(e):r.createElementNS(t,e)}}function n_(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function qp(e){var r=ci(e);return(r.local?n_:r_)(r)}function o_(){}function dd(e){return e==null?o_:function(){return this.querySelector(e)}}function a_(e){typeof e!="function"&&(e=dd(e));for(var r=this._groups,t=r.length,n=new Array(t),o=0;o<t;++o)for(var a=r[o],i=a.length,s=n[o]=new Array(i),c,d,l=0;l<i;++l)(c=a[l])&&(d=e.call(c,c.__data__,l,a))&&("__data__"in c&&(d.__data__=c.__data__),s[l]=d);return new mt(n,this._parents)}function i_(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function s_(){return[]}function Wp(e){return e==null?s_:function(){return this.querySelectorAll(e)}}function c_(e){return function(){return i_(e.apply(this,arguments))}}function d_(e){typeof e=="function"?e=c_(e):e=Wp(e);for(var r=this._groups,t=r.length,n=[],o=[],a=0;a<t;++a)for(var i=r[a],s=i.length,c,d=0;d<s;++d)(c=i[d])&&(n.push(e.call(c,c.__data__,d,i)),o.push(c));return new mt(n,o)}function Yp(e){return function(){return this.matches(e)}}function Xp(e){return function(r){return r.matches(e)}}var l_=Array.prototype.find;function f_(e){return function(){return l_.call(this.children,e)}}function u_(){return this.firstElementChild}function p_(e){return this.select(e==null?u_:f_(typeof e=="function"?e:Xp(e)))}var h_=Array.prototype.filter;function g_(){return Array.from(this.children)}function m_(e){return function(){return h_.call(this.children,e)}}function v_(e){return this.selectAll(e==null?g_:m_(typeof e=="function"?e:Xp(e)))}function b_(e){typeof e!="function"&&(e=Yp(e));for(var r=this._groups,t=r.length,n=new Array(t),o=0;o<t;++o)for(var a=r[o],i=a.length,s=n[o]=[],c,d=0;d<i;++d)(c=a[d])&&e.call(c,c.__data__,d,a)&&s.push(c);return new mt(n,this._parents)}function Zp(e){return new Array(e.length)}function y_(){return new mt(this._enter||this._groups.map(Zp),this._parents)}function _a(e,r){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=r}_a.prototype={constructor:_a,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,r){return this._parent.insertBefore(e,r)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function w_(e){return function(){return e}}function __(e,r,t,n,o,a){for(var i=0,s,c=r.length,d=a.length;i<d;++i)(s=r[i])?(s.__data__=a[i],n[i]=s):t[i]=new _a(e,a[i]);for(;i<c;++i)(s=r[i])&&(o[i]=s)}function x_(e,r,t,n,o,a,i){var s,c,d=new Map,l=r.length,f=a.length,u=new Array(l),h;for(s=0;s<l;++s)(c=r[s])&&(u[s]=h=i.call(c,c.__data__,s,r)+"",d.has(h)?o[s]=c:d.set(h,c));for(s=0;s<f;++s)h=i.call(e,a[s],s,a)+"",(c=d.get(h))?(n[s]=c,c.__data__=a[s],d.delete(h)):t[s]=new _a(e,a[s]);for(s=0;s<l;++s)(c=r[s])&&d.get(u[s])===c&&(o[s]=c)}function k_(e){return e.__data__}function S_(e,r){if(!arguments.length)return Array.from(this,k_);var t=r?x_:__,n=this._parents,o=this._groups;typeof e!="function"&&(e=w_(e));for(var a=o.length,i=new Array(a),s=new Array(a),c=new Array(a),d=0;d<a;++d){var l=n[d],f=o[d],u=f.length,h=M_(e.call(l,l&&l.__data__,d,n)),p=h.length,m=s[d]=new Array(p),b=i[d]=new Array(p),y=c[d]=new Array(u);t(l,f,m,b,y,h,r);for(var g=0,w=0,k,_;g<p;++g)if(k=m[g]){for(g>=w&&(w=g+1);!(_=b[w])&&++w<p;);k._next=_||null}}return i=new mt(i,n),i._enter=s,i._exit=c,i}function M_(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function E_(){return new mt(this._exit||this._groups.map(Zp),this._parents)}function T_(e,r,t){var n=this.enter(),o=this,a=this.exit();return typeof e=="function"?(n=e(n),n&&(n=n.selection())):n=n.append(e+""),r!=null&&(o=r(o),o&&(o=o.selection())),t==null?a.remove():t(a),n&&o?n.merge(o).order():o}function O_(e){for(var r=e.selection?e.selection():e,t=this._groups,n=r._groups,o=t.length,a=n.length,i=Math.min(o,a),s=new Array(o),c=0;c<i;++c)for(var d=t[c],l=n[c],f=d.length,u=s[c]=new Array(f),h,p=0;p<f;++p)(h=d[p]||l[p])&&(u[p]=h);for(;c<o;++c)s[c]=t[c];return new mt(s,this._parents)}function A_(){for(var e=this._groups,r=-1,t=e.length;++r<t;)for(var n=e[r],o=n.length-1,a=n[o],i;--o>=0;)(i=n[o])&&(a&&i.compareDocumentPosition(a)^4&&a.parentNode.insertBefore(i,a),a=i);return this}function P_(e){e||(e=U_);function r(f,u){return f&&u?e(f.__data__,u.__data__):!f-!u}for(var t=this._groups,n=t.length,o=new Array(n),a=0;a<n;++a){for(var i=t[a],s=i.length,c=o[a]=new Array(s),d,l=0;l<s;++l)(d=i[l])&&(c[l]=d);c.sort(r)}return new mt(o,this._parents).order()}function U_(e,r){return e<r?-1:e>r?1:e>=r?0:NaN}function C_(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function B_(){return Array.from(this)}function I_(){for(var e=this._groups,r=0,t=e.length;r<t;++r)for(var n=e[r],o=0,a=n.length;o<a;++o){var i=n[o];if(i)return i}return null}function z_(){let e=0;for(const r of this)++e;return e}function L_(){return!this.node()}function D_(e){for(var r=this._groups,t=0,n=r.length;t<n;++t)for(var o=r[t],a=0,i=o.length,s;a<i;++a)(s=o[a])&&e.call(s,s.__data__,a,o);return this}function R_(e){return function(){this.removeAttribute(e)}}function F_(e){return function(){this.removeAttributeNS(e.space,e.local)}}function N_(e,r){return function(){this.setAttribute(e,r)}}function V_(e,r){return function(){this.setAttributeNS(e.space,e.local,r)}}function $_(e,r){return function(){var t=r.apply(this,arguments);t==null?this.removeAttribute(e):this.setAttribute(e,t)}}function H_(e,r){return function(){var t=r.apply(this,arguments);t==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,t)}}function G_(e,r){var t=ci(e);if(arguments.length<2){var n=this.node();return t.local?n.getAttributeNS(t.space,t.local):n.getAttribute(t)}return this.each((r==null?t.local?F_:R_:typeof r=="function"?t.local?H_:$_:t.local?V_:N_)(t,r))}function Kp(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function j_(e){return function(){this.style.removeProperty(e)}}function q_(e,r,t){return function(){this.style.setProperty(e,r,t)}}function W_(e,r,t){return function(){var n=r.apply(this,arguments);n==null?this.style.removeProperty(e):this.style.setProperty(e,n,t)}}function Y_(e,r,t){return arguments.length>1?this.each((r==null?j_:typeof r=="function"?W_:q_)(e,r,t==null?"":t)):xn(this.node(),e)}function xn(e,r){return e.style.getPropertyValue(r)||Kp(e).getComputedStyle(e,null).getPropertyValue(r)}function X_(e){return function(){delete this[e]}}function Z_(e,r){return function(){this[e]=r}}function K_(e,r){return function(){var t=r.apply(this,arguments);t==null?delete this[e]:this[e]=t}}function Q_(e,r){return arguments.length>1?this.each((r==null?X_:typeof r=="function"?K_:Z_)(e,r)):this.node()[e]}function Qp(e){return e.trim().split(/^|\s+/)}function ld(e){return e.classList||new Jp(e)}function Jp(e){this._node=e,this._names=Qp(e.getAttribute("class")||"")}Jp.prototype={add:function(e){var r=this._names.indexOf(e);r<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var r=this._names.indexOf(e);r>=0&&(this._names.splice(r,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function eh(e,r){for(var t=ld(e),n=-1,o=r.length;++n<o;)t.add(r[n])}function th(e,r){for(var t=ld(e),n=-1,o=r.length;++n<o;)t.remove(r[n])}function J_(e){return function(){eh(this,e)}}function ex(e){return function(){th(this,e)}}function tx(e,r){return function(){(r.apply(this,arguments)?eh:th)(this,e)}}function rx(e,r){var t=Qp(e+"");if(arguments.length<2){for(var n=ld(this.node()),o=-1,a=t.length;++o<a;)if(!n.contains(t[o]))return!1;return!0}return this.each((typeof r=="function"?tx:r?J_:ex)(t,r))}function nx(){this.textContent=""}function ox(e){return function(){this.textContent=e}}function ax(e){return function(){var r=e.apply(this,arguments);this.textContent=r==null?"":r}}function ix(e){return arguments.length?this.each(e==null?nx:(typeof e=="function"?ax:ox)(e)):this.node().textContent}function sx(){this.innerHTML=""}function cx(e){return function(){this.innerHTML=e}}function dx(e){return function(){var r=e.apply(this,arguments);this.innerHTML=r==null?"":r}}function lx(e){return arguments.length?this.each(e==null?sx:(typeof e=="function"?dx:cx)(e)):this.node().innerHTML}function fx(){this.nextSibling&&this.parentNode.appendChild(this)}function ux(){return this.each(fx)}function px(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function hx(){return this.each(px)}function gx(e){var r=typeof e=="function"?e:qp(e);return this.select(function(){return this.appendChild(r.apply(this,arguments))})}function mx(){return null}function vx(e,r){var t=typeof e=="function"?e:qp(e),n=r==null?mx:typeof r=="function"?r:dd(r);return this.select(function(){return this.insertBefore(t.apply(this,arguments),n.apply(this,arguments)||null)})}function bx(){var e=this.parentNode;e&&e.removeChild(this)}function yx(){return this.each(bx)}function wx(){var e=this.cloneNode(!1),r=this.parentNode;return r?r.insertBefore(e,this.nextSibling):e}function _x(){var e=this.cloneNode(!0),r=this.parentNode;return r?r.insertBefore(e,this.nextSibling):e}function xx(e){return this.select(e?_x:wx)}function kx(e){return arguments.length?this.property("__data__",e):this.node().__data__}function Sx(e){return function(r){e.call(this,r,this.__data__)}}function Mx(e){return e.trim().split(/^|\s+/).map(function(r){var t="",n=r.indexOf(".");return n>=0&&(t=r.slice(n+1),r=r.slice(0,n)),{type:r,name:t}})}function Ex(e){return function(){var r=this.__on;if(!!r){for(var t=0,n=-1,o=r.length,a;t<o;++t)a=r[t],(!e.type||a.type===e.type)&&a.name===e.name?this.removeEventListener(a.type,a.listener,a.options):r[++n]=a;++n?r.length=n:delete this.__on}}}function Tx(e,r,t){return function(){var n=this.__on,o,a=Sx(r);if(n){for(var i=0,s=n.length;i<s;++i)if((o=n[i]).type===e.type&&o.name===e.name){this.removeEventListener(o.type,o.listener,o.options),this.addEventListener(o.type,o.listener=a,o.options=t),o.value=r;return}}this.addEventListener(e.type,a,t),o={type:e.type,name:e.name,value:r,listener:a,options:t},n?n.push(o):this.__on=[o]}}function Ox(e,r,t){var n=Mx(e+""),o,a=n.length,i;if(arguments.length<2){var s=this.node().__on;if(s){for(var c=0,d=s.length,l;c<d;++c)for(o=0,l=s[c];o<a;++o)if((i=n[o]).type===l.type&&i.name===l.name)return l.value}return}for(s=r?Tx:Ex,o=0;o<a;++o)this.each(s(n[o],r,t));return this}function rh(e,r,t){var n=Kp(e),o=n.CustomEvent;typeof o=="function"?o=new o(r,t):(o=n.document.createEvent("Event"),t?(o.initEvent(r,t.bubbles,t.cancelable),o.detail=t.detail):o.initEvent(r,!1,!1)),e.dispatchEvent(o)}function Ax(e,r){return function(){return rh(this,e,r)}}function Px(e,r){return function(){return rh(this,e,r.apply(this,arguments))}}function Ux(e,r){return this.each((typeof r=="function"?Px:Ax)(e,r))}function*Cx(){for(var e=this._groups,r=0,t=e.length;r<t;++r)for(var n=e[r],o=0,a=n.length,i;o<a;++o)(i=n[o])&&(yield i)}var nh=[null];function mt(e,r){this._groups=e,this._parents=r}function Eo(){return new mt([[document.documentElement]],nh)}function Bx(){return this}mt.prototype=Eo.prototype={constructor:mt,select:a_,selectAll:d_,selectChild:p_,selectChildren:v_,filter:b_,data:S_,enter:y_,exit:E_,join:T_,merge:O_,selection:Bx,order:A_,sort:P_,call:C_,nodes:B_,node:I_,size:z_,empty:L_,each:D_,attr:G_,style:Y_,property:Q_,classed:rx,text:ix,html:lx,raise:ux,lower:hx,append:gx,insert:vx,remove:yx,clone:xx,datum:kx,on:Ox,dispatch:Ux,[Symbol.iterator]:Cx};function R(e){return typeof e=="string"?new mt([[document.querySelector(e)]],[document.documentElement]):new mt([[e]],nh)}function Ix(e){let r;for(;r=e.sourceEvent;)e=r;return e}function Ur(e,r){if(e=Ix(e),r===void 0&&(r=e.currentTarget),r){var t=r.ownerSVGElement||r;if(t.createSVGPoint){var n=t.createSVGPoint();return n.x=e.clientX,n.y=e.clientY,n=n.matrixTransform(r.getScreenCTM().inverse()),[n.x,n.y]}if(r.getBoundingClientRect){var o=r.getBoundingClientRect();return[e.clientX-o.left-r.clientLeft,e.clientY-o.top-r.clientTop]}}return[e.pageX,e.pageY]}var v;(function(e){e.debounce=kw,e.clone=ky,e.merge=qw,e.unionBy=e_,e.removeArrayDuplicates=t_,e.clamp=F1,e.flatten=lb,e.groupBy=Lw,e.camelCase=D1,e.isEmpty=Vw,e.isEqual=$w,e.flatMapDeep=Uw,e.kebabCase=Gw,e.fromPairs=Cw,e.some=Yw;function r(m,b,y){var g=null;return function(){var w=this,k=arguments;w.mousePosition=Ur(k[0],y),clearTimeout(g),g=setTimeout(function(){m.apply(w,k)},b)}}e.debounceWithD3MousePosition=r;function t(m,b){var y,g,w=e.clone(m),k=Object.keys(b.axes||{});!((g=(y=b)===null||y===void 0?void 0:y.toolbar)===null||g===void 0)&&g.controls&&delete w.toolbar.controls,k.length===0&&delete w.axes;for(var _ in w.axes)if(k.includes(_)){var x=b.axes[_];(x.primary||x.secondary)&&console.warn("`primary` & `secondary` are no longer needed for axis configurations. Read more here https://carbon-design-system.github.io/carbon-charts/?path=/story/docs-tutorials--tabular-data-format");var O=x.mapsTo;if(O==null){var M=x.scaleType;M==null?x.mapsTo="value":M===ne.TIME?x.mapsTo="date":M===ne.LABELS&&(x.mapsTo="key")}}else delete w.axes[_];return l(w,b),e.merge(w,b)}e.mergeDefaultChartOptions=t;function n(m){return{width:parseFloat(m.style.width.replace("px","")||m.offsetWidth),height:parseFloat(m.style.height.replace("px","")||m.offsetHeight)}}e.getDimensions=n;function o(m){if(!!m){var b=/translate\([0-9]+\.?[0-9]*,[0-9]+\.?[0-9]*\)/,y=m.getAttribute("transform").match(b);if(!y)return null;if(y[0]){var g=y[0].replace(/translate\(/,"").replace(/\)/,"").split(",");return{tx:g[0],ty:g[1]}}return null}}e.getTranslationValues=o;function a(m){var b=/\(([^)]+)\)/,y=b.exec(m)[1],g=y.split(",");return{x:parseFloat(g[0]),y:parseFloat(g[1])}}e.getTranformOffsets=a;function i(m){var b=m.toString();return b.match(/[a-z]/i)?b:b+"px"}e.formatWidthHeightValues=i;function s(m){return m[0].toUpperCase()+m.slice(1)}e.capitalizeFirstLetter=s;function c(m,b,y){y===void 0&&(y="value");var g=m/b.reduce(function(w,k){return w+k[y]},0)*100;return g%1!==0?parseFloat(g.toFixed(1)):g}e.convertValueToPercentage=c;function d(m,b,y){if(y>m.length)return m;if(b===Kt.MID_LINE)return m.substr(0,y/2)+"..."+m.substr(-y/2);if(b===Kt.FRONT_LINE)return"..."+m.substr(-y);if(b===Kt.END_LINE)return m.substr(0,y)+"..."}e.truncateLabel=d;function l(m,b){var y=e.getProperty(m,"legend","additionalItems"),g=e.getProperty(b,"legend","additionalItems");if(y&&g){var w=g.map(function(x){return x.type}),k=y.map(function(x){return x.type}),_=Hu.filter(function(x){return k.includes(x.type)&&!w.includes(x.type)});m.legend.additionalItems=_,b.legend.additionalItems=e.unionBy(_,g,"name")}}e.updateLegendAdditionalItems=l;function f(m,b){var y={missing:[],added:[]};return m.forEach(function(g){b.indexOf(g)===-1&&y.missing.push(g)}),b.forEach(function(g){m.indexOf(g)===-1&&y.added.push(g)}),y}e.arrayDifferences=f;function u(m){var b=[],y=[];return m.forEach(function(g){b.indexOf(g)!==-1&&y.indexOf(g)===-1&&y.push(g),b.push(g)}),y}e.getDuplicateValues=u;function h(m){return m.each(function(){this.parentNode.appendChild(this)})}e.moveToFront=h,e.getProperty=function(m){for(var b=[],y=1;y<arguments.length;y++)b[y-1]=arguments[y];var g=m;if(g){for(var w=0,k=b;w<k.length;w++){var _=k[w];if(g[_]!==null&&g[_]!==void 0)g=g[_];else return null}return g}return null},e.flipSVGCoordinatesBasedOnOrientation=function(m,b){return b===He.HORIZONTAL?{y0:m.x0,y1:m.x1,x0:m.y0,x1:m.y1}:m},e.generateSVGPathString=function(m,b){var y=e.flipSVGCoordinatesBasedOnOrientation(m,b),g=y.x0,w=y.x1,k=y.y0,_=y.y1;return"M"+g+","+k+"L"+g+","+_+"L"+w+","+_+"L"+w+","+k+"L"+g+","+k};function p(m,b,y){return y===He.VERTICAL?[m,b]:[b,m]}e.flipDomainAndRangeBasedOnOrientation=p,e.compareNumeric=function(m,b){return Number(m)===Number(b)}})(v||(v={}));function zx(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function Lx(e){if(e.__esModule)return e;var r=Object.defineProperty({},"__esModule",{value:!0});return Object.keys(e).forEach(function(t){var n=Object.getOwnPropertyDescriptor(e,t);Object.defineProperty(r,t,n.get?n:{enumerable:!0,get:function(){return e[t]}})}),r}var Zs={exports:{}},Ks={exports:{}};(function(e,r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=n;var t={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}};function n(o,a,i){i=i||{};var s;return typeof t[o]=="string"?s=t[o]:a===1?s=t[o].one:s=t[o].other.replace("{{count}}",a),i.addSuffix?i.comparison>0?"in "+s:s+" ago":s}e.exports=r.default})(Ks,Ks.exports);var Qs={exports:{}},Js={exports:{}};(function(e,r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=t;function t(n){return function(o){var a=o||{},i=a.width?String(a.width):n.defaultWidth,s=n.formats[i]||n.formats[n.defaultWidth];return s}}e.exports=r.default})(Js,Js.exports);(function(e,r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var t=n(Js.exports);function n(d){return d&&d.__esModule?d:{default:d}}var o={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},a={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},i={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},s={date:(0,t.default)({formats:o,defaultWidth:"full"}),time:(0,t.default)({formats:a,defaultWidth:"full"}),dateTime:(0,t.default)({formats:i,defaultWidth:"full"})},c=s;r.default=c,e.exports=r.default})(Qs,Qs.exports);var ec={exports:{}};(function(e,r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=n;var t={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"};function n(o,a,i,s){return t[o]}e.exports=r.default})(ec,ec.exports);var tc={exports:{}},rc={exports:{}};(function(e,r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=t;function t(n){return function(o,a){var i=a||{},s=i.context?String(i.context):"standalone",c;if(s==="formatting"&&n.formattingValues){var d=n.defaultFormattingWidth||n.defaultWidth,l=i.width?String(i.width):d;c=n.formattingValues[l]||n.formattingValues[d]}else{var f=n.defaultWidth,u=i.width?String(i.width):n.defaultWidth;c=n.values[u]||n.values[f]}var h=n.argumentCallback?n.argumentCallback(o):o;return c[h]}}e.exports=r.default})(rc,rc.exports);(function(e,r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var t=n(rc.exports);function n(h){return h&&h.__esModule?h:{default:h}}var o={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},a={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},i={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},s={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},c={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},d={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}};function l(h,p){var m=Number(h),b=m%100;if(b>20||b<10)switch(b%10){case 1:return m+"st";case 2:return m+"nd";case 3:return m+"rd"}return m+"th"}var f={ordinalNumber:l,era:(0,t.default)({values:o,defaultWidth:"wide"}),quarter:(0,t.default)({values:a,defaultWidth:"wide",argumentCallback:function(h){return Number(h)-1}}),month:(0,t.default)({values:i,defaultWidth:"wide"}),day:(0,t.default)({values:s,defaultWidth:"wide"}),dayPeriod:(0,t.default)({values:c,defaultWidth:"wide",formattingValues:d,defaultFormattingWidth:"wide"})},u=f;r.default=u,e.exports=r.default})(tc,tc.exports);var nc={exports:{}},oc={exports:{}};(function(e,r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=t;function t(n){return function(o,a){var i=String(o),s=a||{},c=i.match(n.matchPattern);if(!c)return null;var d=c[0],l=i.match(n.parsePattern);if(!l)return null;var f=n.valueCallback?n.valueCallback(l[0]):l[0];return f=s.valueCallback?s.valueCallback(f):f,{value:f,rest:i.slice(d.length)}}}e.exports=r.default})(oc,oc.exports);var ac={exports:{}};(function(e,r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=t;function t(a){return function(i,s){var c=String(i),d=s||{},l=d.width,f=l&&a.matchPatterns[l]||a.matchPatterns[a.defaultMatchWidth],u=c.match(f);if(!u)return null;var h=u[0],p=l&&a.parsePatterns[l]||a.parsePatterns[a.defaultParseWidth],m;return Object.prototype.toString.call(p)==="[object Array]"?m=o(p,function(b){return b.test(c)}):m=n(p,function(b){return b.test(c)}),m=a.valueCallback?a.valueCallback(m):m,m=d.valueCallback?d.valueCallback(m):m,{value:m,rest:c.slice(h.length)}}}function n(a,i){for(var s in a)if(a.hasOwnProperty(s)&&i(a[s]))return s}function o(a,i){for(var s=0;s<a.length;s++)if(i(a[s]))return s}e.exports=r.default})(ac,ac.exports);(function(e,r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var t=o(oc.exports),n=o(ac.exports);function o(w){return w&&w.__esModule?w:{default:w}}var a=/^(\d+)(th|st|nd|rd)?/i,i=/\d+/i,s={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},c={any:[/^b/i,/^(a|c)/i]},d={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},l={any:[/1/i,/2/i,/3/i,/4/i]},f={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},u={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},h={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},p={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},m={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},b={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},y={ordinalNumber:(0,t.default)({matchPattern:a,parsePattern:i,valueCallback:function(w){return parseInt(w,10)}}),era:(0,n.default)({matchPatterns:s,defaultMatchWidth:"wide",parsePatterns:c,defaultParseWidth:"any"}),quarter:(0,n.default)({matchPatterns:d,defaultMatchWidth:"wide",parsePatterns:l,defaultParseWidth:"any",valueCallback:function(w){return w+1}}),month:(0,n.default)({matchPatterns:f,defaultMatchWidth:"wide",parsePatterns:u,defaultParseWidth:"any"}),day:(0,n.default)({matchPatterns:h,defaultMatchWidth:"wide",parsePatterns:p,defaultParseWidth:"any"}),dayPeriod:(0,n.default)({matchPatterns:m,defaultMatchWidth:"any",parsePatterns:b,defaultParseWidth:"any"})},g=y;r.default=g,e.exports=r.default})(nc,nc.exports);(function(e,r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var t=s(Ks.exports),n=s(Qs.exports),o=s(ec.exports),a=s(tc.exports),i=s(nc.exports);function s(l){return l&&l.__esModule?l:{default:l}}var c={code:"en-US",formatDistance:t.default,formatLong:n.default,formatRelative:o.default,localize:a.default,match:i.default,options:{weekStartsOn:0,firstWeekContainsDate:1}},d=c;r.default=d,e.exports=r.default})(Zs,Zs.exports);var Dx=zx(Zs.exports),Rx=globalThis&&globalThis.__spreadArrays||function(){for(var e=0,r=0,t=arguments.length;r<t;r++)e+=arguments[r].length;for(var n=Array(e),o=0,r=0;r<t;r++)for(var a=arguments[r],i=0,s=a.length;i<s;i++,o++)n[o]=a[i];return n},nn={type:Kt.END_LINE,threshold:16,numCharacter:14},Fx={enabled:!0,position:dn.BOTTOM,clickable:!0,truncation:nn,alignment:Ve.LEFT,order:null,additionalItems:[]},oh={x:{enabled:!0,numberOfTicks:15,alignWithAxisTicks:!1},y:{enabled:!0,numberOfTicks:5,alignWithAxisTicks:!1}},ah={enabled:!0},fd={enabled:!0,showTotal:!0,truncation:nn,groupLabel:"Group"},ih={top:{visible:!0,includeZero:!0,truncation:nn},bottom:{visible:!0,includeZero:!0,truncation:nn},left:{visible:!0,includeZero:!0,truncation:nn},right:{visible:!0,includeZero:!0,truncation:nn}},To={addSpaceOnEdges:1,showDayName:!1,localeObject:Dx,timeIntervalFormats:{"15seconds":{primary:"MMM d, pp",secondary:"pp"},minute:{primary:"MMM d, p",secondary:"p"},"30minutes":{primary:"MMM d, p",secondary:"p"},hourly:{primary:"MMM d, hh a",secondary:"hh a"},daily:{primary:"MMM d",secondary:"d"},weekly:{primary:"eee, MMM d",secondary:"eee"},monthly:{primary:"MMM yyyy",secondary:"MMM"},quarterly:{primary:"QQQ ''yy",secondary:"QQQ"},yearly:{primary:"yyyy",secondary:"yyyy"}}},Nx=typeof document!="undefined"&&(document.fullscreenEnabled||document.webkitFullscreenEnabled||document.mozFullScreenEnabled||document.msFullscreenEnabled),rt={width:null,height:null,resizable:!0,tooltip:fd,legend:Fx,style:{prefix:"cc"},data:{groupMapsTo:"group",loading:!1,selectedGroups:[]},color:{scale:null,pairing:{numberOfVariants:null,option:1},gradient:{enabled:!1}},toolbar:{enabled:!0,numberOfIcons:3,controls:Rx([{type:Ae.SHOW_AS_DATATABLE}],Nx?[{type:Ae.MAKE_FULLSCREEN}]:[],[{type:Ae.EXPORT_CSV},{type:Ae.EXPORT_PNG},{type:Ae.EXPORT_JPG}])}},Oo=v.merge({},rt,{axes:ih,timeScale:To,grid:oh,ruler:ah,zoomBar:{zoomRatio:.4,minZoomRatio:.01,top:{enabled:!1,type:St.GRAPH_VIEW}}}),Cr=v.merge({},Oo,{bars:{maxWidth:16,spacingFactor:.25},timeScale:v.merge(To,{addSpaceOnEdges:1})}),Vx=v.merge({},Cr,{}),$x=v.merge({},Cr,{}),Hx=v.merge({},Cr,{bars:v.merge({},Cr.bars,{dividerSize:1.5})}),Gx=v.merge({},Cr,{}),ud=v.merge({},Oo,{points:{radius:4,fillOpacity:.3,filled:!0,enabled:!0}}),jx=ud,sh=v.merge({},ud,{points:{radius:3,filled:!1,enabled:!0}}),ch=v.merge({},sh,{timeScale:v.merge(To,{addSpaceOnEdges:0})}),qx=ch,Wx=v.merge({},Oo,{bubble:{radiusMapsTo:"radius",radiusLabel:"Radius",radiusRange:function(e,r){var t=Math.min(e.width,e.height);return[t*3/400,t*25/400]},fillOpacity:.2,enabled:!0},points:{filled:!0},legend:{additionalItems:[{type:Fe.RADIUS,name:"Radius"}]}}),Yx=v.merge({},Oo,{bullet:{performanceAreaTitles:["Poor","Satisfactory","Great"]},grid:{x:{enabled:!1},y:{enabled:!1}},legend:{additionalItems:[{type:Fe.AREA,name:"Poor area"},{type:Fe.AREA,name:"Satisfactory area"},{type:Fe.AREA,name:"Great area"},{type:Fe.QUARTILE,name:"Quartiles"}]}}),Xx=v.merge({},Cr,{bars:{dividerSize:1.5},timeScale:v.merge(To,{addSpaceOnEdges:0})}),Zx=v.merge({},rt,{tooltip:v.merge({},fd,{wordLabel:"Word",valueLabel:"Value"}),wordCloud:{fontSizeMapsTo:"value",fontSizeRange:function(e,r){var t=Math.min(e.width,e.height);return[t*20/400,t*75/400]},wordMapsTo:"word"}}),dh=v.merge({},rt,{pie:{labels:{formatter:null,enabled:!0},alignment:Ve.LEFT,sortFunction:null,valueMapsTo:"value"}}),Kx=v.merge({},rt,{legend:{enabled:!1},gauge:{type:Er.SEMI,arcWidth:16,deltaArrow:{size:function(e){return e/8},enabled:!0},showPercentageSymbol:!0,status:null,numberSpacing:10,deltaFontSize:function(e){return e/8},valueFontSize:function(e){return e/2.5},numberFormatter:function(e){return e.toFixed(2)%1!==0?e.toFixed(2).toLocaleString():e.toFixed().toLocaleString()},alignment:Ve.LEFT}}),Qx=v.merge({},dh,{donut:{center:{numberFontSize:function(e){return Math.min(e/100*24,24)+"px"},titleFontSize:function(e){return Math.min(e/100*15,15)+"px"},titleYPosition:function(e){return Math.min(e/80*20,20)},numberFormatter:function(e){return Math.floor(e).toLocaleString()}},alignment:Ve.LEFT}}),lh=v.merge({},rt,{legend:{enabled:!1,clickable:!1},meter:{showLabels:!0,proportional:null,statusBar:{percentageIndicator:{enabled:!0}}}}),Jx=v.merge({},lh,{legend:{enabled:!0}}),ek=v.merge({},rt,{radar:{axes:{angle:"key",value:"value"},alignment:Ve.LEFT},tooltip:{gridline:{enabled:!0},valueFormatter:function(e){return e!=null?e:"N/A"}}}),tk=v.merge({},Cr,{comboChartTypes:[]}),rk=v.merge({tree:{type:ma.TREE}},rt,{}),nk=v.merge({},rt,{data:v.merge(rt.data,{groupMapsTo:"name"})}),ok=v.merge({},rt,kr,{data:v.merge(rt.data,{groupMapsTo:"name"})}),ak=v.merge({},rt,{alluvial:{data:v.merge(rt.data,{groupMapsTo:"source"}),nodeAlignment:Ve.CENTER,nodePadding:24,monochrome:!1,nodes:[]}}),ik=v.merge({},rt,{axes:ih,heatmap:{divider:{state:ln.AUTO},colorLegend:{type:"linear"}}}),Me={chart:rt,axisChart:Oo,simpleBarChart:Vx,groupedBarChart:$x,stackedBarChart:Hx,boxplotChart:Gx,bubbleChart:Wx,bulletChart:Yx,histogramChart:Xx,lineChart:sh,areaChart:ch,stackedAreaChart:qx,scatterChart:ud,lollipopChart:jx,pieChart:dh,donutChart:Qx,meterChart:lh,proportionalMeterChart:Jx,radarChart:ek,gaugeChart:Kx,comboChart:tk,treeChart:rk,treemapChart:nk,circlePackChart:ok,wordCloudChart:Zx,alluvialChart:ak,heatmapChart:ik},fh=Object.freeze(Object.defineProperty({__proto__:null,grid:oh,ruler:ah,baseTooltip:fd,timeScale:To,options:Me,carbonPrefix:tt,area:It,axis:Yt,canvasZoomSettings:fn,circlePack:kr,color:Xc,boxplot:ft,histogram:Vu,legend:ze,lines:Bt,meter:Ge,pie:Se,radar:lr,alluvial:yt,heatmap:Ds,spacers:Rs,tooltips:$u,transitions:Fs,toolbar:bm,zoomBar:at,defaultLegendAdditionalItems:Hu},Symbol.toStringTag,{value:"Module"}));function Or(e,r){return e==null||r==null?NaN:e<r?-1:e>r?1:e>=r?0:NaN}function sk(e,r){return e==null||r==null?NaN:r<e?-1:r>e?1:r>=e?0:NaN}function pd(e){let r,t,n;e.length!==2?(r=Or,t=(s,c)=>Or(e(s),c),n=(s,c)=>e(s)-c):(r=e===Or||e===sk?e:ck,t=e,n=e);function o(s,c,d=0,l=s.length){if(d<l){if(r(c,c)!==0)return l;do{const f=d+l>>>1;t(s[f],c)<0?d=f+1:l=f}while(d<l)}return d}function a(s,c,d=0,l=s.length){if(d<l){if(r(c,c)!==0)return l;do{const f=d+l>>>1;t(s[f],c)<=0?d=f+1:l=f}while(d<l)}return d}function i(s,c,d=0,l=s.length){const f=o(s,c,d,l-1);return f>d&&n(s[f-1],c)>-n(s[f],c)?f-1:f}return{left:o,center:i,right:a}}function ck(){return 0}function dk(e){return e===null?NaN:+e}function*lk(e,r){if(r===void 0)for(let t of e)t!=null&&(t=+t)>=t&&(yield t);else{let t=-1;for(let n of e)(n=r(n,++t,e))!=null&&(n=+n)>=n&&(yield n)}}const fk=pd(Or),uk=fk.right;pd(dk).center;var hd=uk;function pk(e,r){let t=0;if(r===void 0)for(let n of e)n!=null&&(n=+n)>=n&&++t;else{let n=-1;for(let o of e)(o=r(o,++n,e))!=null&&(o=+o)>=o&&++t}return t}function zt(e,r){let t,n;if(r===void 0)for(const o of e)o!=null&&(t===void 0?o>=o&&(t=n=o):(t>o&&(t=o),n<o&&(n=o)));else{let o=-1;for(let a of e)(a=r(a,++o,e))!=null&&(t===void 0?a>=a&&(t=n=a):(t>a&&(t=a),n<a&&(n=a)))}return[t,n]}class Il extends Map{constructor(r,t=mk){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:t}}),r!=null)for(const[n,o]of r)this.set(n,o)}get(r){return super.get(zl(this,r))}has(r){return super.has(zl(this,r))}set(r,t){return super.set(hk(this,r),t)}delete(r){return super.delete(gk(this,r))}}function zl({_intern:e,_key:r},t){const n=r(t);return e.has(n)?e.get(n):t}function hk({_intern:e,_key:r},t){const n=r(t);return e.has(n)?e.get(n):(e.set(n,t),t)}function gk({_intern:e,_key:r},t){const n=r(t);return e.has(n)&&(t=e.get(n),e.delete(n)),t}function mk(e){return e!==null&&typeof e=="object"?e.valueOf():e}function vk(e){return e}function bk(e=Or){if(e===Or)return uh;if(typeof e!="function")throw new TypeError("compare is not a function");return(r,t)=>{const n=e(r,t);return n||n===0?n:(e(t,t)===0)-(e(r,r)===0)}}function uh(e,r){return(e==null||!(e>=e))-(r==null||!(r>=r))||(e<r?-1:e>r?1:0)}var yk=Array.prototype,wk=yk.slice;function Ho(e){return()=>e}var ic=Math.sqrt(50),sc=Math.sqrt(10),cc=Math.sqrt(2);function xa(e,r,t){var n,o=-1,a,i,s;if(r=+r,e=+e,t=+t,e===r&&t>0)return[e];if((n=r<e)&&(a=e,e=r,r=a),(s=fo(e,r,t))===0||!isFinite(s))return[];if(s>0){let c=Math.round(e/s),d=Math.round(r/s);for(c*s<e&&++c,d*s>r&&--d,i=new Array(a=d-c+1);++o<a;)i[o]=(c+o)*s}else{s=-s;let c=Math.round(e*s),d=Math.round(r*s);for(c/s<e&&++c,d/s>r&&--d,i=new Array(a=d-c+1);++o<a;)i[o]=(c+o)/s}return n&&i.reverse(),i}function fo(e,r,t){var n=(r-e)/Math.max(0,t),o=Math.floor(Math.log(n)/Math.LN10),a=n/Math.pow(10,o);return o>=0?(a>=ic?10:a>=sc?5:a>=cc?2:1)*Math.pow(10,o):-Math.pow(10,-o)/(a>=ic?10:a>=sc?5:a>=cc?2:1)}function dc(e,r,t){var n=Math.abs(r-e)/Math.max(0,t),o=Math.pow(10,Math.floor(Math.log(n)/Math.LN10)),a=n/o;return a>=ic?o*=10:a>=sc?o*=5:a>=cc&&(o*=2),r<e?-o:o}function _k(e,r,t){let n;for(;;){const o=fo(e,r,t);if(o===n||o===0||!isFinite(o))return[e,r];o>0?(e=Math.floor(e/o)*o,r=Math.ceil(r/o)*o):o<0&&(e=Math.ceil(e*o)/o,r=Math.floor(r*o)/o),n=o}}function xk(e){return Math.ceil(Math.log(pk(e))/Math.LN2)+1}function kk(){var e=vk,r=zt,t=xk;function n(o){Array.isArray(o)||(o=Array.from(o));var a,i=o.length,s,c,d=new Array(i);for(a=0;a<i;++a)d[a]=e(o[a],a,o);var l=r(d),f=l[0],u=l[1],h=t(d,f,u);if(!Array.isArray(h)){const y=u,g=+h;if(r===zt&&([f,u]=_k(f,u,g)),h=xa(f,u,g),h[0]<=f&&(c=fo(f,u,g)),h[h.length-1]>=u)if(y>=u&&r===zt){const w=fo(f,u,g);isFinite(w)&&(w>0?u=(Math.floor(u/w)+1)*w:w<0&&(u=(Math.ceil(u*-w)+1)/-w))}else h.pop()}for(var p=h.length;h[0]<=f;)h.shift(),--p;for(;h[p-1]>u;)h.pop(),--p;var m=new Array(p+1),b;for(a=0;a<=p;++a)b=m[a]=[],b.x0=a>0?h[a-1]:f,b.x1=a<p?h[a]:u;if(isFinite(c)){if(c>0)for(a=0;a<i;++a)(s=d[a])!=null&&f<=s&&s<=u&&m[Math.min(p,Math.floor((s-f)/c))].push(o[a]);else if(c<0){for(a=0;a<i;++a)if((s=d[a])!=null&&f<=s&&s<=u){const y=Math.floor((f-s)*c);m[Math.min(p,y+(h[y]<=s))].push(o[a])}}}else for(a=0;a<i;++a)(s=d[a])!=null&&f<=s&&s<=u&&m[hd(h,s,0,p)].push(o[a]);return m}return n.value=function(o){return arguments.length?(e=typeof o=="function"?o:Ho(o),n):e},n.domain=function(o){return arguments.length?(r=typeof o=="function"?o:Ho([o[0],o[1]]),n):r},n.thresholds=function(o){return arguments.length?(t=typeof o=="function"?o:Array.isArray(o)?Ho(wk.call(o)):Ho(o),n):t},n}function Br(e,r){let t;if(r===void 0)for(const n of e)n!=null&&(t<n||t===void 0&&n>=n)&&(t=n);else{let n=-1;for(let o of e)(o=r(o,++n,e))!=null&&(t<o||t===void 0&&o>=o)&&(t=o)}return t}function ur(e,r){let t;if(r===void 0)for(const n of e)n!=null&&(t>n||t===void 0&&n>=n)&&(t=n);else{let n=-1;for(let o of e)(o=r(o,++n,e))!=null&&(t>o||t===void 0&&o>=o)&&(t=o)}return t}function ph(e,r,t=0,n=e.length-1,o){for(o=o===void 0?uh:bk(o);n>t;){if(n-t>600){const c=n-t+1,d=r-t+1,l=Math.log(c),f=.5*Math.exp(2*l/3),u=.5*Math.sqrt(l*f*(c-f)/c)*(d-c/2<0?-1:1),h=Math.max(t,Math.floor(r-d*f/c+u)),p=Math.min(n,Math.floor(r+(c-d)*f/c+u));ph(e,r,h,p,o)}const a=e[r];let i=t,s=n;for(zn(e,t,r),o(e[n],a)>0&&zn(e,t,n);i<s;){for(zn(e,i,s),++i,--s;o(e[i],a)<0;)++i;for(;o(e[s],a)>0;)--s}o(e[t],a)===0?zn(e,t,s):(++s,zn(e,s,n)),s<=r&&(t=s+1),r<=s&&(n=s-1)}return e}function zn(e,r,t){const n=e[r];e[r]=e[t],e[t]=n}function Ci(e,r,t){if(e=Float64Array.from(lk(e,t)),!!(n=e.length)){if((r=+r)<=0||n<2)return ur(e);if(r>=1)return Br(e);var n,o=(n-1)*r,a=Math.floor(o),i=Br(ph(e,a).subarray(0,a+1)),s=ur(e.subarray(a+1));return i+(s-i)*(o-a)}}function Sk(e,r,t){e=+e,r=+r,t=(o=arguments.length)<2?(r=e,e=0,1):o<3?1:+t;for(var n=-1,o=Math.max(0,Math.ceil((r-e)/t))|0,a=new Array(o);++n<o;)a[n]=e+n*t;return a}function Un(e,r){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(r).domain(e);break}return this}const Ll=Symbol("implicit");function di(){var e=new Il,r=[],t=[],n=Ll;function o(a){let i=e.get(a);if(i===void 0){if(n!==Ll)return n;e.set(a,i=r.push(a)-1)}return t[i%t.length]}return o.domain=function(a){if(!arguments.length)return r.slice();r=[],e=new Il;for(const i of a)e.has(i)||e.set(i,r.push(i)-1);return o},o.range=function(a){return arguments.length?(t=Array.from(a),o):t.slice()},o.unknown=function(a){return arguments.length?(n=a,o):n},o.copy=function(){return di(r,t).unknown(n)},Un.apply(o,arguments),o}function Ao(){var e=di().unknown(void 0),r=e.domain,t=e.range,n=0,o=1,a,i,s=!1,c=0,d=0,l=.5;delete e.unknown;function f(){var u=r().length,h=o<n,p=h?o:n,m=h?n:o;a=(m-p)/Math.max(1,u-c+d*2),s&&(a=Math.floor(a)),p+=(m-p-a*(u-c))*l,i=a*(1-c),s&&(p=Math.round(p),i=Math.round(i));var b=Sk(u).map(function(y){return p+a*y});return t(h?b.reverse():b)}return e.domain=function(u){return arguments.length?(r(u),f()):r()},e.range=function(u){return arguments.length?([n,o]=u,n=+n,o=+o,f()):[n,o]},e.rangeRound=function(u){return[n,o]=u,n=+n,o=+o,s=!0,f()},e.bandwidth=function(){return i},e.step=function(){return a},e.round=function(u){return arguments.length?(s=!!u,f()):s},e.padding=function(u){return arguments.length?(c=Math.min(1,d=+u),f()):c},e.paddingInner=function(u){return arguments.length?(c=Math.min(1,u),f()):c},e.paddingOuter=function(u){return arguments.length?(d=+u,f()):d},e.align=function(u){return arguments.length?(l=Math.max(0,Math.min(1,u)),f()):l},e.copy=function(){return Ao(r(),[n,o]).round(s).paddingInner(c).paddingOuter(d).align(l)},Un.apply(f(),arguments)}function gd(e,r,t){e.prototype=r.prototype=t,t.constructor=e}function hh(e,r){var t=Object.create(e.prototype);for(var n in r)t[n]=r[n];return t}function Po(){}var uo=.7,ka=1/uo,pn="\\s*([+-]?\\d+)\\s*",po="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Lt="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Mk=/^#([0-9a-f]{3,8})$/,Ek=new RegExp(`^rgb\\(${pn},${pn},${pn}\\)$`),Tk=new RegExp(`^rgb\\(${Lt},${Lt},${Lt}\\)$`),Ok=new RegExp(`^rgba\\(${pn},${pn},${pn},${po}\\)$`),Ak=new RegExp(`^rgba\\(${Lt},${Lt},${Lt},${po}\\)$`),Pk=new RegExp(`^hsl\\(${po},${Lt},${Lt}\\)$`),Uk=new RegExp(`^hsla\\(${po},${Lt},${Lt},${po}\\)$`),Dl={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};gd(Po,Qt,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:Rl,formatHex:Rl,formatHex8:Ck,formatHsl:Bk,formatRgb:Fl,toString:Fl});function Rl(){return this.rgb().formatHex()}function Ck(){return this.rgb().formatHex8()}function Bk(){return gh(this).formatHsl()}function Fl(){return this.rgb().formatRgb()}function Qt(e){var r,t;return e=(e+"").trim().toLowerCase(),(r=Mk.exec(e))?(t=r[1].length,r=parseInt(r[1],16),t===6?Nl(r):t===3?new it(r>>8&15|r>>4&240,r>>4&15|r&240,(r&15)<<4|r&15,1):t===8?Go(r>>24&255,r>>16&255,r>>8&255,(r&255)/255):t===4?Go(r>>12&15|r>>8&240,r>>8&15|r>>4&240,r>>4&15|r&240,((r&15)<<4|r&15)/255):null):(r=Ek.exec(e))?new it(r[1],r[2],r[3],1):(r=Tk.exec(e))?new it(r[1]*255/100,r[2]*255/100,r[3]*255/100,1):(r=Ok.exec(e))?Go(r[1],r[2],r[3],r[4]):(r=Ak.exec(e))?Go(r[1]*255/100,r[2]*255/100,r[3]*255/100,r[4]):(r=Pk.exec(e))?Hl(r[1],r[2]/100,r[3]/100,1):(r=Uk.exec(e))?Hl(r[1],r[2]/100,r[3]/100,r[4]):Dl.hasOwnProperty(e)?Nl(Dl[e]):e==="transparent"?new it(NaN,NaN,NaN,0):null}function Nl(e){return new it(e>>16&255,e>>8&255,e&255,1)}function Go(e,r,t,n){return n<=0&&(e=r=t=NaN),new it(e,r,t,n)}function Ik(e){return e instanceof Po||(e=Qt(e)),e?(e=e.rgb(),new it(e.r,e.g,e.b,e.opacity)):new it}function lc(e,r,t,n){return arguments.length===1?Ik(e):new it(e,r,t,n==null?1:n)}function it(e,r,t,n){this.r=+e,this.g=+r,this.b=+t,this.opacity=+n}gd(it,lc,hh(Po,{brighter(e){return e=e==null?ka:Math.pow(ka,e),new it(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?uo:Math.pow(uo,e),new it(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new it(Ar(this.r),Ar(this.g),Ar(this.b),Sa(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Vl,formatHex:Vl,formatHex8:zk,formatRgb:$l,toString:$l}));function Vl(){return`#${Tr(this.r)}${Tr(this.g)}${Tr(this.b)}`}function zk(){return`#${Tr(this.r)}${Tr(this.g)}${Tr(this.b)}${Tr((isNaN(this.opacity)?1:this.opacity)*255)}`}function $l(){const e=Sa(this.opacity);return`${e===1?"rgb(":"rgba("}${Ar(this.r)}, ${Ar(this.g)}, ${Ar(this.b)}${e===1?")":`, ${e})`}`}function Sa(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Ar(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Tr(e){return e=Ar(e),(e<16?"0":"")+e.toString(16)}function Hl(e,r,t,n){return n<=0?e=r=t=NaN:t<=0||t>=1?e=r=NaN:r<=0&&(e=NaN),new Mt(e,r,t,n)}function gh(e){if(e instanceof Mt)return new Mt(e.h,e.s,e.l,e.opacity);if(e instanceof Po||(e=Qt(e)),!e)return new Mt;if(e instanceof Mt)return e;e=e.rgb();var r=e.r/255,t=e.g/255,n=e.b/255,o=Math.min(r,t,n),a=Math.max(r,t,n),i=NaN,s=a-o,c=(a+o)/2;return s?(r===a?i=(t-n)/s+(t<n)*6:t===a?i=(n-r)/s+2:i=(r-t)/s+4,s/=c<.5?a+o:2-a-o,i*=60):s=c>0&&c<1?0:i,new Mt(i,s,c,e.opacity)}function md(e,r,t,n){return arguments.length===1?gh(e):new Mt(e,r,t,n==null?1:n)}function Mt(e,r,t,n){this.h=+e,this.s=+r,this.l=+t,this.opacity=+n}gd(Mt,md,hh(Po,{brighter(e){return e=e==null?ka:Math.pow(ka,e),new Mt(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?uo:Math.pow(uo,e),new Mt(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,r=isNaN(e)||isNaN(this.s)?0:this.s,t=this.l,n=t+(t<.5?t:1-t)*r,o=2*t-n;return new it(Bi(e>=240?e-240:e+120,o,n),Bi(e,o,n),Bi(e<120?e+240:e-120,o,n),this.opacity)},clamp(){return new Mt(Gl(this.h),jo(this.s),jo(this.l),Sa(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Sa(this.opacity);return`${e===1?"hsl(":"hsla("}${Gl(this.h)}, ${jo(this.s)*100}%, ${jo(this.l)*100}%${e===1?")":`, ${e})`}`}}));function Gl(e){return e=(e||0)%360,e<0?e+360:e}function jo(e){return Math.max(0,Math.min(1,e||0))}function Bi(e,r,t){return(e<60?r+(t-r)*e/60:e<180?t:e<240?r+(t-r)*(240-e)/60:r)*255}var vd=e=>()=>e;function Lk(e,r){return function(t){return e+t*r}}function Dk(e,r,t){return e=Math.pow(e,t),r=Math.pow(r,t)-e,t=1/t,function(n){return Math.pow(e+n*r,t)}}function Rk(e){return(e=+e)==1?mh:function(r,t){return t-r?Dk(r,t,e):vd(isNaN(r)?t:r)}}function mh(e,r){var t=r-e;return t?Lk(e,t):vd(isNaN(e)?r:e)}var Ma=function e(r){var t=Rk(r);function n(o,a){var i=t((o=lc(o)).r,(a=lc(a)).r),s=t(o.g,a.g),c=t(o.b,a.b),d=mh(o.opacity,a.opacity);return function(l){return o.r=i(l),o.g=s(l),o.b=c(l),o.opacity=d(l),o+""}}return n.gamma=e,n}(1);function Fk(e,r){r||(r=[]);var t=e?Math.min(r.length,e.length):0,n=r.slice(),o;return function(a){for(o=0;o<t;++o)n[o]=e[o]*(1-a)+r[o]*a;return n}}function Nk(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function Vk(e,r){var t=r?r.length:0,n=e?Math.min(t,e.length):0,o=new Array(n),a=new Array(t),i;for(i=0;i<n;++i)o[i]=Uo(e[i],r[i]);for(;i<t;++i)a[i]=r[i];return function(s){for(i=0;i<n;++i)a[i]=o[i](s);return a}}function $k(e,r){var t=new Date;return e=+e,r=+r,function(n){return t.setTime(e*(1-n)+r*n),t}}function pt(e,r){return e=+e,r=+r,function(t){return e*(1-t)+r*t}}function Hk(e,r){var t={},n={},o;(e===null||typeof e!="object")&&(e={}),(r===null||typeof r!="object")&&(r={});for(o in r)o in e?t[o]=Uo(e[o],r[o]):n[o]=r[o];return function(a){for(o in t)n[o]=t[o](a);return n}}var fc=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Ii=new RegExp(fc.source,"g");function Gk(e){return function(){return e}}function jk(e){return function(r){return e(r)+""}}function vh(e,r){var t=fc.lastIndex=Ii.lastIndex=0,n,o,a,i=-1,s=[],c=[];for(e=e+"",r=r+"";(n=fc.exec(e))&&(o=Ii.exec(r));)(a=o.index)>t&&(a=r.slice(t,a),s[i]?s[i]+=a:s[++i]=a),(n=n[0])===(o=o[0])?s[i]?s[i]+=o:s[++i]=o:(s[++i]=null,c.push({i,x:pt(n,o)})),t=Ii.lastIndex;return t<r.length&&(a=r.slice(t),s[i]?s[i]+=a:s[++i]=a),s.length<2?c[0]?jk(c[0].x):Gk(r):(r=c.length,function(d){for(var l=0,f;l<r;++l)s[(f=c[l]).i]=f.x(d);return s.join("")})}function Uo(e,r){var t=typeof r,n;return r==null||t==="boolean"?vd(r):(t==="number"?pt:t==="string"?(n=Qt(r))?(r=n,Ma):vh:r instanceof Qt?Ma:r instanceof Date?$k:Nk(r)?Fk:Array.isArray(r)?Vk:typeof r.valueOf!="function"&&typeof r.toString!="function"||isNaN(r)?Hk:pt)(e,r)}function bh(e,r){return e=+e,r=+r,function(t){return Math.round(e*(1-t)+r*t)}}var jl=180/Math.PI,uc={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function yh(e,r,t,n,o,a){var i,s,c;return(i=Math.sqrt(e*e+r*r))&&(e/=i,r/=i),(c=e*t+r*n)&&(t-=e*c,n-=r*c),(s=Math.sqrt(t*t+n*n))&&(t/=s,n/=s,c/=s),e*n<r*t&&(e=-e,r=-r,c=-c,i=-i),{translateX:o,translateY:a,rotate:Math.atan2(r,e)*jl,skewX:Math.atan(c)*jl,scaleX:i,scaleY:s}}var qo;function qk(e){const r=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return r.isIdentity?uc:yh(r.a,r.b,r.c,r.d,r.e,r.f)}function Wk(e){return e==null||(qo||(qo=document.createElementNS("http://www.w3.org/2000/svg","g")),qo.setAttribute("transform",e),!(e=qo.transform.baseVal.consolidate()))?uc:(e=e.matrix,yh(e.a,e.b,e.c,e.d,e.e,e.f))}function wh(e,r,t,n){function o(d){return d.length?d.pop()+" ":""}function a(d,l,f,u,h,p){if(d!==f||l!==u){var m=h.push("translate(",null,r,null,t);p.push({i:m-4,x:pt(d,f)},{i:m-2,x:pt(l,u)})}else(f||u)&&h.push("translate("+f+r+u+t)}function i(d,l,f,u){d!==l?(d-l>180?l+=360:l-d>180&&(d+=360),u.push({i:f.push(o(f)+"rotate(",null,n)-2,x:pt(d,l)})):l&&f.push(o(f)+"rotate("+l+n)}function s(d,l,f,u){d!==l?u.push({i:f.push(o(f)+"skewX(",null,n)-2,x:pt(d,l)}):l&&f.push(o(f)+"skewX("+l+n)}function c(d,l,f,u,h,p){if(d!==f||l!==u){var m=h.push(o(h)+"scale(",null,",",null,")");p.push({i:m-4,x:pt(d,f)},{i:m-2,x:pt(l,u)})}else(f!==1||u!==1)&&h.push(o(h)+"scale("+f+","+u+")")}return function(d,l){var f=[],u=[];return d=e(d),l=e(l),a(d.translateX,d.translateY,l.translateX,l.translateY,f,u),i(d.rotate,l.rotate,f,u),s(d.skewX,l.skewX,f,u),c(d.scaleX,d.scaleY,l.scaleX,l.scaleY,f,u),d=l=null,function(h){for(var p=-1,m=u.length,b;++p<m;)f[(b=u[p]).i]=b.x(h);return f.join("")}}}var Yk=wh(qk,"px, ","px)","deg)"),Xk=wh(Wk,", ",")",")");function Zk(e,r){for(var t=new Array(r),n=0;n<r;++n)t[n]=e(n/(r-1));return t}function Kk(e){return function(){return e}}function Qk(e){return+e}var ql=[0,1];function on(e){return e}function pc(e,r){return(r-=e=+e)?function(t){return(t-e)/r}:Kk(isNaN(r)?NaN:.5)}function Jk(e,r){var t;return e>r&&(t=e,e=r,r=t),function(n){return Math.max(e,Math.min(r,n))}}function e3(e,r,t){var n=e[0],o=e[1],a=r[0],i=r[1];return o<n?(n=pc(o,n),a=t(i,a)):(n=pc(n,o),a=t(a,i)),function(s){return a(n(s))}}function t3(e,r,t){var n=Math.min(e.length,r.length)-1,o=new Array(n),a=new Array(n),i=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),r=r.slice().reverse());++i<n;)o[i]=pc(e[i],e[i+1]),a[i]=t(r[i],r[i+1]);return function(s){var c=hd(e,s,1,n)-1;return a[c](o[c](s))}}function bd(e,r){return r.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function _h(){var e=ql,r=ql,t=Uo,n,o,a,i=on,s,c,d;function l(){var u=Math.min(e.length,r.length);return i!==on&&(i=Jk(e[0],e[u-1])),s=u>2?t3:e3,c=d=null,f}function f(u){return u==null||isNaN(u=+u)?a:(c||(c=s(e.map(n),r,t)))(n(i(u)))}return f.invert=function(u){return i(o((d||(d=s(r,e.map(n),pt)))(u)))},f.domain=function(u){return arguments.length?(e=Array.from(u,Qk),l()):e.slice()},f.range=function(u){return arguments.length?(r=Array.from(u),l()):r.slice()},f.rangeRound=function(u){return r=Array.from(u),t=bh,l()},f.clamp=function(u){return arguments.length?(i=u?!0:on,l()):i!==on},f.interpolate=function(u){return arguments.length?(t=u,l()):t},f.unknown=function(u){return arguments.length?(a=u,f):a},function(u,h){return n=u,o=h,l()}}function xh(){return _h()(on,on)}function r3(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function Ea(e,r){if((t=(e=r?e.toExponential(r-1):e.toExponential()).indexOf("e"))<0)return null;var t,n=e.slice(0,t);return[n.length>1?n[0]+n.slice(2):n,+e.slice(t+1)]}function kn(e){return e=Ea(Math.abs(e)),e?e[1]:NaN}function n3(e,r){return function(t,n){for(var o=t.length,a=[],i=0,s=e[0],c=0;o>0&&s>0&&(c+s+1>n&&(s=Math.max(1,n-c)),a.push(t.substring(o-=s,o+s)),!((c+=s+1)>n));)s=e[i=(i+1)%e.length];return a.reverse().join(r)}}function o3(e){return function(r){return r.replace(/[0-9]/g,function(t){return e[+t]})}}var a3=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function ho(e){if(!(r=a3.exec(e)))throw new Error("invalid format: "+e);var r;return new yd({fill:r[1],align:r[2],sign:r[3],symbol:r[4],zero:r[5],width:r[6],comma:r[7],precision:r[8]&&r[8].slice(1),trim:r[9],type:r[10]})}ho.prototype=yd.prototype;function yd(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}yd.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function i3(e){e:for(var r=e.length,t=1,n=-1,o;t<r;++t)switch(e[t]){case".":n=o=t;break;case"0":n===0&&(n=t),o=t;break;default:if(!+e[t])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(o+1):e}var kh;function s3(e,r){var t=Ea(e,r);if(!t)return e+"";var n=t[0],o=t[1],a=o-(kh=Math.max(-8,Math.min(8,Math.floor(o/3)))*3)+1,i=n.length;return a===i?n:a>i?n+new Array(a-i+1).join("0"):a>0?n.slice(0,a)+"."+n.slice(a):"0."+new Array(1-a).join("0")+Ea(e,Math.max(0,r+a-1))[0]}function Wl(e,r){var t=Ea(e,r);if(!t)return e+"";var n=t[0],o=t[1];return o<0?"0."+new Array(-o).join("0")+n:n.length>o+1?n.slice(0,o+1)+"."+n.slice(o+1):n+new Array(o-n.length+2).join("0")}var Yl={"%":(e,r)=>(e*100).toFixed(r),b:e=>Math.round(e).toString(2),c:e=>e+"",d:r3,e:(e,r)=>e.toExponential(r),f:(e,r)=>e.toFixed(r),g:(e,r)=>e.toPrecision(r),o:e=>Math.round(e).toString(8),p:(e,r)=>Wl(e*100,r),r:Wl,s:s3,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function Xl(e){return e}var Zl=Array.prototype.map,Kl=["y","z","a","f","p","n","\xB5","m","","k","M","G","T","P","E","Z","Y"];function c3(e){var r=e.grouping===void 0||e.thousands===void 0?Xl:n3(Zl.call(e.grouping,Number),e.thousands+""),t=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",o=e.decimal===void 0?".":e.decimal+"",a=e.numerals===void 0?Xl:o3(Zl.call(e.numerals,String)),i=e.percent===void 0?"%":e.percent+"",s=e.minus===void 0?"\u2212":e.minus+"",c=e.nan===void 0?"NaN":e.nan+"";function d(f){f=ho(f);var u=f.fill,h=f.align,p=f.sign,m=f.symbol,b=f.zero,y=f.width,g=f.comma,w=f.precision,k=f.trim,_=f.type;_==="n"?(g=!0,_="g"):Yl[_]||(w===void 0&&(w=12),k=!0,_="g"),(b||u==="0"&&h==="=")&&(b=!0,u="0",h="=");var x=m==="$"?t:m==="#"&&/[boxX]/.test(_)?"0"+_.toLowerCase():"",O=m==="$"?n:/[%p]/.test(_)?i:"",M=Yl[_],T=/[defgprs%]/.test(_);w=w===void 0?6:/[gprs]/.test(_)?Math.max(1,Math.min(21,w)):Math.max(0,Math.min(20,w));function A(S){var P=x,I=O,L,B,C;if(_==="c")I=M(S)+I,S="";else{S=+S;var z=S<0||1/S<0;if(S=isNaN(S)?c:M(Math.abs(S),w),k&&(S=i3(S)),z&&+S==0&&p!=="+"&&(z=!1),P=(z?p==="("?p:s:p==="-"||p==="("?"":p)+P,I=(_==="s"?Kl[8+kh/3]:"")+I+(z&&p==="("?")":""),T){for(L=-1,B=S.length;++L<B;)if(C=S.charCodeAt(L),48>C||C>57){I=(C===46?o+S.slice(L+1):S.slice(L))+I,S=S.slice(0,L);break}}}g&&!b&&(S=r(S,1/0));var F=P.length+S.length+I.length,U=F<y?new Array(y-F+1).join(u):"";switch(g&&b&&(S=r(U+S,U.length?y-I.length:1/0),U=""),h){case"<":S=P+S+I+U;break;case"=":S=P+U+S+I;break;case"^":S=U.slice(0,F=U.length>>1)+P+S+I+U.slice(F);break;default:S=U+P+S+I;break}return a(S)}return A.toString=function(){return f+""},A}function l(f,u){var h=d((f=ho(f),f.type="f",f)),p=Math.max(-8,Math.min(8,Math.floor(kn(u)/3)))*3,m=Math.pow(10,-p),b=Kl[8+p/3];return function(y){return h(m*y)+b}}return{format:d,formatPrefix:l}}var Wo,wd,Sh;d3({thousands:",",grouping:[3],currency:["$",""]});function d3(e){return Wo=c3(e),wd=Wo.format,Sh=Wo.formatPrefix,Wo}function l3(e){return Math.max(0,-kn(Math.abs(e)))}function f3(e,r){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(kn(r)/3)))*3-kn(Math.abs(e)))}function u3(e,r){return e=Math.abs(e),r=Math.abs(r)-e,Math.max(0,kn(r)-kn(e))+1}function p3(e,r,t,n){var o=dc(e,r,t),a;switch(n=ho(n==null?",f":n),n.type){case"s":{var i=Math.max(Math.abs(e),Math.abs(r));return n.precision==null&&!isNaN(a=f3(o,i))&&(n.precision=a),Sh(n,i)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(a=u3(o,Math.max(Math.abs(e),Math.abs(r))))&&(n.precision=a-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(a=l3(o))&&(n.precision=a-(n.type==="%")*2);break}}return wd(n)}function Mh(e){var r=e.domain;return e.ticks=function(t){var n=r();return xa(n[0],n[n.length-1],t==null?10:t)},e.tickFormat=function(t,n){var o=r();return p3(o[0],o[o.length-1],t==null?10:t,n)},e.nice=function(t){t==null&&(t=10);var n=r(),o=0,a=n.length-1,i=n[o],s=n[a],c,d,l=10;for(s<i&&(d=i,i=s,s=d,d=o,o=a,a=d);l-- >0;){if(d=fo(i,s,t),d===c)return n[o]=i,n[a]=s,r(n);if(d>0)i=Math.floor(i/d)*d,s=Math.ceil(s/d)*d;else if(d<0)i=Math.ceil(i*d)/d,s=Math.floor(s*d)/d;else break;c=d}return e},e}function Nt(){var e=xh();return e.copy=function(){return bd(e,Nt())},Un.apply(e,arguments),Mh(e)}function Eh(e,r){e=e.slice();var t=0,n=e.length-1,o=e[t],a=e[n],i;return a<o&&(i=t,t=n,n=i,i=o,o=a,a=i),e[t]=r.floor(o),e[n]=r.ceil(a),e}function Ql(e){return Math.log(e)}function Jl(e){return Math.exp(e)}function h3(e){return-Math.log(-e)}function g3(e){return-Math.exp(-e)}function m3(e){return isFinite(e)?+("1e"+e):e<0?0:e}function v3(e){return e===10?m3:e===Math.E?Math.exp:r=>Math.pow(e,r)}function b3(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),r=>Math.log(r)/e)}function ef(e){return(r,t)=>-e(-r,t)}function y3(e){const r=e(Ql,Jl),t=r.domain;let n=10,o,a;function i(){return o=b3(n),a=v3(n),t()[0]<0?(o=ef(o),a=ef(a),e(h3,g3)):e(Ql,Jl),r}return r.base=function(s){return arguments.length?(n=+s,i()):n},r.domain=function(s){return arguments.length?(t(s),i()):t()},r.ticks=s=>{const c=t();let d=c[0],l=c[c.length-1];const f=l<d;f&&([d,l]=[l,d]);let u=o(d),h=o(l),p,m;const b=s==null?10:+s;let y=[];if(!(n%1)&&h-u<b){if(u=Math.floor(u),h=Math.ceil(h),d>0){for(;u<=h;++u)for(p=1;p<n;++p)if(m=u<0?p/a(-u):p*a(u),!(m<d)){if(m>l)break;y.push(m)}}else for(;u<=h;++u)for(p=n-1;p>=1;--p)if(m=u>0?p/a(-u):p*a(u),!(m<d)){if(m>l)break;y.push(m)}y.length*2<b&&(y=xa(d,l,b))}else y=xa(u,h,Math.min(h-u,b)).map(a);return f?y.reverse():y},r.tickFormat=(s,c)=>{if(s==null&&(s=10),c==null&&(c=n===10?"s":","),typeof c!="function"&&(!(n%1)&&(c=ho(c)).precision==null&&(c.trim=!0),c=wd(c)),s===1/0)return c;const d=Math.max(1,n*s/r.ticks().length);return l=>{let f=l/a(Math.round(o(l)));return f*n<n-.5&&(f*=n),f<=d?c(l):""}},r.nice=()=>t(Eh(t(),{floor:s=>a(Math.floor(o(s))),ceil:s=>a(Math.ceil(o(s)))})),r}function Th(){const e=y3(_h()).domain([1,10]);return e.copy=()=>bd(e,Th()).base(e.base()),Un.apply(e,arguments),e}function Oh(){var e=0,r=1,t=1,n=[.5],o=[0,1],a;function i(c){return c!=null&&c<=c?o[hd(n,c,0,t)]:a}function s(){var c=-1;for(n=new Array(t);++c<t;)n[c]=((c+1)*r-(c-t)*e)/(t+1);return i}return i.domain=function(c){return arguments.length?([e,r]=c,e=+e,r=+r,s()):[e,r]},i.range=function(c){return arguments.length?(t=(o=Array.from(c)).length-1,s()):o.slice()},i.invertExtent=function(c){var d=o.indexOf(c);return d<0?[NaN,NaN]:d<1?[e,n[0]]:d>=t?[n[t-1],r]:[n[d-1],n[d]]},i.unknown=function(c){return arguments.length&&(a=c),i},i.thresholds=function(){return n.slice()},i.copy=function(){return Oh().domain([e,r]).range(o).unknown(a)},Un.apply(Mh(i),arguments)}var zi=new Date,Li=new Date;function je(e,r,t,n){function o(a){return e(a=arguments.length===0?new Date:new Date(+a)),a}return o.floor=function(a){return e(a=new Date(+a)),a},o.ceil=function(a){return e(a=new Date(a-1)),r(a,1),e(a),a},o.round=function(a){var i=o(a),s=o.ceil(a);return a-i<s-a?i:s},o.offset=function(a,i){return r(a=new Date(+a),i==null?1:Math.floor(i)),a},o.range=function(a,i,s){var c=[],d;if(a=o.ceil(a),s=s==null?1:Math.floor(s),!(a<i)||!(s>0))return c;do c.push(d=new Date(+a)),r(a,s),e(a);while(d<a&&a<i);return c},o.filter=function(a){return je(function(i){if(i>=i)for(;e(i),!a(i);)i.setTime(i-1)},function(i,s){if(i>=i)if(s<0)for(;++s<=0;)for(;r(i,-1),!a(i););else for(;--s>=0;)for(;r(i,1),!a(i););})},t&&(o.count=function(a,i){return zi.setTime(+a),Li.setTime(+i),e(zi),e(Li),Math.floor(t(zi,Li))},o.every=function(a){return a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?o.filter(n?function(i){return n(i)%a===0}:function(i){return o.count(0,i)%a===0}):o}),o}var Ta=je(function(){},function(e,r){e.setTime(+e+r)},function(e,r){return r-e});Ta.every=function(e){return e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?je(function(r){r.setTime(Math.floor(r/e)*e)},function(r,t){r.setTime(+r+t*e)},function(r,t){return(t-r)/e}):Ta};var w3=Ta;Ta.range;const Xt=1e3,wt=Xt*60,Zt=wt*60,Ir=Zt*24,_d=Ir*7,tf=Ir*30,Di=Ir*365;var Ah=je(function(e){e.setTime(e-e.getMilliseconds())},function(e,r){e.setTime(+e+r*Xt)},function(e,r){return(r-e)/Xt},function(e){return e.getUTCSeconds()}),Gn=Ah;Ah.range;var Ph=je(function(e){e.setTime(e-e.getMilliseconds()-e.getSeconds()*Xt)},function(e,r){e.setTime(+e+r*wt)},function(e,r){return(r-e)/wt},function(e){return e.getMinutes()}),Uh=Ph;Ph.range;var Ch=je(function(e){e.setTime(e-e.getMilliseconds()-e.getSeconds()*Xt-e.getMinutes()*wt)},function(e,r){e.setTime(+e+r*Zt)},function(e,r){return(r-e)/Zt},function(e){return e.getHours()}),Bh=Ch;Ch.range;var Ih=je(e=>e.setHours(0,0,0,0),(e,r)=>e.setDate(e.getDate()+r),(e,r)=>(r-e-(r.getTimezoneOffset()-e.getTimezoneOffset())*wt)/Ir,e=>e.getDate()-1),li=Ih;Ih.range;function $r(e){return je(function(r){r.setDate(r.getDate()-(r.getDay()+7-e)%7),r.setHours(0,0,0,0)},function(r,t){r.setDate(r.getDate()+t*7)},function(r,t){return(t-r-(t.getTimezoneOffset()-r.getTimezoneOffset())*wt)/_d})}var fi=$r(0),Oa=$r(1),_3=$r(2),x3=$r(3),Sn=$r(4),k3=$r(5),S3=$r(6);fi.range;Oa.range;_3.range;x3.range;Sn.range;k3.range;S3.range;var zh=je(function(e){e.setDate(1),e.setHours(0,0,0,0)},function(e,r){e.setMonth(e.getMonth()+r)},function(e,r){return r.getMonth()-e.getMonth()+(r.getFullYear()-e.getFullYear())*12},function(e){return e.getMonth()}),Lh=zh;zh.range;var xd=je(function(e){e.setMonth(0,1),e.setHours(0,0,0,0)},function(e,r){e.setFullYear(e.getFullYear()+r)},function(e,r){return r.getFullYear()-e.getFullYear()},function(e){return e.getFullYear()});xd.every=function(e){return!isFinite(e=Math.floor(e))||!(e>0)?null:je(function(r){r.setFullYear(Math.floor(r.getFullYear()/e)*e),r.setMonth(0,1),r.setHours(0,0,0,0)},function(r,t){r.setFullYear(r.getFullYear()+t*e)})};var zr=xd;xd.range;var Dh=je(function(e){e.setUTCSeconds(0,0)},function(e,r){e.setTime(+e+r*wt)},function(e,r){return(r-e)/wt},function(e){return e.getUTCMinutes()}),M3=Dh;Dh.range;var Rh=je(function(e){e.setUTCMinutes(0,0,0)},function(e,r){e.setTime(+e+r*Zt)},function(e,r){return(r-e)/Zt},function(e){return e.getUTCHours()}),E3=Rh;Rh.range;var Fh=je(function(e){e.setUTCHours(0,0,0,0)},function(e,r){e.setUTCDate(e.getUTCDate()+r)},function(e,r){return(r-e)/Ir},function(e){return e.getUTCDate()-1}),kd=Fh;Fh.range;function Hr(e){return je(function(r){r.setUTCDate(r.getUTCDate()-(r.getUTCDay()+7-e)%7),r.setUTCHours(0,0,0,0)},function(r,t){r.setUTCDate(r.getUTCDate()+t*7)},function(r,t){return(t-r)/_d})}var Sd=Hr(0),Aa=Hr(1),T3=Hr(2),O3=Hr(3),Mn=Hr(4),A3=Hr(5),P3=Hr(6);Sd.range;Aa.range;T3.range;O3.range;Mn.range;A3.range;P3.range;var Nh=je(function(e){e.setUTCDate(1),e.setUTCHours(0,0,0,0)},function(e,r){e.setUTCMonth(e.getUTCMonth()+r)},function(e,r){return r.getUTCMonth()-e.getUTCMonth()+(r.getUTCFullYear()-e.getUTCFullYear())*12},function(e){return e.getUTCMonth()}),U3=Nh;Nh.range;var Md=je(function(e){e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},function(e,r){e.setUTCFullYear(e.getUTCFullYear()+r)},function(e,r){return r.getUTCFullYear()-e.getUTCFullYear()},function(e){return e.getUTCFullYear()});Md.every=function(e){return!isFinite(e=Math.floor(e))||!(e>0)?null:je(function(r){r.setUTCFullYear(Math.floor(r.getUTCFullYear()/e)*e),r.setUTCMonth(0,1),r.setUTCHours(0,0,0,0)},function(r,t){r.setUTCFullYear(r.getUTCFullYear()+t*e)})};var En=Md;Md.range;function Vh(e,r,t,n,o,a){const i=[[Gn,1,Xt],[Gn,5,5*Xt],[Gn,15,15*Xt],[Gn,30,30*Xt],[a,1,wt],[a,5,5*wt],[a,15,15*wt],[a,30,30*wt],[o,1,Zt],[o,3,3*Zt],[o,6,6*Zt],[o,12,12*Zt],[n,1,Ir],[n,2,2*Ir],[t,1,_d],[r,1,tf],[r,3,3*tf],[e,1,Di]];function s(d,l,f){const u=l<d;u&&([d,l]=[l,d]);const h=f&&typeof f.range=="function"?f:c(d,l,f),p=h?h.range(d,+l+1):[];return u?p.reverse():p}function c(d,l,f){const u=Math.abs(l-d)/f,h=pd(([,,b])=>b).right(i,u);if(h===i.length)return e.every(dc(d/Di,l/Di,f));if(h===0)return w3.every(Math.max(dc(d,l,f),1));const[p,m]=i[u/i[h-1][2]<i[h][2]/u?h-1:h];return p.every(m)}return[s,c]}Vh(En,U3,Sd,kd,E3,M3);const[C3,B3]=Vh(zr,Lh,fi,li,Bh,Uh);function Ri(e){if(0<=e.y&&e.y<100){var r=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return r.setFullYear(e.y),r}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function Fi(e){if(0<=e.y&&e.y<100){var r=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return r.setUTCFullYear(e.y),r}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Ln(e,r,t){return{y:e,m:r,d:t,H:0,M:0,S:0,L:0}}function I3(e){var r=e.dateTime,t=e.date,n=e.time,o=e.periods,a=e.days,i=e.shortDays,s=e.months,c=e.shortMonths,d=Dn(o),l=Rn(o),f=Dn(a),u=Rn(a),h=Dn(i),p=Rn(i),m=Dn(s),b=Rn(s),y=Dn(c),g=Rn(c),w={a:z,A:F,b:U,B:N,c:null,d:cf,e:cf,f:n5,g:p5,G:g5,H:e5,I:t5,j:r5,L:$h,m:o5,M:a5,p:V,q:X,Q:ff,s:uf,S:i5,u:s5,U:c5,V:d5,w:l5,W:f5,x:null,X:null,y:u5,Y:h5,Z:m5,"%":lf},k={a:de,A:ae,b:Y,B:te,c:null,d:df,e:df,f:w5,g:P5,G:C5,H:v5,I:b5,j:y5,L:Gh,m:_5,M:x5,p:J,q:ce,Q:ff,s:uf,S:k5,u:S5,U:M5,V:E5,w:T5,W:O5,x:null,X:null,y:A5,Y:U5,Z:B5,"%":lf},_={a:A,A:S,b:P,B:I,c:L,d:af,e:af,f:Z3,g:of,G:nf,H:sf,I:sf,j:q3,L:X3,m:j3,M:W3,p:T,q:G3,Q:Q3,s:J3,S:Y3,u:F3,U:N3,V:V3,w:R3,W:$3,x:B,X:C,y:of,Y:nf,Z:H3,"%":K3};w.x=x(t,w),w.X=x(n,w),w.c=x(r,w),k.x=x(t,k),k.X=x(n,k),k.c=x(r,k);function x(K,ee){return function(le){var W=[],pe=-1,se=0,G=K.length,Z,$,ve;for(le instanceof Date||(le=new Date(+le));++pe<G;)K.charCodeAt(pe)===37&&(W.push(K.slice(se,pe)),($=rf[Z=K.charAt(++pe)])!=null?Z=K.charAt(++pe):$=Z==="e"?" ":"0",(ve=ee[Z])&&(Z=ve(le,$)),W.push(Z),se=pe+1);return W.push(K.slice(se,pe)),W.join("")}}function O(K,ee){return function(le){var W=Ln(1900,void 0,1),pe=M(W,K,le+="",0),se,G;if(pe!=le.length)return null;if("Q"in W)return new Date(W.Q);if("s"in W)return new Date(W.s*1e3+("L"in W?W.L:0));if(ee&&!("Z"in W)&&(W.Z=0),"p"in W&&(W.H=W.H%12+W.p*12),W.m===void 0&&(W.m="q"in W?W.q:0),"V"in W){if(W.V<1||W.V>53)return null;"w"in W||(W.w=1),"Z"in W?(se=Fi(Ln(W.y,0,1)),G=se.getUTCDay(),se=G>4||G===0?Aa.ceil(se):Aa(se),se=kd.offset(se,(W.V-1)*7),W.y=se.getUTCFullYear(),W.m=se.getUTCMonth(),W.d=se.getUTCDate()+(W.w+6)%7):(se=Ri(Ln(W.y,0,1)),G=se.getDay(),se=G>4||G===0?Oa.ceil(se):Oa(se),se=li.offset(se,(W.V-1)*7),W.y=se.getFullYear(),W.m=se.getMonth(),W.d=se.getDate()+(W.w+6)%7)}else("W"in W||"U"in W)&&("w"in W||(W.w="u"in W?W.u%7:"W"in W?1:0),G="Z"in W?Fi(Ln(W.y,0,1)).getUTCDay():Ri(Ln(W.y,0,1)).getDay(),W.m=0,W.d="W"in W?(W.w+6)%7+W.W*7-(G+5)%7:W.w+W.U*7-(G+6)%7);return"Z"in W?(W.H+=W.Z/100|0,W.M+=W.Z%100,Fi(W)):Ri(W)}}function M(K,ee,le,W){for(var pe=0,se=ee.length,G=le.length,Z,$;pe<se;){if(W>=G)return-1;if(Z=ee.charCodeAt(pe++),Z===37){if(Z=ee.charAt(pe++),$=_[Z in rf?ee.charAt(pe++):Z],!$||(W=$(K,le,W))<0)return-1}else if(Z!=le.charCodeAt(W++))return-1}return W}function T(K,ee,le){var W=d.exec(ee.slice(le));return W?(K.p=l.get(W[0].toLowerCase()),le+W[0].length):-1}function A(K,ee,le){var W=h.exec(ee.slice(le));return W?(K.w=p.get(W[0].toLowerCase()),le+W[0].length):-1}function S(K,ee,le){var W=f.exec(ee.slice(le));return W?(K.w=u.get(W[0].toLowerCase()),le+W[0].length):-1}function P(K,ee,le){var W=y.exec(ee.slice(le));return W?(K.m=g.get(W[0].toLowerCase()),le+W[0].length):-1}function I(K,ee,le){var W=m.exec(ee.slice(le));return W?(K.m=b.get(W[0].toLowerCase()),le+W[0].length):-1}function L(K,ee,le){return M(K,r,ee,le)}function B(K,ee,le){return M(K,t,ee,le)}function C(K,ee,le){return M(K,n,ee,le)}function z(K){return i[K.getDay()]}function F(K){return a[K.getDay()]}function U(K){return c[K.getMonth()]}function N(K){return s[K.getMonth()]}function V(K){return o[+(K.getHours()>=12)]}function X(K){return 1+~~(K.getMonth()/3)}function de(K){return i[K.getUTCDay()]}function ae(K){return a[K.getUTCDay()]}function Y(K){return c[K.getUTCMonth()]}function te(K){return s[K.getUTCMonth()]}function J(K){return o[+(K.getUTCHours()>=12)]}function ce(K){return 1+~~(K.getUTCMonth()/3)}return{format:function(K){var ee=x(K+="",w);return ee.toString=function(){return K},ee},parse:function(K){var ee=O(K+="",!1);return ee.toString=function(){return K},ee},utcFormat:function(K){var ee=x(K+="",k);return ee.toString=function(){return K},ee},utcParse:function(K){var ee=O(K+="",!0);return ee.toString=function(){return K},ee}}}var rf={"-":"",_:" ",0:"0"},qe=/^\s*\d+/,z3=/^%/,L3=/[\\^$*+?|[\]().{}]/g;function ye(e,r,t){var n=e<0?"-":"",o=(n?-e:e)+"",a=o.length;return n+(a<t?new Array(t-a+1).join(r)+o:o)}function D3(e){return e.replace(L3,"\\$&")}function Dn(e){return new RegExp("^(?:"+e.map(D3).join("|")+")","i")}function Rn(e){return new Map(e.map((r,t)=>[r.toLowerCase(),t]))}function R3(e,r,t){var n=qe.exec(r.slice(t,t+1));return n?(e.w=+n[0],t+n[0].length):-1}function F3(e,r,t){var n=qe.exec(r.slice(t,t+1));return n?(e.u=+n[0],t+n[0].length):-1}function N3(e,r,t){var n=qe.exec(r.slice(t,t+2));return n?(e.U=+n[0],t+n[0].length):-1}function V3(e,r,t){var n=qe.exec(r.slice(t,t+2));return n?(e.V=+n[0],t+n[0].length):-1}function $3(e,r,t){var n=qe.exec(r.slice(t,t+2));return n?(e.W=+n[0],t+n[0].length):-1}function nf(e,r,t){var n=qe.exec(r.slice(t,t+4));return n?(e.y=+n[0],t+n[0].length):-1}function of(e,r,t){var n=qe.exec(r.slice(t,t+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),t+n[0].length):-1}function H3(e,r,t){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(r.slice(t,t+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),t+n[0].length):-1}function G3(e,r,t){var n=qe.exec(r.slice(t,t+1));return n?(e.q=n[0]*3-3,t+n[0].length):-1}function j3(e,r,t){var n=qe.exec(r.slice(t,t+2));return n?(e.m=n[0]-1,t+n[0].length):-1}function af(e,r,t){var n=qe.exec(r.slice(t,t+2));return n?(e.d=+n[0],t+n[0].length):-1}function q3(e,r,t){var n=qe.exec(r.slice(t,t+3));return n?(e.m=0,e.d=+n[0],t+n[0].length):-1}function sf(e,r,t){var n=qe.exec(r.slice(t,t+2));return n?(e.H=+n[0],t+n[0].length):-1}function W3(e,r,t){var n=qe.exec(r.slice(t,t+2));return n?(e.M=+n[0],t+n[0].length):-1}function Y3(e,r,t){var n=qe.exec(r.slice(t,t+2));return n?(e.S=+n[0],t+n[0].length):-1}function X3(e,r,t){var n=qe.exec(r.slice(t,t+3));return n?(e.L=+n[0],t+n[0].length):-1}function Z3(e,r,t){var n=qe.exec(r.slice(t,t+6));return n?(e.L=Math.floor(n[0]/1e3),t+n[0].length):-1}function K3(e,r,t){var n=z3.exec(r.slice(t,t+1));return n?t+n[0].length:-1}function Q3(e,r,t){var n=qe.exec(r.slice(t));return n?(e.Q=+n[0],t+n[0].length):-1}function J3(e,r,t){var n=qe.exec(r.slice(t));return n?(e.s=+n[0],t+n[0].length):-1}function cf(e,r){return ye(e.getDate(),r,2)}function e5(e,r){return ye(e.getHours(),r,2)}function t5(e,r){return ye(e.getHours()%12||12,r,2)}function r5(e,r){return ye(1+li.count(zr(e),e),r,3)}function $h(e,r){return ye(e.getMilliseconds(),r,3)}function n5(e,r){return $h(e,r)+"000"}function o5(e,r){return ye(e.getMonth()+1,r,2)}function a5(e,r){return ye(e.getMinutes(),r,2)}function i5(e,r){return ye(e.getSeconds(),r,2)}function s5(e){var r=e.getDay();return r===0?7:r}function c5(e,r){return ye(fi.count(zr(e)-1,e),r,2)}function Hh(e){var r=e.getDay();return r>=4||r===0?Sn(e):Sn.ceil(e)}function d5(e,r){return e=Hh(e),ye(Sn.count(zr(e),e)+(zr(e).getDay()===4),r,2)}function l5(e){return e.getDay()}function f5(e,r){return ye(Oa.count(zr(e)-1,e),r,2)}function u5(e,r){return ye(e.getFullYear()%100,r,2)}function p5(e,r){return e=Hh(e),ye(e.getFullYear()%100,r,2)}function h5(e,r){return ye(e.getFullYear()%1e4,r,4)}function g5(e,r){var t=e.getDay();return e=t>=4||t===0?Sn(e):Sn.ceil(e),ye(e.getFullYear()%1e4,r,4)}function m5(e){var r=e.getTimezoneOffset();return(r>0?"-":(r*=-1,"+"))+ye(r/60|0,"0",2)+ye(r%60,"0",2)}function df(e,r){return ye(e.getUTCDate(),r,2)}function v5(e,r){return ye(e.getUTCHours(),r,2)}function b5(e,r){return ye(e.getUTCHours()%12||12,r,2)}function y5(e,r){return ye(1+kd.count(En(e),e),r,3)}function Gh(e,r){return ye(e.getUTCMilliseconds(),r,3)}function w5(e,r){return Gh(e,r)+"000"}function _5(e,r){return ye(e.getUTCMonth()+1,r,2)}function x5(e,r){return ye(e.getUTCMinutes(),r,2)}function k5(e,r){return ye(e.getUTCSeconds(),r,2)}function S5(e){var r=e.getUTCDay();return r===0?7:r}function M5(e,r){return ye(Sd.count(En(e)-1,e),r,2)}function jh(e){var r=e.getUTCDay();return r>=4||r===0?Mn(e):Mn.ceil(e)}function E5(e,r){return e=jh(e),ye(Mn.count(En(e),e)+(En(e).getUTCDay()===4),r,2)}function T5(e){return e.getUTCDay()}function O5(e,r){return ye(Aa.count(En(e)-1,e),r,2)}function A5(e,r){return ye(e.getUTCFullYear()%100,r,2)}function P5(e,r){return e=jh(e),ye(e.getUTCFullYear()%100,r,2)}function U5(e,r){return ye(e.getUTCFullYear()%1e4,r,4)}function C5(e,r){var t=e.getUTCDay();return e=t>=4||t===0?Mn(e):Mn.ceil(e),ye(e.getUTCFullYear()%1e4,r,4)}function B5(){return"+0000"}function lf(){return"%"}function ff(e){return+e}function uf(e){return Math.floor(+e/1e3)}var Yr,qh;I5({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function I5(e){return Yr=I3(e),qh=Yr.format,Yr.parse,Yr.utcFormat,Yr.utcParse,Yr}function z5(e){return new Date(e)}function L5(e){return e instanceof Date?+e:+new Date(+e)}function Wh(e,r,t,n,o,a,i,s,c,d){var l=xh(),f=l.invert,u=l.domain,h=d(".%L"),p=d(":%S"),m=d("%I:%M"),b=d("%I %p"),y=d("%a %d"),g=d("%b %d"),w=d("%B"),k=d("%Y");function _(x){return(c(x)<x?h:s(x)<x?p:i(x)<x?m:a(x)<x?b:n(x)<x?o(x)<x?y:g:t(x)<x?w:k)(x)}return l.invert=function(x){return new Date(f(x))},l.domain=function(x){return arguments.length?u(Array.from(x,L5)):u().map(z5)},l.ticks=function(x){var O=u();return e(O[0],O[O.length-1],x==null?10:x)},l.tickFormat=function(x,O){return O==null?_:d(O)},l.nice=function(x){var O=u();return(!x||typeof x.range!="function")&&(x=r(O[0],O[O.length-1],x==null?10:x)),x?u(Eh(O,x)):l},l.copy=function(){return bd(l,Wh(e,r,t,n,o,a,i,s,c,d))},l}function Yh(){return Un.apply(Wh(C3,B3,zr,Lh,fi,li,Bh,Uh,Gn,qh).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}const hc=Math.PI,gc=2*hc,wr=1e-6,D5=gc-wr;function mc(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function Co(){return new mc}mc.prototype=Co.prototype={constructor:mc,moveTo:function(e,r){this._+="M"+(this._x0=this._x1=+e)+","+(this._y0=this._y1=+r)},closePath:function(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(e,r){this._+="L"+(this._x1=+e)+","+(this._y1=+r)},quadraticCurveTo:function(e,r,t,n){this._+="Q"+ +e+","+ +r+","+(this._x1=+t)+","+(this._y1=+n)},bezierCurveTo:function(e,r,t,n,o,a){this._+="C"+ +e+","+ +r+","+ +t+","+ +n+","+(this._x1=+o)+","+(this._y1=+a)},arcTo:function(e,r,t,n,o){e=+e,r=+r,t=+t,n=+n,o=+o;var a=this._x1,i=this._y1,s=t-e,c=n-r,d=a-e,l=i-r,f=d*d+l*l;if(o<0)throw new Error("negative radius: "+o);if(this._x1===null)this._+="M"+(this._x1=e)+","+(this._y1=r);else if(f>wr)if(!(Math.abs(l*s-c*d)>wr)||!o)this._+="L"+(this._x1=e)+","+(this._y1=r);else{var u=t-a,h=n-i,p=s*s+c*c,m=u*u+h*h,b=Math.sqrt(p),y=Math.sqrt(f),g=o*Math.tan((hc-Math.acos((p+f-m)/(2*b*y)))/2),w=g/y,k=g/b;Math.abs(w-1)>wr&&(this._+="L"+(e+w*d)+","+(r+w*l)),this._+="A"+o+","+o+",0,0,"+ +(l*u>d*h)+","+(this._x1=e+k*s)+","+(this._y1=r+k*c)}},arc:function(e,r,t,n,o,a){e=+e,r=+r,t=+t,a=!!a;var i=t*Math.cos(n),s=t*Math.sin(n),c=e+i,d=r+s,l=1^a,f=a?n-o:o-n;if(t<0)throw new Error("negative radius: "+t);this._x1===null?this._+="M"+c+","+d:(Math.abs(this._x1-c)>wr||Math.abs(this._y1-d)>wr)&&(this._+="L"+c+","+d),t&&(f<0&&(f=f%gc+gc),f>D5?this._+="A"+t+","+t+",0,1,"+l+","+(e-i)+","+(r-s)+"A"+t+","+t+",0,1,"+l+","+(this._x1=c)+","+(this._y1=d):f>wr&&(this._+="A"+t+","+t+",0,"+ +(f>=hc)+","+l+","+(this._x1=e+t*Math.cos(o))+","+(this._y1=r+t*Math.sin(o))))},rect:function(e,r,t,n){this._+="M"+(this._x0=this._x1=+e)+","+(this._y0=this._y1=+r)+"h"+ +t+"v"+ +n+"h"+-t+"Z"},toString:function(){return this._}};function he(e){return function(){return e}}const pf=Math.abs,Ze=Math.atan2,vr=Math.cos,R5=Math.max,Ni=Math.min,Pt=Math.sin,an=Math.sqrt,Je=1e-12,go=Math.PI,Pa=go/2,oa=2*go;function F5(e){return e>1?0:e<-1?go:Math.acos(e)}function hf(e){return e>=1?Pa:e<=-1?-Pa:Math.asin(e)}function N5(e){return e.innerRadius}function V5(e){return e.outerRadius}function $5(e){return e.startAngle}function H5(e){return e.endAngle}function G5(e){return e&&e.padAngle}function j5(e,r,t,n,o,a,i,s){var c=t-e,d=n-r,l=i-o,f=s-a,u=f*c-l*d;if(!(u*u<Je))return u=(l*(r-a)-f*(e-o))/u,[e+u*c,r+u*d]}function Yo(e,r,t,n,o,a,i){var s=e-t,c=r-n,d=(i?a:-a)/an(s*s+c*c),l=d*c,f=-d*s,u=e+l,h=r+f,p=t+l,m=n+f,b=(u+p)/2,y=(h+m)/2,g=p-u,w=m-h,k=g*g+w*w,_=o-a,x=u*m-p*h,O=(w<0?-1:1)*an(R5(0,_*_*k-x*x)),M=(x*w-g*O)/k,T=(-x*g-w*O)/k,A=(x*w+g*O)/k,S=(-x*g+w*O)/k,P=M-b,I=T-y,L=A-b,B=S-y;return P*P+I*I>L*L+B*B&&(M=A,T=S),{cx:M,cy:T,x01:-l,y01:-f,x11:M*(o/_-1),y11:T*(o/_-1)}}function mo(){var e=N5,r=V5,t=he(0),n=null,o=$5,a=H5,i=G5,s=null;function c(){var d,l,f=+e.apply(this,arguments),u=+r.apply(this,arguments),h=o.apply(this,arguments)-Pa,p=a.apply(this,arguments)-Pa,m=pf(p-h),b=p>h;if(s||(s=d=Co()),u<f&&(l=u,u=f,f=l),!(u>Je))s.moveTo(0,0);else if(m>oa-Je)s.moveTo(u*vr(h),u*Pt(h)),s.arc(0,0,u,h,p,!b),f>Je&&(s.moveTo(f*vr(p),f*Pt(p)),s.arc(0,0,f,p,h,b));else{var y=h,g=p,w=h,k=p,_=m,x=m,O=i.apply(this,arguments)/2,M=O>Je&&(n?+n.apply(this,arguments):an(f*f+u*u)),T=Ni(pf(u-f)/2,+t.apply(this,arguments)),A=T,S=T,P,I;if(M>Je){var L=hf(M/f*Pt(O)),B=hf(M/u*Pt(O));(_-=L*2)>Je?(L*=b?1:-1,w+=L,k-=L):(_=0,w=k=(h+p)/2),(x-=B*2)>Je?(B*=b?1:-1,y+=B,g-=B):(x=0,y=g=(h+p)/2)}var C=u*vr(y),z=u*Pt(y),F=f*vr(k),U=f*Pt(k);if(T>Je){var N=u*vr(g),V=u*Pt(g),X=f*vr(w),de=f*Pt(w),ae;if(m<go&&(ae=j5(C,z,X,de,N,V,F,U))){var Y=C-ae[0],te=z-ae[1],J=N-ae[0],ce=V-ae[1],K=1/Pt(F5((Y*J+te*ce)/(an(Y*Y+te*te)*an(J*J+ce*ce)))/2),ee=an(ae[0]*ae[0]+ae[1]*ae[1]);A=Ni(T,(f-ee)/(K-1)),S=Ni(T,(u-ee)/(K+1))}}x>Je?S>Je?(P=Yo(X,de,C,z,u,S,b),I=Yo(N,V,F,U,u,S,b),s.moveTo(P.cx+P.x01,P.cy+P.y01),S<T?s.arc(P.cx,P.cy,S,Ze(P.y01,P.x01),Ze(I.y01,I.x01),!b):(s.arc(P.cx,P.cy,S,Ze(P.y01,P.x01),Ze(P.y11,P.x11),!b),s.arc(0,0,u,Ze(P.cy+P.y11,P.cx+P.x11),Ze(I.cy+I.y11,I.cx+I.x11),!b),s.arc(I.cx,I.cy,S,Ze(I.y11,I.x11),Ze(I.y01,I.x01),!b))):(s.moveTo(C,z),s.arc(0,0,u,y,g,!b)):s.moveTo(C,z),!(f>Je)||!(_>Je)?s.lineTo(F,U):A>Je?(P=Yo(F,U,N,V,f,-A,b),I=Yo(C,z,X,de,f,-A,b),s.lineTo(P.cx+P.x01,P.cy+P.y01),A<T?s.arc(P.cx,P.cy,A,Ze(P.y01,P.x01),Ze(I.y01,I.x01),!b):(s.arc(P.cx,P.cy,A,Ze(P.y01,P.x01),Ze(P.y11,P.x11),!b),s.arc(0,0,f,Ze(P.cy+P.y11,P.cx+P.x11),Ze(I.cy+I.y11,I.cx+I.x11),b),s.arc(I.cx,I.cy,A,Ze(I.y11,I.x11),Ze(I.y01,I.x01),!b))):s.arc(0,0,f,k,w,b)}if(s.closePath(),d)return s=null,d+""||null}return c.centroid=function(){var d=(+e.apply(this,arguments)+ +r.apply(this,arguments))/2,l=(+o.apply(this,arguments)+ +a.apply(this,arguments))/2-go/2;return[vr(l)*d,Pt(l)*d]},c.innerRadius=function(d){return arguments.length?(e=typeof d=="function"?d:he(+d),c):e},c.outerRadius=function(d){return arguments.length?(r=typeof d=="function"?d:he(+d),c):r},c.cornerRadius=function(d){return arguments.length?(t=typeof d=="function"?d:he(+d),c):t},c.padRadius=function(d){return arguments.length?(n=d==null?null:typeof d=="function"?d:he(+d),c):n},c.startAngle=function(d){return arguments.length?(o=typeof d=="function"?d:he(+d),c):o},c.endAngle=function(d){return arguments.length?(a=typeof d=="function"?d:he(+d),c):a},c.padAngle=function(d){return arguments.length?(i=typeof d=="function"?d:he(+d),c):i},c.context=function(d){return arguments.length?(s=d==null?null:d,c):s},c}var q5=Array.prototype.slice;function ui(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function Xh(e){this._context=e}Xh.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,r){switch(e=+e,r=+r,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,r):this._context.moveTo(e,r);break;case 1:this._point=2;default:this._context.lineTo(e,r);break}}};function pi(e){return new Xh(e)}function Ed(e){return e[0]}function Td(e){return e[1]}function hi(e,r){var t=he(!0),n=null,o=pi,a=null;e=typeof e=="function"?e:e===void 0?Ed:he(e),r=typeof r=="function"?r:r===void 0?Td:he(r);function i(s){var c,d=(s=ui(s)).length,l,f=!1,u;for(n==null&&(a=o(u=Co())),c=0;c<=d;++c)!(c<d&&t(l=s[c],c,s))===f&&((f=!f)?a.lineStart():a.lineEnd()),f&&a.point(+e(l,c,s),+r(l,c,s));if(u)return a=null,u+""||null}return i.x=function(s){return arguments.length?(e=typeof s=="function"?s:he(+s),i):e},i.y=function(s){return arguments.length?(r=typeof s=="function"?s:he(+s),i):r},i.defined=function(s){return arguments.length?(t=typeof s=="function"?s:he(!!s),i):t},i.curve=function(s){return arguments.length?(o=s,n!=null&&(a=o(n)),i):o},i.context=function(s){return arguments.length?(s==null?n=a=null:a=o(n=s),i):n},i}function Od(e,r,t){var n=null,o=he(!0),a=null,i=pi,s=null;e=typeof e=="function"?e:e===void 0?Ed:he(+e),r=typeof r=="function"?r:he(r===void 0?0:+r),t=typeof t=="function"?t:t===void 0?Td:he(+t);function c(l){var f,u,h,p=(l=ui(l)).length,m,b=!1,y,g=new Array(p),w=new Array(p);for(a==null&&(s=i(y=Co())),f=0;f<=p;++f){if(!(f<p&&o(m=l[f],f,l))===b)if(b=!b)u=f,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),h=f-1;h>=u;--h)s.point(g[h],w[h]);s.lineEnd(),s.areaEnd()}b&&(g[f]=+e(m,f,l),w[f]=+r(m,f,l),s.point(n?+n(m,f,l):g[f],t?+t(m,f,l):w[f]))}if(y)return s=null,y+""||null}function d(){return hi().defined(o).curve(i).context(a)}return c.x=function(l){return arguments.length?(e=typeof l=="function"?l:he(+l),n=null,c):e},c.x0=function(l){return arguments.length?(e=typeof l=="function"?l:he(+l),c):e},c.x1=function(l){return arguments.length?(n=l==null?null:typeof l=="function"?l:he(+l),c):n},c.y=function(l){return arguments.length?(r=typeof l=="function"?l:he(+l),t=null,c):r},c.y0=function(l){return arguments.length?(r=typeof l=="function"?l:he(+l),c):r},c.y1=function(l){return arguments.length?(t=l==null?null:typeof l=="function"?l:he(+l),c):t},c.lineX0=c.lineY0=function(){return d().x(e).y(r)},c.lineY1=function(){return d().x(e).y(t)},c.lineX1=function(){return d().x(n).y(r)},c.defined=function(l){return arguments.length?(o=typeof l=="function"?l:he(!!l),c):o},c.curve=function(l){return arguments.length?(i=l,a!=null&&(s=i(a)),c):i},c.context=function(l){return arguments.length?(l==null?a=s=null:s=i(a=l),c):a},c}function W5(e,r){return r<e?-1:r>e?1:r>=e?0:NaN}function Y5(e){return e}function X5(){var e=Y5,r=W5,t=null,n=he(0),o=he(oa),a=he(0);function i(s){var c,d=(s=ui(s)).length,l,f,u=0,h=new Array(d),p=new Array(d),m=+n.apply(this,arguments),b=Math.min(oa,Math.max(-oa,o.apply(this,arguments)-m)),y,g=Math.min(Math.abs(b)/d,a.apply(this,arguments)),w=g*(b<0?-1:1),k;for(c=0;c<d;++c)(k=p[h[c]=c]=+e(s[c],c,s))>0&&(u+=k);for(r!=null?h.sort(function(_,x){return r(p[_],p[x])}):t!=null&&h.sort(function(_,x){return t(s[_],s[x])}),c=0,f=u?(b-d*w)/u:0;c<d;++c,m=y)l=h[c],k=p[l],y=m+(k>0?k*f:0)+w,p[l]={data:s[l],index:c,value:k,startAngle:m,endAngle:y,padAngle:g};return p}return i.value=function(s){return arguments.length?(e=typeof s=="function"?s:he(+s),i):e},i.sortValues=function(s){return arguments.length?(r=s,t=null,i):r},i.sort=function(s){return arguments.length?(t=s,r=null,i):t},i.startAngle=function(s){return arguments.length?(n=typeof s=="function"?s:he(+s),i):n},i.endAngle=function(s){return arguments.length?(o=typeof s=="function"?s:he(+s),i):o},i.padAngle=function(s){return arguments.length?(a=typeof s=="function"?s:he(+s),i):a},i}var Z5=Kh(pi);function Zh(e){this._curve=e}Zh.prototype={areaStart:function(){this._curve.areaStart()},areaEnd:function(){this._curve.areaEnd()},lineStart:function(){this._curve.lineStart()},lineEnd:function(){this._curve.lineEnd()},point:function(e,r){this._curve.point(r*Math.sin(e),r*-Math.cos(e))}};function Kh(e){function r(t){return new Zh(e(t))}return r._curve=e,r}function K5(e){var r=e.curve;return e.angle=e.x,delete e.x,e.radius=e.y,delete e.y,e.curve=function(t){return arguments.length?r(Kh(t)):r()._curve},e}function Q5(){return K5(hi().curve(Z5))}class J5{constructor(r,t){this._context=r,this._x=t}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(r,t){switch(r=+r,t=+t,this._point){case 0:{this._point=1,this._line?this._context.lineTo(r,t):this._context.moveTo(r,t);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+r)/2,this._y0,this._x0,t,r,t):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+t)/2,r,this._y0,r,t);break}}this._x0=r,this._y0=t}}function e4(e){return new J5(e,!0)}function t4(e){return e.source}function r4(e){return e.target}function n4(e){let r=t4,t=r4,n=Ed,o=Td,a=null,i=null;function s(){let c;const d=q5.call(arguments),l=r.apply(this,d),f=t.apply(this,d);if(a==null&&(i=e(c=Co())),i.lineStart(),d[0]=l,i.point(+n.apply(this,d),+o.apply(this,d)),d[0]=f,i.point(+n.apply(this,d),+o.apply(this,d)),i.lineEnd(),c)return i=null,c+""||null}return s.source=function(c){return arguments.length?(r=c,s):r},s.target=function(c){return arguments.length?(t=c,s):t},s.x=function(c){return arguments.length?(n=typeof c=="function"?c:he(+c),s):n},s.y=function(c){return arguments.length?(o=typeof c=="function"?c:he(+c),s):o},s.context=function(c){return arguments.length?(c==null?a=i=null:i=e(a=c),s):a},s}function o4(){return n4(e4)}function pr(){}function Ua(e,r,t){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+r)/6,(e._y0+4*e._y1+t)/6)}function gi(e){this._context=e}gi.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Ua(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,r){switch(e=+e,r=+r,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,r):this._context.moveTo(e,r);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Ua(this,e,r);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=r}};function a4(e){return new gi(e)}function Qh(e){this._context=e}Qh.prototype={areaStart:pr,areaEnd:pr,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,r){switch(e=+e,r=+r,this._point){case 0:this._point=1,this._x2=e,this._y2=r;break;case 1:this._point=2,this._x3=e,this._y3=r;break;case 2:this._point=3,this._x4=e,this._y4=r,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+r)/6);break;default:Ua(this,e,r);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=r}};function i4(e){return new Qh(e)}function Jh(e){this._context=e}Jh.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,r){switch(e=+e,r=+r,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var t=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+r)/6;this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 3:this._point=4;default:Ua(this,e,r);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=r}};function s4(e){return new Jh(e)}function eg(e,r){this._basis=new gi(e),this._beta=r}eg.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var e=this._x,r=this._y,t=e.length-1;if(t>0)for(var n=e[0],o=r[0],a=e[t]-n,i=r[t]-o,s=-1,c;++s<=t;)c=s/t,this._basis.point(this._beta*e[s]+(1-this._beta)*(n+c*a),this._beta*r[s]+(1-this._beta)*(o+c*i));this._x=this._y=null,this._basis.lineEnd()},point:function(e,r){this._x.push(+e),this._y.push(+r)}};var c4=function e(r){function t(n){return r===1?new gi(n):new eg(n,r)}return t.beta=function(n){return e(+n)},t}(.85);function Ca(e,r,t){e._context.bezierCurveTo(e._x1+e._k*(e._x2-e._x0),e._y1+e._k*(e._y2-e._y0),e._x2+e._k*(e._x1-r),e._y2+e._k*(e._y1-t),e._x2,e._y2)}function Ad(e,r){this._context=e,this._k=(1-r)/6}Ad.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:Ca(this,this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,r){switch(e=+e,r=+r,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,r):this._context.moveTo(e,r);break;case 1:this._point=2,this._x1=e,this._y1=r;break;case 2:this._point=3;default:Ca(this,e,r);break}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=r}};var d4=function e(r){function t(n){return new Ad(n,r)}return t.tension=function(n){return e(+n)},t}(0);function Pd(e,r){this._context=e,this._k=(1-r)/6}Pd.prototype={areaStart:pr,areaEnd:pr,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(e,r){switch(e=+e,r=+r,this._point){case 0:this._point=1,this._x3=e,this._y3=r;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=r);break;case 2:this._point=3,this._x5=e,this._y5=r;break;default:Ca(this,e,r);break}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=r}};var l4=function e(r){function t(n){return new Pd(n,r)}return t.tension=function(n){return e(+n)},t}(0);function Ud(e,r){this._context=e,this._k=(1-r)/6}Ud.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,r){switch(e=+e,r=+r,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:Ca(this,e,r);break}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=r}};var f4=function e(r){function t(n){return new Ud(n,r)}return t.tension=function(n){return e(+n)},t}(0);function Cd(e,r,t){var n=e._x1,o=e._y1,a=e._x2,i=e._y2;if(e._l01_a>Je){var s=2*e._l01_2a+3*e._l01_a*e._l12_a+e._l12_2a,c=3*e._l01_a*(e._l01_a+e._l12_a);n=(n*s-e._x0*e._l12_2a+e._x2*e._l01_2a)/c,o=(o*s-e._y0*e._l12_2a+e._y2*e._l01_2a)/c}if(e._l23_a>Je){var d=2*e._l23_2a+3*e._l23_a*e._l12_a+e._l12_2a,l=3*e._l23_a*(e._l23_a+e._l12_a);a=(a*d+e._x1*e._l23_2a-r*e._l12_2a)/l,i=(i*d+e._y1*e._l23_2a-t*e._l12_2a)/l}e._context.bezierCurveTo(n,o,a,i,e._x2,e._y2)}function tg(e,r){this._context=e,this._alpha=r}tg.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,r){if(e=+e,r=+r,this._point){var t=this._x2-e,n=this._y2-r;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(t*t+n*n,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,r):this._context.moveTo(e,r);break;case 1:this._point=2;break;case 2:this._point=3;default:Cd(this,e,r);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=r}};var u4=function e(r){function t(n){return r?new tg(n,r):new Ad(n,0)}return t.alpha=function(n){return e(+n)},t}(.5);function rg(e,r){this._context=e,this._alpha=r}rg.prototype={areaStart:pr,areaEnd:pr,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(e,r){if(e=+e,r=+r,this._point){var t=this._x2-e,n=this._y2-r;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(t*t+n*n,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=e,this._y3=r;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=r);break;case 2:this._point=3,this._x5=e,this._y5=r;break;default:Cd(this,e,r);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=r}};var p4=function e(r){function t(n){return r?new rg(n,r):new Pd(n,0)}return t.alpha=function(n){return e(+n)},t}(.5);function ng(e,r){this._context=e,this._alpha=r}ng.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,r){if(e=+e,r=+r,this._point){var t=this._x2-e,n=this._y2-r;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(t*t+n*n,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:Cd(this,e,r);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=r}};var h4=function e(r){function t(n){return r?new ng(n,r):new Ud(n,0)}return t.alpha=function(n){return e(+n)},t}(.5);function og(e){this._context=e}og.prototype={areaStart:pr,areaEnd:pr,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,r){e=+e,r=+r,this._point?this._context.lineTo(e,r):(this._point=1,this._context.moveTo(e,r))}};function ag(e){return new og(e)}function gf(e){return e<0?-1:1}function mf(e,r,t){var n=e._x1-e._x0,o=r-e._x1,a=(e._y1-e._y0)/(n||o<0&&-0),i=(t-e._y1)/(o||n<0&&-0),s=(a*o+i*n)/(n+o);return(gf(a)+gf(i))*Math.min(Math.abs(a),Math.abs(i),.5*Math.abs(s))||0}function vf(e,r){var t=e._x1-e._x0;return t?(3*(e._y1-e._y0)/t-r)/2:r}function Vi(e,r,t){var n=e._x0,o=e._y0,a=e._x1,i=e._y1,s=(a-n)/3;e._context.bezierCurveTo(n+s,o+s*r,a-s,i-s*t,a,i)}function Ba(e){this._context=e}Ba.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Vi(this,this._t0,vf(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,r){var t=NaN;if(e=+e,r=+r,!(e===this._x1&&r===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,r):this._context.moveTo(e,r);break;case 1:this._point=2;break;case 2:this._point=3,Vi(this,vf(this,t=mf(this,e,r)),t);break;default:Vi(this,this._t0,t=mf(this,e,r));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=r,this._t0=t}}};function ig(e){this._context=new sg(e)}(ig.prototype=Object.create(Ba.prototype)).point=function(e,r){Ba.prototype.point.call(this,r,e)};function sg(e){this._context=e}sg.prototype={moveTo:function(e,r){this._context.moveTo(r,e)},closePath:function(){this._context.closePath()},lineTo:function(e,r){this._context.lineTo(r,e)},bezierCurveTo:function(e,r,t,n,o,a){this._context.bezierCurveTo(r,e,n,t,a,o)}};function g4(e){return new Ba(e)}function m4(e){return new ig(e)}function cg(e){this._context=e}cg.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,r=this._y,t=e.length;if(t)if(this._line?this._context.lineTo(e[0],r[0]):this._context.moveTo(e[0],r[0]),t===2)this._context.lineTo(e[1],r[1]);else for(var n=bf(e),o=bf(r),a=0,i=1;i<t;++a,++i)this._context.bezierCurveTo(n[0][a],o[0][a],n[1][a],o[1][a],e[i],r[i]);(this._line||this._line!==0&&t===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,r){this._x.push(+e),this._y.push(+r)}};function bf(e){var r,t=e.length-1,n,o=new Array(t),a=new Array(t),i=new Array(t);for(o[0]=0,a[0]=2,i[0]=e[0]+2*e[1],r=1;r<t-1;++r)o[r]=1,a[r]=4,i[r]=4*e[r]+2*e[r+1];for(o[t-1]=2,a[t-1]=7,i[t-1]=8*e[t-1]+e[t],r=1;r<t;++r)n=o[r]/a[r-1],a[r]-=n,i[r]-=n*i[r-1];for(o[t-1]=i[t-1]/a[t-1],r=t-2;r>=0;--r)o[r]=(i[r]-o[r+1])/a[r];for(a[t-1]=(e[t]+o[t-1])/2,r=0;r<t-1;++r)a[r]=2*e[r+1]-o[r+1];return[o,a]}function v4(e){return new cg(e)}function mi(e,r){this._context=e,this._t=r}mi.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,r){switch(e=+e,r=+r,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,r):this._context.moveTo(e,r);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,r),this._context.lineTo(e,r);else{var t=this._x*(1-this._t)+e*this._t;this._context.lineTo(t,this._y),this._context.lineTo(t,r)}break}}this._x=e,this._y=r}};function b4(e){return new mi(e,.5)}function y4(e){return new mi(e,0)}function w4(e){return new mi(e,1)}function yf(e,r){if((i=e.length)>1)for(var t=1,n,o,a=e[r[0]],i,s=a.length;t<i;++t)for(o=a,a=e[r[t]],n=0;n<s;++n)a[n][1]+=a[n][0]=isNaN(o[n][1])?o[n][0]:o[n][1]}function wf(e){for(var r=e.length,t=new Array(r);--r>=0;)t[r]=r;return t}function _4(e,r){return e[r]}function x4(e){const r=[];return r.key=e,r}function $i(){var e=he([]),r=wf,t=yf,n=_4;function o(a){var i=Array.from(e.apply(this,arguments),x4),s,c=i.length,d=-1,l;for(const f of a)for(s=0,++d;s<c;++s)(i[s][d]=[0,+n(f,i[s].key,d,a)]).data=f;for(s=0,l=ui(r(i));s<c;++s)i[l[s]].index=s;return t(i,l),i}return o.keys=function(a){return arguments.length?(e=typeof a=="function"?a:he(Array.from(a)),o):e},o.value=function(a){return arguments.length?(n=typeof a=="function"?a:he(+a),o):n},o.order=function(a){return arguments.length?(r=a==null?wf:typeof a=="function"?a:he(Array.from(a)),o):r},o.offset=function(a){return arguments.length?(t=a==null?yf:a,o):t},o}function k4(e,r){if((c=e.length)>0)for(var t,n=0,o,a,i,s,c,d=e[r[0]].length;n<d;++n)for(i=s=0,t=0;t<c;++t)(a=(o=e[r[t]][n])[1]-o[0])>0?(o[0]=i,o[1]=i+=a):a<0?(o[1]=s,o[0]=s+=a):(o[0]=0,o[1]=a)}var Ia=globalThis&&globalThis.__assign||function(){return Ia=Object.assign||function(e){for(var r,t=1,n=arguments.length;t<n;t++){r=arguments[t];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},Ia.apply(this,arguments)},rr=function(){function e(r){this.state={options:{}},this.colorScale={},this.colorClassNames={},this.services=r}return e.prototype.getAllDataFromDomain=function(r){if(!this.getData())return null;var t=this.getOptions(),n=this.getData(),o=this.getDataGroups(),a=v.getProperty(t,"data").groupMapsTo,i=v.getProperty(t,"axes");return r&&(n=n.filter(function(s){return r.includes(s[a])})),i&&Object.keys(i).forEach(function(s){var c=i[s].mapsTo,d=i[s].scaleType;if((d===ne.LINEAR||d===ne.LOG)&&(n=n.map(function(h){var p;return Ia(Ia({},h),(p={},p[c]=h[c]===null?h[c]:Number(h[c]),p))})),c&&i[s].domain)if(d===ne.LABELS)n=n.filter(function(h){return i[s].domain.includes(h[c])});else{var l=i[s].domain,f=l[0],u=l[1];n=n.filter(function(h){return!(c in h)||h[c]>=f&&h[c]<=u})}}),n.filter(function(s){return o.find(function(c){return c.name===s[a]})})},e.prototype.getDisplayData=function(r){if(!this.get("data"))return null;var t=ze.items.status.ACTIVE,n=this.getDataGroups(r),o=this.getOptions().data.groupMapsTo,a=this.getAllDataFromDomain(r);return a.filter(function(i){return n.find(function(s){return s.name===i[o]&&s.status===t})})},e.prototype.getData=function(){return this.get("data")},e.prototype.isDataEmpty=function(){return!this.getData().length},e.prototype.setData=function(r){var t=this.sanitize(v.clone(r)),n=this.generateDataGroups(t);return this.set({data:t,dataGroups:n}),t},e.prototype.getDataGroups=function(r){var t=v.getProperty(this.getOptions(),"data","loading");return t?[]:r?this.get("dataGroups").filter(function(n){return r.includes(n.name)}):this.get("dataGroups")},e.prototype.getActiveDataGroups=function(r){var t=ze.items.status.ACTIVE;return this.getDataGroups(r).filter(function(n){return n.status===t})},e.prototype.getDataGroupNames=function(r){var t=this.getDataGroups(r);return t.map(function(n){return n.name})},e.prototype.getActiveDataGroupNames=function(r){var t=this.getActiveDataGroups(r);return t.map(function(n){return n.name})},e.prototype.aggregateBinDataByGroup=function(r){return v.groupBy(r,"group")},e.prototype.getBinConfigurations=function(){var r=this,t=this.getDisplayData(),n=this.getOptions(),o=this.services.cartesianScales.getMainXAxisPosition(),a=this.services.cartesianScales.getDomainIdentifier(),i=n.axes[o],s=n.data.groupMapsTo,c=i.bins,d=c===void 0?Vu.defaultBins:c,l=Array.isArray(d),f=kk().value(function(b){return b[a]}).thresholds(d)(t);if(l)f[f.length-1].x1=d[d.length-1];else{var u=f[0].x1-f[0].x0;f[f.length-1].x1=+f[f.length-1].x0+u}var h=l?[d[0],d[d.length-1]]:[f[0].x0,f[f.length-1].x1],p=Array.from(new Set(t.map(function(b){return b[s]}))),m=[];return f.forEach(function(b){var y=b.x0+"-"+b.x1,g=r.aggregateBinDataByGroup(b);p.forEach(function(w){m.push({group:w,key:y,value:g[w]||0,bin:b.x0})})}),{bins:f,binsDomain:h}},e.prototype.getBinnedStackedData=function(){var r=this.getOptions(),t=r.data.groupMapsTo,n=this.getActiveDataGroupNames(),o=this.getBinConfigurations().bins,a=this.getDataValuesGroupedByKeys({bins:o});return $i().keys(n)(a).map(function(i,s){return Object.keys(i).filter(function(c){return!isNaN(c)}).map(function(c){var d=i[c];return d[t]=n[s],d})})},e.prototype.getGroupedData=function(r){var t=this.getDisplayData(r),n={},o=this.getOptions().data.groupMapsTo;return t.map(function(a){var i=a[o];n[i]!==null&&n[i]!==void 0?n[i].push(a):n[i]=[a]}),Object.keys(n).map(function(a){return{name:a,data:n[a]}})},e.prototype.getStackKeys=function(r){var t=this,n=r===void 0?{bins:null,groups:null}:r,o=n.bins,a=o===void 0?null:o,i=n.groups,s=i===void 0?null:i,c=this.getOptions(),d=this.getDisplayData(s),l;a?l=a.map(function(h){return h.x0+"-"+h.x1}):l=v.removeArrayDuplicates(d.map(function(h){var p=t.services.cartesianScales.getDomainIdentifier(h);return h[p]&&typeof h[p].toString=="function"?h[p].toString():h[p]}));var f=this.services.cartesianScales.domainAxisPosition,u=c.axes[f].scaleType;return u===ne.TIME?l.sort(function(h,p){var m=new Date(h),b=new Date(p);return m-b}):(u===ne.LOG||u===ne.LINEAR)&&l.sort(function(h,p){return h-p}),l},e.prototype.getDataValuesGroupedByKeys=function(r){var t=this,n=r.bins,o=n===void 0?null:n,a=r.groups,i=a===void 0?null:a,s=this.getOptions(),c=s.data.groupMapsTo,d=this.getDisplayData(i),l=this.getDataGroupNames(),f=this.getStackKeys({bins:o,groups:i});return o?f.map(function(u){var h=u.split("-"),p=h[0],m=h[1],b={x0:p,x1:m},y=o.find(function(g){return g.x0.toString()===p.toString()});return l.forEach(function(g){b[g]=y.filter(function(w){return w[c]===g}).length}),b}):f.map(function(u){var h={sharedStackKey:u};return l.forEach(function(p){var m=d.find(function(y){var g=t.services.cartesianScales.getDomainIdentifier(y);return y[c]===p&&y.hasOwnProperty(g)&&y[g].toString()===u}),b=t.services.cartesianScales.getRangeIdentifier(h);h[p]=m?m[b]:null}),h})},e.prototype.getStackedData=function(r){var t=r.percentage,n=t===void 0?!1:t,o=r.groups,a=o===void 0?null:o,i=r.divergent,s=i===void 0?!1:i,c=this.getOptions(),d=c.data.groupMapsTo,l=this.getActiveDataGroupNames(a),f=this.getDataValuesGroupedByKeys({groups:a});if(n){var u=v.fromPairs(f.map(function(p){return[p.sharedStackKey,0]}));f.forEach(function(p){l.forEach(function(m){u[p.sharedStackKey]+=p[m]})}),f.forEach(function(p){l.forEach(function(m){u[p.sharedStackKey]?p[m]=p[m]/u[p.sharedStackKey]*100:p[m]=0})})}var h=s?$i().offset(k4):$i();return h.keys(l)(f).map(function(p,m){return Object.keys(p).filter(function(b){return!isNaN(b)}).map(function(b){var y=p[b];return y[d]=l[m],y})})},e.prototype.getOptions=function(){return this.state.options},e.prototype.set=function(r,t){this.state=Object.assign({},this.state,r);var n=Object.assign({skipUpdate:!1,animate:!0},t);n.skipUpdate||this.update(n.animate)},e.prototype.get=function(r){return r?this.state[r]:this.state},e.prototype.setOptions=function(r){var t=this.getOptions();v.updateLegendAdditionalItems(t,r),this.set({options:v.merge(t,r)})},e.prototype.update=function(r){r===void 0&&(r=!0),this.getDisplayData()&&(this.updateAllDataGroups(),this.setCustomColorScale(),this.setColorClassNames(),this.services.events.dispatchEvent(E.Model.UPDATE,{animate:r}))},e.prototype.toggleDataLabel=function(r){var t=ze.items.status,n=t.ACTIVE,o=t.DISABLED,a=this.getDataGroups(),i=a.some(function(u){return u.status===o}),s=a.filter(function(u){return u.status===n});if(i)if(s.length===1&&s[0].name===r)a.forEach(function(u,h){a[h].status=n});else{var c=a.findIndex(function(u){return u.name===r});a[c].status=a[c].status===o?n:o}else a.forEach(function(u,h){a[h].status=u.name===r?n:o});var d=a.filter(function(u){return u.status===n}),l=this.getOptions(),f=a.some(function(u){return u.status===o});f?l.data.selectedGroups=d.map(function(u){return u.name}):l.data.selectedGroups=[],this.services.events.dispatchEvent(E.Legend.ITEMS_UPDATE,{dataGroups:a}),this.set({dataGroups:a})},e.prototype.getIsFilled=function(r,t,n,o){var a=this.getOptions();return a.getIsFilled?a.getIsFilled(r,t,n,o):o},e.prototype.getFillColor=function(r,t,n){var o=this.getOptions(),a=v.getProperty(this.colorScale,r);return o.getFillColor?o.getFillColor(r,t,n,a):a},e.prototype.getStrokeColor=function(r,t,n){var o=this.getOptions(),a=v.getProperty(this.colorScale,r);return o.getStrokeColor?o.getStrokeColor(r,t,n,a):a},e.prototype.isUserProvidedColorScaleValid=function(){var r=v.getProperty(this.getOptions(),"color","scale"),t=this.getDataGroups();return r==null||Object.keys(r).length==0?!1:t.some(function(n){return Object.keys(r).includes(n.name)})},e.prototype.getColorClassName=function(r){var t=this.colorClassNames(r.dataGroupName),n=r.originalClassName;return r.classNameTypes.forEach(function(o){return n=r.originalClassName?n+" "+o+"-"+t:o+"-"+t}),n},e.prototype.getStatus=function(){return null},e.prototype.getAllDataGroupsNames=function(){return this.allDataGroups},e.prototype.transformToTabularData=function(r){console.warn("We've updated the charting data format to be tabular by default. The current format you're using is deprecated and will be removed in v1.0, read more here https://carbon-design-system.github.io/carbon-charts/?path=/story/docs-tutorials--tabular-data-format");var t=[],n=r.datasets,o=r.labels;return n.forEach(function(a){a.data.forEach(function(i,s){var c,d=v.getProperty(a,"label");if(d===null){var l=v.getProperty(o,s);l?c=l:c="Ungrouped"}else c=d;var f={group:c,key:o[s]};isNaN(i)?(f.value=i.value,f.date=i.date):f.value=i,t.push(f)})}),t},e.prototype.getTabularDataArray=function(){return[]},e.prototype.exportToCSV=function(){var r=this.getTabularDataArray().map(function(o){return o.map(function(a){return'"'+a+'"'})}),t="",n="";r.forEach(function(o,a){n=o.join(","),t+=a<r.length?n+`
`:n}),this.services.files.downloadCSV(t,"myChart.csv")},e.prototype.getTabularData=function(r){return Array.isArray(r)?r:this.transformToTabularData(r)},e.prototype.sanitize=function(r){return r=this.getTabularData(r),r},e.prototype.updateAllDataGroups=function(){var r=this;this.allDataGroups?this.getDataGroupNames().forEach(function(t){r.allDataGroups.indexOf(t)===-1&&r.allDataGroups.push(t)}):this.allDataGroups=this.getDataGroupNames()},e.prototype.generateDataGroups=function(r){var t=this.getOptions().data.groupMapsTo,n=ze.items.status,o=n.ACTIVE,a=n.DISABLED,i=this.getOptions(),s=v.removeArrayDuplicates(r.map(function(l){return l[t]}));if(i.data.selectedGroups.length){var c=i.data.selectedGroups.every(function(l){return s.includes(l)});c||(i.data.selectedGroups=[])}var d=function(l){return!i.data.selectedGroups.length||i.data.selectedGroups.includes(l)?o:a};return s.map(function(l){return{name:l,status:d(l)}})},e.prototype.setCustomColorScale=function(){var r=this;if(!!this.isUserProvidedColorScaleValid()){var t=this.getOptions(),n=v.getProperty(t,"color","scale");Object.keys(n).forEach(function(a){r.allDataGroups.includes(a)||console.warn('"'+a+'" does not exist in data groups.')});var o=this.allDataGroups.filter(function(a){return n[a]});o.forEach(function(a){return r.colorScale[a]=n[a]})}},e.prototype.setColorClassNames=function(){var r=v.getProperty(this.getOptions(),"color","pairing"),t=v.getProperty(r,"numberOfVariants");(!t||t<this.allDataGroups.length)&&(t=this.allDataGroups.length);var n=v.getProperty(r,"option"),o=Xc.pairingOptions,a=t>5?14:t;n=n<=o[a+"-color"]?n:1;var i=this.allDataGroups.map(function(s,c){return a+"-"+n+"-"+(c%14+1)});this.colorClassNames=di().range(i).domain(this.allDataGroups)},e}(),nr=function(){function e(r,t){this.model=r,this.services=t,this.init()}return e.prototype.init=function(){},e.prototype.update=function(){},e.prototype.setModel=function(r){this.model=r},e.prototype.setServices=function(r){this.services=r},e}(),dg=function(){if(typeof Map!="undefined")return Map;function e(r,t){var n=-1;return r.some(function(o,a){return o[0]===t?(n=a,!0):!1}),n}return function(){function r(){this.__entries__=[]}var t={size:{configurable:!0}};return t.size.get=function(){return this.__entries__.length},r.prototype.get=function(n){var o=e(this.__entries__,n),a=this.__entries__[o];return a&&a[1]},r.prototype.set=function(n,o){var a=e(this.__entries__,n);~a?this.__entries__[a][1]=o:this.__entries__.push([n,o])},r.prototype.delete=function(n){var o=this.__entries__,a=e(o,n);~a&&o.splice(a,1)},r.prototype.has=function(n){return!!~e(this.__entries__,n)},r.prototype.clear=function(){this.__entries__.splice(0)},r.prototype.forEach=function(n,o){var a=this;o===void 0&&(o=null);for(var i=0,s=a.__entries__;i<s.length;i+=1){var c=s[i];n.call(o,c[1],c[0])}},Object.defineProperties(r.prototype,t),r}()}(),Bd=typeof window!="undefined"&&typeof document!="undefined"&&window.document===document,za=function(){return typeof global!="undefined"&&global.Math===Math?global:typeof self!="undefined"&&self.Math===Math?self:typeof window!="undefined"&&window.Math===Math?window:Function("return this")()}(),S4=function(){return typeof requestAnimationFrame=="function"?requestAnimationFrame.bind(za):function(e){return setTimeout(function(){return e(Date.now())},1e3/60)}}(),M4=2,E4=function(e,r){var t=!1,n=!1,o=0;function a(){t&&(t=!1,e()),n&&s()}function i(){S4(a)}function s(){var c=Date.now();if(t){if(c-o<M4)return;n=!0}else t=!0,n=!1,setTimeout(i,r);o=c}return s},T4=20,O4=["top","right","bottom","left","width","height","size","weight"],A4=typeof MutationObserver!="undefined",Tt=function(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=E4(this.refresh.bind(this),T4)};Tt.prototype.addObserver=function(e){~this.observers_.indexOf(e)||this.observers_.push(e),this.connected_||this.connect_()};Tt.prototype.removeObserver=function(e){var r=this.observers_,t=r.indexOf(e);~t&&r.splice(t,1),!r.length&&this.connected_&&this.disconnect_()};Tt.prototype.refresh=function(){var e=this.updateObservers_();e&&this.refresh()};Tt.prototype.updateObservers_=function(){var e=this.observers_.filter(function(r){return r.gatherActive(),r.hasActive()});return e.forEach(function(r){return r.broadcastActive()}),e.length>0};Tt.prototype.connect_=function(){!Bd||this.connected_||(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),A4?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)};Tt.prototype.disconnect_=function(){!Bd||!this.connected_||(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)};Tt.prototype.onTransitionEnd_=function(e){var r=e.propertyName;r===void 0&&(r="");var t=O4.some(function(n){return!!~r.indexOf(n)});t&&this.refresh()};Tt.getInstance=function(){return this.instance_||(this.instance_=new Tt),this.instance_};Tt.instance_=null;var lg=function(e,r){for(var t=0,n=Object.keys(r);t<n.length;t+=1){var o=n[t];Object.defineProperty(e,o,{value:r[o],enumerable:!1,writable:!1,configurable:!0})}return e},Tn=function(e){var r=e&&e.ownerDocument&&e.ownerDocument.defaultView;return r||za},fg=vi(0,0,0,0);function La(e){return parseFloat(e)||0}function _f(e){for(var r=[],t=arguments.length-1;t-- >0;)r[t]=arguments[t+1];return r.reduce(function(n,o){var a=e["border-"+o+"-width"];return n+La(a)},0)}function P4(e){for(var r=["top","right","bottom","left"],t={},n=0,o=r;n<o.length;n+=1){var a=o[n],i=e["padding-"+a];t[a]=La(i)}return t}function U4(e){var r=e.getBBox();return vi(0,0,r.width,r.height)}function C4(e){var r=e.clientWidth,t=e.clientHeight;if(!r&&!t)return fg;var n=Tn(e).getComputedStyle(e),o=P4(n),a=o.left+o.right,i=o.top+o.bottom,s=La(n.width),c=La(n.height);if(n.boxSizing==="border-box"&&(Math.round(s+a)!==r&&(s-=_f(n,"left","right")+a),Math.round(c+i)!==t&&(c-=_f(n,"top","bottom")+i)),!I4(e)){var d=Math.round(s+a)-r,l=Math.round(c+i)-t;Math.abs(d)!==1&&(s-=d),Math.abs(l)!==1&&(c-=l)}return vi(o.left,o.top,s,c)}var B4=function(){return typeof SVGGraphicsElement!="undefined"?function(e){return e instanceof Tn(e).SVGGraphicsElement}:function(e){return e instanceof Tn(e).SVGElement&&typeof e.getBBox=="function"}}();function I4(e){return e===Tn(e).document.documentElement}function z4(e){return Bd?B4(e)?U4(e):C4(e):fg}function L4(e){var r=e.x,t=e.y,n=e.width,o=e.height,a=typeof DOMRectReadOnly!="undefined"?DOMRectReadOnly:Object,i=Object.create(a.prototype);return lg(i,{x:r,y:t,width:n,height:o,top:t,right:r+n,bottom:o+t,left:r}),i}function vi(e,r,t,n){return{x:e,y:r,width:t,height:n}}var Id=function(e){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=vi(0,0,0,0),this.target=e};Id.prototype.isActive=function(){var e=z4(this.target);return this.contentRect_=e,e.width!==this.broadcastWidth||e.height!==this.broadcastHeight};Id.prototype.broadcastRect=function(){var e=this.contentRect_;return this.broadcastWidth=e.width,this.broadcastHeight=e.height,e};var D4=function(e,r){var t=L4(r);lg(this,{target:e,contentRect:t})},hr=function(e,r,t){if(this.activeObservations_=[],this.observations_=new dg,typeof e!="function")throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=e,this.controller_=r,this.callbackCtx_=t};hr.prototype.observe=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element=="undefined"||!(Element instanceof Object))){if(!(e instanceof Tn(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var r=this.observations_;r.has(e)||(r.set(e,new Id(e)),this.controller_.addObserver(this),this.controller_.refresh())}};hr.prototype.unobserve=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element=="undefined"||!(Element instanceof Object))){if(!(e instanceof Tn(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var r=this.observations_;!r.has(e)||(r.delete(e),r.size||this.controller_.removeObserver(this))}};hr.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)};hr.prototype.gatherActive=function(){var e=this;this.clearActive(),this.observations_.forEach(function(r){r.isActive()&&e.activeObservations_.push(r)})};hr.prototype.broadcastActive=function(){if(!!this.hasActive()){var e=this.callbackCtx_,r=this.activeObservations_.map(function(t){return new D4(t.target,t.broadcastRect())});this.callback_.call(e,r,e),this.clearActive()}};hr.prototype.clearActive=function(){this.activeObservations_.splice(0)};hr.prototype.hasActive=function(){return this.activeObservations_.length>0};var ug=typeof WeakMap!="undefined"?new WeakMap:new dg,zd=function(e){if(!(this instanceof zd))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var r=Tt.getInstance(),t=new hr(e,r,this);ug.set(this,t)};["observe","unobserve","disconnect"].forEach(function(e){zd.prototype[e]=function(){return(r=ug.get(this))[e].apply(r,arguments);var r}});var R4=function(){return typeof za.ResizeObserver!="undefined"?za.ResizeObserver:zd}(),pg={exports:{}};(function(e){(function(r){var t=w(),n=k(),o=_(),a=x(),i={imagePlaceholder:void 0,cacheBust:!1},s={toSvg:c,toPng:l,toJpeg:f,toBlob:u,toPixelData:d,impl:{fontFaces:o,images:a,util:t,inliner:n,options:{}}};e.exports=s;function c(O,M){return M=M||{},h(M),Promise.resolve(O).then(function(A){return m(A,M.filter,!0)}).then(b).then(y).then(T).then(function(A){return g(A,M.width||t.width(O),M.height||t.height(O))});function T(A){return M.bgcolor&&(A.style.backgroundColor=M.bgcolor),M.width&&(A.style.width=M.width+"px"),M.height&&(A.style.height=M.height+"px"),M.style&&Object.keys(M.style).forEach(function(S){A.style[S]=M.style[S]}),A}}function d(O,M){return p(O,M||{}).then(function(T){return T.getContext("2d").getImageData(0,0,t.width(O),t.height(O)).data})}function l(O,M){return p(O,M||{}).then(function(T){return T.toDataURL()})}function f(O,M){return M=M||{},p(O,M).then(function(T){return T.toDataURL("image/jpeg",M.quality||1)})}function u(O,M){return p(O,M||{}).then(t.canvasToBlob)}function h(O){typeof O.imagePlaceholder=="undefined"?s.impl.options.imagePlaceholder=i.imagePlaceholder:s.impl.options.imagePlaceholder=O.imagePlaceholder,typeof O.cacheBust=="undefined"?s.impl.options.cacheBust=i.cacheBust:s.impl.options.cacheBust=O.cacheBust}function p(O,M){return c(O,M).then(t.makeImage).then(t.delay(100)).then(function(A){var S=T(O);return S.getContext("2d").drawImage(A,0,0),S});function T(A){var S=document.createElement("canvas");if(S.width=M.width||t.width(A),S.height=M.height||t.height(A),M.bgcolor){var P=S.getContext("2d");P.fillStyle=M.bgcolor,P.fillRect(0,0,S.width,S.height)}return S}}function m(O,M,T){if(!T&&M&&!M(O))return Promise.resolve();return Promise.resolve(O).then(A).then(function(I){return S(O,I,M)}).then(function(I){return P(O,I)});function A(I){return I instanceof HTMLCanvasElement?t.makeImage(I.toDataURL()):I.cloneNode(!1)}function S(I,L,B){var C=I.childNodes;if(C.length===0)return Promise.resolve(L);return z(L,t.asArray(C),B).then(function(){return L});function z(F,U,N){var V=Promise.resolve();return U.forEach(function(X){V=V.then(function(){return m(X,N)}).then(function(de){de&&F.appendChild(de)})}),V}}function P(I,L){if(!(L instanceof Element))return L;return Promise.resolve().then(B).then(C).then(z).then(F).then(function(){return L});function B(){U(window.getComputedStyle(I),L.style);function U(N,V){N.cssText?V.cssText=N.cssText:X(N,V);function X(de,ae){t.asArray(de).forEach(function(Y){ae.setProperty(Y,de.getPropertyValue(Y),de.getPropertyPriority(Y))})}}}function C(){[":before",":after"].forEach(function(N){U(N)});function U(N){var V=window.getComputedStyle(I,N),X=V.getPropertyValue("content");if(X===""||X==="none")return;var de=t.uid();L.className=L.className+" "+de;var ae=document.createElement("style");ae.appendChild(Y(de,N,V)),L.appendChild(ae);function Y(te,J,ce){var K="."+te+":"+J,ee=ce.cssText?le(ce):W(ce);return document.createTextNode(K+"{"+ee+"}");function le(pe){var se=pe.getPropertyValue("content");return pe.cssText+" content: "+se+";"}function W(pe){return t.asArray(pe).map(se).join("; ")+";";function se(G){return G+": "+pe.getPropertyValue(G)+(pe.getPropertyPriority(G)?" !important":"")}}}}}function z(){I instanceof HTMLTextAreaElement&&(L.innerHTML=I.value),I instanceof HTMLInputElement&&L.setAttribute("value",I.value)}function F(){L instanceof SVGElement&&(L.setAttribute("xmlns","http://www.w3.org/2000/svg"),L instanceof SVGRectElement&&["width","height"].forEach(function(U){var N=L.getAttribute(U);!N||L.style.setProperty(U,N)}))}}}function b(O){return o.resolveAll().then(function(M){var T=document.createElement("style");return O.appendChild(T),T.appendChild(document.createTextNode(M)),O})}function y(O){return a.inlineAll(O).then(function(){return O})}function g(O,M,T){return Promise.resolve(O).then(function(A){return A.setAttribute("xmlns","http://www.w3.org/1999/xhtml"),new XMLSerializer().serializeToString(A)}).then(t.escapeXhtml).then(function(A){return'<foreignObject x="0" y="0" width="100%" height="100%">'+A+"</foreignObject>"}).then(function(A){return'<svg xmlns="http://www.w3.org/2000/svg" width="'+M+'" height="'+T+'">'+A+"</svg>"}).then(function(A){return"data:image/svg+xml;charset=utf-8,"+A})}function w(){return{escape:F,parseExtension:M,mimeType:T,dataAsUrl:z,isDataUrl:A,canvasToBlob:P,resolveUrl:I,getAndEncode:C,uid:L(),delay:U,asArray:N,escapeXhtml:V,makeImage:B,width:X,height:de};function O(){var Y="application/font-woff",te="image/jpeg";return{woff:Y,woff2:Y,ttf:"application/font-truetype",eot:"application/vnd.ms-fontobject",png:"image/png",jpg:te,jpeg:te,gif:"image/gif",tiff:"image/tiff",svg:"image/svg+xml"}}function M(Y){var te=/\.([^\.\/]*?)$/g.exec(Y);return te?te[1]:""}function T(Y){var te=M(Y).toLowerCase();return O()[te]||""}function A(Y){return Y.search(/^(data:)/)!==-1}function S(Y){return new Promise(function(te){for(var J=window.atob(Y.toDataURL().split(",")[1]),ce=J.length,K=new Uint8Array(ce),ee=0;ee<ce;ee++)K[ee]=J.charCodeAt(ee);te(new Blob([K],{type:"image/png"}))})}function P(Y){return Y.toBlob?new Promise(function(te){Y.toBlob(te)}):S(Y)}function I(Y,te){var J=document.implementation.createHTMLDocument(),ce=J.createElement("base");J.head.appendChild(ce);var K=J.createElement("a");return J.body.appendChild(K),ce.href=te,K.href=Y,K.href}function L(){var Y=0;return function(){return"u"+te()+Y++;function te(){return("0000"+(Math.random()*Math.pow(36,4)<<0).toString(36)).slice(-4)}}}function B(Y){return new Promise(function(te,J){var ce=new Image;ce.onload=function(){te(ce)},ce.onerror=J,ce.src=Y})}function C(Y){var te=3e4;return s.impl.options.cacheBust&&(Y+=(/\?/.test(Y)?"&":"?")+new Date().getTime()),new Promise(function(J){var ce=new XMLHttpRequest;ce.onreadystatechange=le,ce.ontimeout=W,ce.responseType="blob",ce.timeout=te,ce.open("GET",Y,!0),ce.send();var K;if(s.impl.options.imagePlaceholder){var ee=s.impl.options.imagePlaceholder.split(/,/);ee&&ee[1]&&(K=ee[1])}function le(){if(ce.readyState===4){if(ce.status!==200){K?J(K):pe("cannot fetch resource: "+Y+", status: "+ce.status);return}var se=new FileReader;se.onloadend=function(){var G=se.result.split(/,/)[1];J(G)},se.readAsDataURL(ce.response)}}function W(){K?J(K):pe("timeout of "+te+"ms occured while fetching resource: "+Y)}function pe(se){console.error(se),J("")}})}function z(Y,te){return"data:"+te+";base64,"+Y}function F(Y){return Y.replace(/([.*+?^${}()|\[\]\/\\])/g,"\\$1")}function U(Y){return function(te){return new Promise(function(J){setTimeout(function(){J(te)},Y)})}}function N(Y){for(var te=[],J=Y.length,ce=0;ce<J;ce++)te.push(Y[ce]);return te}function V(Y){return Y.replace(/#/g,"%23").replace(/\n/g,"%0A")}function X(Y){var te=ae(Y,"border-left-width"),J=ae(Y,"border-right-width");return Y.scrollWidth+te+J}function de(Y){var te=ae(Y,"border-top-width"),J=ae(Y,"border-bottom-width");return Y.scrollHeight+te+J}function ae(Y,te){var J=window.getComputedStyle(Y).getPropertyValue(te);return parseFloat(J.replace("px",""))}}function k(){var O=/url\(['"]?([^'"]+?)['"]?\)/g;return{inlineAll:S,shouldProcess:M,impl:{readUrls:T,inline:A}};function M(P){return P.search(O)!==-1}function T(P){for(var I=[],L;(L=O.exec(P))!==null;)I.push(L[1]);return I.filter(function(B){return!t.isDataUrl(B)})}function A(P,I,L,B){return Promise.resolve(I).then(function(z){return L?t.resolveUrl(z,L):z}).then(B||t.getAndEncode).then(function(z){return t.dataAsUrl(z,t.mimeType(I))}).then(function(z){return P.replace(C(I),"$1"+z+"$3")});function C(z){return new RegExp(`(url\\(['"]?)(`+t.escape(z)+`)(['"]?\\))`,"g")}}function S(P,I,L){if(B())return Promise.resolve(P);return Promise.resolve(P).then(T).then(function(C){var z=Promise.resolve(P);return C.forEach(function(F){z=z.then(function(U){return A(U,F,I,L)})}),z});function B(){return!M(P)}}}function _(){return{resolveAll:O,impl:{readAll:M}};function O(){return M().then(function(T){return Promise.all(T.map(function(A){return A.resolve()}))}).then(function(T){return T.join(`
`)})}function M(){return Promise.resolve(t.asArray(document.styleSheets)).then(A).then(T).then(function(P){return P.map(S)});function T(P){return P.filter(function(I){return I.type===CSSRule.FONT_FACE_RULE}).filter(function(I){return n.shouldProcess(I.style.getPropertyValue("src"))})}function A(P){var I=[];return P.forEach(function(L){try{t.asArray(L.cssRules||[]).forEach(I.push.bind(I))}catch(B){console.log("Error while reading CSS rules from "+L.href,B.toString())}}),I}function S(P){return{resolve:function(){var L=(P.parentStyleSheet||{}).href;return n.inlineAll(P.cssText,L)},src:function(){return P.style.getPropertyValue("src")}}}}}function x(){return{inlineAll:M,impl:{newImage:O}};function O(T){return{inline:A};function A(S){return t.isDataUrl(T.src)?Promise.resolve():Promise.resolve(T.src).then(S||t.getAndEncode).then(function(P){return t.dataAsUrl(P,t.mimeType(T.src))}).then(function(P){return new Promise(function(I,L){T.onload=I,T.onerror=L,T.src=P})})}}function M(T){if(!(T instanceof Element))return Promise.resolve(T);return A(T).then(function(){return T instanceof HTMLImageElement?O(T).inline():Promise.all(t.asArray(T.childNodes).map(function(S){return M(S)}))});function A(S){var P=S.style.getPropertyValue("background");return P?n.inlineAll(P).then(function(I){S.style.setProperty("background",I,S.style.getPropertyPriority("background"))}).then(function(){return S}):Promise.resolve(S)}}}})()})(pg);var xf=pg.exports,F4=globalThis&&globalThis.__extends||function(){var e=function(r,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var a in o)o.hasOwnProperty(a)&&(n[a]=o[a])},e(r,t)};return function(r,t){e(r,t);function n(){this.constructor=r}r.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),kf="DONT_STYLE_ME_css_styles_verifier",D=function(e){F4(r,e);function r(t,n){return e.call(this,t,n)||this}return r.getHTMLElementSize=function(t){return{width:t.clientWidth,height:t.clientHeight}},r.getSVGElementSize=function(t,n){n===void 0&&(n={useAttrs:!1,useClientDimensions:!1,useBBox:!1,useBoundingRect:!1}),t.attr||(t=R(t));var o={width:0,height:0},a=function(h){h&&Object.keys(o).forEach(function(p){if(h[p]){var m=h[p],b=parseFloat(m);m&&b>o[p]&&(""+m).indexOf("%")===-1&&(o[p]=b)}})},i={width:t.attr("width"),height:t.attr("height")},s,c,d,l;try{s=t.node().getBBox(),c={width:s.width,height:s.height}}catch{}try{d=t.node().getBoundingClientRect(),l={width:d.width,height:d.height}}catch{}var f={width:t.node().clientWidth,height:t.node().clientHeight};if(n){if(n.useAttrs&&(a(i),o.width>0&&o.height>0))return o;if(n.useClientDimensions&&(a(f),o.width>0&&o.height>0))return f;if(n.useBBox&&(a(c),o.width>0&&o.height>0))return c;if(n.useBoundingRect&&(a(l),o.width>0&&o.height>0))return l}try{var u={width:v.getProperty(t.node(),"width","baseVal","value"),height:v.getProperty(t.node(),"height","baseVal","value")};a(u)}catch{a(f),a(c),a(i)}return o},r.appendOrSelect=function(t,n){var o=t.select(""+n);if(o.empty()){var a=n.split("#"),i=void 0,s=void 0;return a.length===2?(i=a[0],a=a[1].split("."),s=a[0]):(a=n.split("."),i=a[0]),t.append(i).attr("id",s).attr("class",a.slice(1).join(" "))}return o},r.prototype.init=function(){this.styleHolderElement(),this.initializeID(),this.addMainContainer(),this.verifyCSSStylesBeingApplied(),this.model.getOptions().resizable&&this.addResizeListener(),this.addHolderListeners(),this.handleFullscreenChange()},r.prototype.getChartID=function(){return this.chartID},r.prototype.generateElementIDString=function(t){return"chart-"+this.chartID+"-"+t},r.prototype.initializeID=function(){this.chartID=Math.floor((1+Math.random())*281474976710656).toString(16)},r.prototype.addMainContainer=function(){var t=this.model.getOptions(),n=v.getProperty(t,"style","prefix"),o=R(this.getHolder()).append("div").classed(tt+"--"+n+"--chart-wrapper",!0).attr("id","chart-"+this.getChartID()).style("height","100%").style("width","100%");o.append("g").attr("class",kf),this.mainContainer=o.node()},r.prototype.update=function(){this.styleHolderElement()},r.prototype.styleHolderElement=function(){var t=this.getHolder();R(this.getHolder()).classed(tt+"--chart-holder",!0);var n=this.model.getOptions(),o=n.width,a=n.height;o!==this.width&&(t.style.width=o,this.width=o),a!==this.height&&(t.style.height=a,this.height=a)},r.prototype.getHolder=function(){return this.model.get("holder")},r.prototype.exportToJPG=function(){var t=this,n=this.getHolder(),o=R(n);o.classed("filled",!0),xf.toJpeg(this.getMainContainer(),{bgcolor:typeof window!="undefined"?window.getComputedStyle(n).getPropertyValue("background-color"):void 0,quality:1,filter:function(a){return!(a.classList&&a.classList.contains("cds--cc--toolbar"))}}).then(function(a){t.services.files.downloadImage(a,"myChart.jpg"),o.classed("filled",!1)})},r.prototype.exportToPNG=function(){var t=this,n=this.getHolder(),o=R(n);o.classed("filled",!0),xf.toPng(this.getMainContainer(),{bgcolor:typeof window!="undefined"?window.getComputedStyle(n).getPropertyValue("background-color"):void 0,quality:1,filter:function(a){return!(a.classList&&a.classList.contains("cds--cc--toolbar"))}}).then(function(a){t.services.files.downloadImage(a,"myChart.png"),o.classed("filled",!1)}).catch(function(a){console.error("oops, something went wrong!",a)})},r.prototype.toggleFullscreen=function(){var t=this.getHolder(),n=R(t),o=n.classed("fullscreen");o&&(document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement)?document.exitFullscreen?document.exitFullscreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.msExitFullscreen&&document.msExitFullscreen():t.requestFullscreen?t.requestFullscreen():t.webkitRequestFullscreen?t.webkitRequestFullscreen():t.mozRequestFullScreen?t.mozRequestFullScreen():t.msRequestFullscreen&&t.msRequestFullscreen()},r.prototype.handleFullscreenChange=function(){var t=this;document.addEventListener("fullscreenchange",function(){var n=R(t.getHolder()),o=n.classed("fullscreen");n.classed("fullscreen",!o)})},r.prototype.verifyCSSStylesBeingApplied=function(){var t=this;setTimeout(function(){var n=R(t.mainContainer).select("g."+kf).node(),o=getComputedStyle(n);(o.getPropertyValue("overflow")!=="hidden"||o.getPropertyValue("opacity")!=="0")&&console.error("Missing CSS styles for Carbon Charts. Please read the Carbon Charts getting started guide.")})},r.prototype.setSVGMaxHeight=function(){if(!this.model.getOptions().height){var t=r.getSVGElementSize(R(this.mainContainer),{useBBox:!0}).height,n=R(this.mainContainer).attr("class"),o=R(this.mainContainer).selectAll("."+n+" > svg"),a=0;o.nodes().forEach(function(i){a+=Number(r.getSVGElementSize(R(i),{useBBox:!0}).height)}),a<=t?R(this.mainContainer).attr("height",a):R(this.mainContainer).attr("height","100%")}},r.prototype.getMainContainer=function(){return this.mainContainer},r.prototype.addHolderListeners=function(){var t=this,n=this.getHolder();!n||R(n).on("mouseover",function(){t.services.events.dispatchEvent(E.Chart.MOUSEOVER)}).on("mouseout",function(){t.services.events.dispatchEvent(E.Chart.MOUSEOUT)})},r.prototype.addResizeListener=function(){var t=this,n=this.getHolder();if(!!n){var o=n.clientWidth,a=n.clientHeight,i=v.debounce(function(c,d){!n||(Math.abs(o-n.clientWidth)>1||Math.abs(a-n.clientHeight)>1)&&(o=n.clientWidth,a=n.clientHeight,t.services.events.dispatchEvent(E.Chart.RESIZE))},12.5),s=new R4(i);s.observe(n)}},r}(nr),N4=globalThis&&globalThis.__extends||function(){var e=function(r,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var a in o)o.hasOwnProperty(a)&&(n[a]=o[a])},e(r,t)};return function(r,t){e(r,t);function n(){this.constructor=r}r.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),V4=function(e){N4(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}return r.prototype.init=function(){this.documentFragment=document.createDocumentFragment()},r.prototype.addEventListener=function(t,n){this.documentFragment.addEventListener(t,n)},r.prototype.removeEventListener=function(t,n){this.documentFragment.removeEventListener(t,n)},r.prototype.dispatchEvent=function(t,n){var o;n?o=new CustomEvent(t,{detail:n}):(o=document.createEvent("Event"),o.initEvent(t,!1,!0)),this.documentFragment.dispatchEvent(o)},r}(nr),$4=globalThis&&globalThis.__extends||function(){var e=function(r,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var a in o)o.hasOwnProperty(a)&&(n[a]=o[a])},e(r,t)};return function(r,t){e(r,t);function n(){this.constructor=r}r.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),H4=function(e){$4(r,e);function r(t,n){return e.call(this,t,n)||this}return r.prototype.downloadCSV=function(t,n){var o=document.createElement("a"),a="text/csv;encoding:utf-8";if(navigator.msSaveBlob)navigator.msSaveBlob(new Blob([t],{type:a}),n);else if(URL&&"download"in o){var i=URL.createObjectURL(new Blob([t],{type:a}));o.href=i,o.setAttribute("download",n),document.body.appendChild(o),o.click(),document.body.removeChild(o),URL.revokeObjectURL(i)}else location.href="data:application/octet-stream,"+encodeURIComponent(t)},r.prototype.downloadImage=function(t,n){var o=document.createElement("a");o.download=n,o.href=t,document.body.appendChild(o),o.click(),document.body.removeChild(o)},r}(nr),G4=globalThis&&globalThis.__extends||function(){var e=function(r,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var a in o)o.hasOwnProperty(a)&&(n[a]=o[a])},e(r,t)};return function(r,t){e(r,t);function n(){this.constructor=r}r.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),j4=function(e){G4(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.pendingTransitions={},t}return r.prototype.init=function(){var t=this;this.services.events.addEventListener(E.Model.UPDATE,function(){t.pendingTransitions={}})},r.prototype.setupTransition=function(t){var n=this,o=t.transition,a=t.name,i=t.animate;return this.pendingTransitions[o._id]=o,o.on("end interrupt cancel",function(){delete n.pendingTransitions[o._id]}),this.model.getOptions().animations===!1||i===!1?o.duration(0):o.duration(v.getProperty(Fs,a,"duration")||Fs.default.duration)},r.prototype.getPendingTransitions=function(){return this.pendingTransitions},r}(nr),q4=globalThis&&globalThis.__extends||function(){var e=function(r,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var a in o)o.hasOwnProperty(a)&&(n[a]=o[a])},e(r,t)};return function(r,t){e(r,t);function n(){this.constructor=r}r.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),vc=function(e){q4(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}return r.appendOrUpdateLinearGradient=function(t){var n=t.svg.select("defs linearGradient#"+t.id);n.empty()&&(n=t.svg.append("defs").append("linearGradient").attr("id",t.id).attr("x1",t.x1).attr("x2",t.x2).attr("y1",t.y1).attr("y2",t.y2)),n.selectAll("stop").remove(),n.selectAll("stop").data(t.stops).enter().append("stop").attr("offset",function(o){return o.offset}).style("stop-color",function(o){return o.color}).style("stop-opacity",function(o){return o.opacity})},r.getOffsetRatio=function(t){var n=(Math.abs(t[1])*100/Math.abs(t[0]-t[1])).toFixed(2)+"%";return n},r.getStops=function(t,n){var o=t[0]<0&&t[1]>0,a=[{offset:"0%",color:n,opacity:"0.6"},{offset:"80%",color:n,opacity:"0"}];return o&&(a=[{offset:"0%",color:n,opacity:"0.6"},{offset:r.getOffsetRatio(t),color:n,opacity:"0"},{offset:"100%",color:n,opacity:"0.6"}]),a},r}(nr);function ke(e){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");var r=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&r==="[object Date]"?new Date(e.getTime()):typeof e=="number"||r==="[object Number]"?new Date(e):((typeof e=="string"||r==="[object String]")&&typeof console!="undefined"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as arguments. Please use `parseISO` to parse strings. See: https://git.io/fjule"),console.warn(new Error().stack)),new Date(NaN))}function Ie(e){if(e===null||e===!0||e===!1)return NaN;var r=Number(e);return isNaN(r)?r:r<0?Math.ceil(r):Math.floor(r)}function hg(e,r){if(arguments.length<2)throw new TypeError("2 arguments required, but only "+arguments.length+" present");var t=ke(e),n=Ie(r);return t.setDate(t.getDate()+n),t}function bi(e,r){if(arguments.length<2)throw new TypeError("2 arguments required, but only "+arguments.length+" present");var t=ke(e).getTime(),n=Ie(r);return new Date(t+n)}var W4=36e5;function gg(e,r){if(arguments.length<2)throw new TypeError("2 arguments required, but only "+arguments.length+" present");var t=Ie(r);return bi(e,t*W4)}var Sf=6e4;function bc(e){var r=new Date(e.getTime()),t=Math.ceil(r.getTimezoneOffset());r.setSeconds(0,0);var n=r.getTime()%Sf;return t*Sf+n}function Mf(e){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");var r=ke(e);return r.setHours(0,0,0,0),r}var Y4=864e5;function X4(e,r){if(arguments.length<2)throw new TypeError("2 arguments required, but only "+arguments.length+" present");var t=Mf(e),n=Mf(r),o=t.getTime()-bc(t),a=n.getTime()-bc(n);return Math.round((o-a)/Y4)}var Z4=6e4;function yc(e,r){if(arguments.length<2)throw new TypeError("2 arguments required, but only "+arguments.length+" present");var t=Ie(r);return bi(e,t*Z4)}function K4(e){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");var r=ke(e),t=r.getFullYear(),n=r.getMonth(),o=new Date(0);return o.setFullYear(t,n+1,0),o.setHours(0,0,0,0),o.getDate()}function Ld(e,r){if(arguments.length<2)throw new TypeError("2 arguments required, but only "+arguments.length+" present");var t=ke(e),n=Ie(r),o=t.getMonth()+n,a=new Date(0);a.setFullYear(t.getFullYear(),o,1),a.setHours(0,0,0,0);var i=K4(a);return t.setMonth(o,Math.min(i,t.getDate())),t}function wc(e,r){if(arguments.length<2)throw new TypeError("2 arguments required, but only "+arguments.length+" present");var t=Ie(r);return bi(e,t*1e3)}function mg(e,r){if(arguments.length<2)throw new TypeError("2 arguments required, but only "+arguments.length+" present");var t=Ie(r);return Ld(e,t*12)}function On(e,r){if(arguments.length<2)throw new TypeError("2 arguments required, but only "+arguments.length+" present");var t=ke(e),n=ke(r),o=t.getTime()-n.getTime();return o<0?-1:o>0?1:o}function Q4(e){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");var r=ke(e);return!isNaN(r)}function J4(e,r){if(arguments.length<2)throw new TypeError("2 arguments required, but only "+arguments.length+" present");var t=ke(e),n=ke(r),o=t.getFullYear()-n.getFullYear(),a=t.getMonth()-n.getMonth();return o*12+a}function e6(e,r){if(arguments.length<2)throw new TypeError("2 arguments required, but only "+arguments.length+" present");var t=ke(e),n=ke(r);return t.getFullYear()-n.getFullYear()}function t6(e,r){if(arguments.length<2)throw new TypeError("2 arguments required, but only "+arguments.length+" present");var t=ke(e),n=ke(r),o=On(t,n),a=Math.abs(X4(t,n));t.setDate(t.getDate()-o*a);var i=On(t,n)===-o,s=o*(a-i);return s===0?0:s}function Dd(e,r){if(arguments.length<2)throw new TypeError("2 arguments required, but only "+arguments.length+" present");var t=ke(e),n=ke(r);return t.getTime()-n.getTime()}var r6=36e5;function n6(e,r){if(arguments.length<2)throw new TypeError("2 arguments required, but only "+arguments.length+" present");var t=Dd(e,r)/r6;return t>0?Math.floor(t):Math.ceil(t)}var o6=6e4;function Ef(e,r){if(arguments.length<2)throw new TypeError("2 arguments required, but only "+arguments.length+" present");var t=Dd(e,r)/o6;return t>0?Math.floor(t):Math.ceil(t)}function a6(e,r){if(arguments.length<2)throw new TypeError("2 arguments required, but only "+arguments.length+" present");var t=ke(e),n=ke(r),o=On(t,n),a=Math.abs(J4(t,n));t.setMonth(t.getMonth()-o*a);var i=On(t,n)===-o,s=o*(a-i);return s===0?0:s}function Tf(e,r){if(arguments.length<2)throw new TypeError("2 arguments required, but only "+arguments.length+" present");var t=Dd(e,r)/1e3;return t>0?Math.floor(t):Math.ceil(t)}function i6(e,r){if(arguments.length<2)throw new TypeError("2 arguments required, but only "+arguments.length+" present");var t=ke(e),n=ke(r),o=On(t,n),a=Math.abs(e6(t,n));t.setFullYear(t.getFullYear()-o*a);var i=On(t,n)===-o,s=o*(a-i);return s===0?0:s}var Xo={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}};function s6(e,r,t){t=t||{};var n;return typeof Xo[e]=="string"?n=Xo[e]:r===1?n=Xo[e].one:n=Xo[e].other.replace("{{count}}",r),t.addSuffix?t.comparison>0?"in "+n:n+" ago":n}function Hi(e){return function(r){var t=r||{},n=t.width?String(t.width):e.defaultWidth,o=e.formats[n]||e.formats[e.defaultWidth];return o}}var c6={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},d6={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},l6={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},f6={date:Hi({formats:c6,defaultWidth:"full"}),time:Hi({formats:d6,defaultWidth:"full"}),dateTime:Hi({formats:l6,defaultWidth:"full"})},u6=f6,p6={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"};function h6(e,r,t,n){return p6[e]}function Fn(e){return function(r,t){var n=t||{},o=n.context?String(n.context):"standalone",a;if(o==="formatting"&&e.formattingValues){var i=e.defaultFormattingWidth||e.defaultWidth,s=n.width?String(n.width):i;a=e.formattingValues[s]||e.formattingValues[i]}else{var c=e.defaultWidth,d=n.width?String(n.width):e.defaultWidth;a=e.values[d]||e.values[c]}var l=e.argumentCallback?e.argumentCallback(r):r;return a[l]}}var g6={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},m6={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},v6={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},b6={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},y6={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},w6={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}};function _6(e,r){var t=Number(e),n=t%100;if(n>20||n<10)switch(n%10){case 1:return t+"st";case 2:return t+"nd";case 3:return t+"rd"}return t+"th"}var x6={ordinalNumber:_6,era:Fn({values:g6,defaultWidth:"wide"}),quarter:Fn({values:m6,defaultWidth:"wide",argumentCallback:function(e){return Number(e)-1}}),month:Fn({values:v6,defaultWidth:"wide"}),day:Fn({values:b6,defaultWidth:"wide"}),dayPeriod:Fn({values:y6,defaultWidth:"wide",formattingValues:w6,defaultFormattingWidth:"wide"})},k6=x6;function S6(e){return function(r,t){var n=String(r),o=t||{},a=n.match(e.matchPattern);if(!a)return null;var i=a[0],s=n.match(e.parsePattern);if(!s)return null;var c=e.valueCallback?e.valueCallback(s[0]):s[0];return c=o.valueCallback?o.valueCallback(c):c,{value:c,rest:n.slice(i.length)}}}function Nn(e){return function(r,t){var n=String(r),o=t||{},a=o.width,i=a&&e.matchPatterns[a]||e.matchPatterns[e.defaultMatchWidth],s=n.match(i);if(!s)return null;var c=s[0],d=a&&e.parsePatterns[a]||e.parsePatterns[e.defaultParseWidth],l;return Object.prototype.toString.call(d)==="[object Array]"?l=E6(d,function(f){return f.test(n)}):l=M6(d,function(f){return f.test(n)}),l=e.valueCallback?e.valueCallback(l):l,l=o.valueCallback?o.valueCallback(l):l,{value:l,rest:n.slice(c.length)}}}function M6(e,r){for(var t in e)if(e.hasOwnProperty(t)&&r(e[t]))return t}function E6(e,r){for(var t=0;t<e.length;t++)if(r(e[t]))return t}var T6=/^(\d+)(th|st|nd|rd)?/i,O6=/\d+/i,A6={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},P6={any:[/^b/i,/^(a|c)/i]},U6={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},C6={any:[/1/i,/2/i,/3/i,/4/i]},B6={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},I6={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},z6={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},L6={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},D6={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},R6={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},F6={ordinalNumber:S6({matchPattern:T6,parsePattern:O6,valueCallback:function(e){return parseInt(e,10)}}),era:Nn({matchPatterns:A6,defaultMatchWidth:"wide",parsePatterns:P6,defaultParseWidth:"any"}),quarter:Nn({matchPatterns:U6,defaultMatchWidth:"wide",parsePatterns:C6,defaultParseWidth:"any",valueCallback:function(e){return e+1}}),month:Nn({matchPatterns:B6,defaultMatchWidth:"wide",parsePatterns:I6,defaultParseWidth:"any"}),day:Nn({matchPatterns:z6,defaultMatchWidth:"wide",parsePatterns:L6,defaultParseWidth:"any"}),dayPeriod:Nn({matchPatterns:D6,defaultMatchWidth:"any",parsePatterns:R6,defaultParseWidth:"any"})},N6=F6,V6={code:"en-US",formatDistance:s6,formatLong:u6,formatRelative:h6,localize:k6,match:N6,options:{weekStartsOn:0,firstWeekContainsDate:1}},$6=V6;function H6(e,r){if(arguments.length<2)throw new TypeError("2 arguments required, but only "+arguments.length+" present");var t=Ie(r);return bi(e,-t)}function _e(e,r){for(var t=e<0?"-":"",n=Math.abs(e).toString();n.length<r;)n="0"+n;return t+n}var G6={y:function(e,r){var t=e.getUTCFullYear(),n=t>0?t:1-t;return _e(r==="yy"?n%100:n,r.length)},M:function(e,r){var t=e.getUTCMonth();return r==="M"?String(t+1):_e(t+1,2)},d:function(e,r){return _e(e.getUTCDate(),r.length)},a:function(e,r){var t=e.getUTCHours()/12>=1?"pm":"am";switch(r){case"a":case"aa":case"aaa":return t.toUpperCase();case"aaaaa":return t[0];case"aaaa":default:return t==="am"?"a.m.":"p.m."}},h:function(e,r){return _e(e.getUTCHours()%12||12,r.length)},H:function(e,r){return _e(e.getUTCHours(),r.length)},m:function(e,r){return _e(e.getUTCMinutes(),r.length)},s:function(e,r){return _e(e.getUTCSeconds(),r.length)},S:function(e,r){var t=r.length,n=e.getUTCMilliseconds(),o=Math.floor(n*Math.pow(10,t-3));return _e(o,r.length)}},ar=G6,j6=864e5;function q6(e){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");var r=ke(e),t=r.getTime();r.setUTCMonth(0,1),r.setUTCHours(0,0,0,0);var n=r.getTime(),o=t-n;return Math.floor(o/j6)+1}function Da(e){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");var r=1,t=ke(e),n=t.getUTCDay(),o=(n<r?7:0)+n-r;return t.setUTCDate(t.getUTCDate()-o),t.setUTCHours(0,0,0,0),t}function vg(e){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");var r=ke(e),t=r.getUTCFullYear(),n=new Date(0);n.setUTCFullYear(t+1,0,4),n.setUTCHours(0,0,0,0);var o=Da(n),a=new Date(0);a.setUTCFullYear(t,0,4),a.setUTCHours(0,0,0,0);var i=Da(a);return r.getTime()>=o.getTime()?t+1:r.getTime()>=i.getTime()?t:t-1}function W6(e){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");var r=vg(e),t=new Date(0);t.setUTCFullYear(r,0,4),t.setUTCHours(0,0,0,0);var n=Da(t);return n}var Y6=6048e5;function X6(e){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");var r=ke(e),t=Da(r).getTime()-W6(r).getTime();return Math.round(t/Y6)+1}function Ra(e,r){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");var t=r||{},n=t.locale,o=n&&n.options&&n.options.weekStartsOn,a=o==null?0:Ie(o),i=t.weekStartsOn==null?a:Ie(t.weekStartsOn);if(!(i>=0&&i<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var s=ke(e),c=s.getUTCDay(),d=(c<i?7:0)+c-i;return s.setUTCDate(s.getUTCDate()-d),s.setUTCHours(0,0,0,0),s}function bg(e,r){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");var t=ke(e,r),n=t.getUTCFullYear(),o=r||{},a=o.locale,i=a&&a.options&&a.options.firstWeekContainsDate,s=i==null?1:Ie(i),c=o.firstWeekContainsDate==null?s:Ie(o.firstWeekContainsDate);if(!(c>=1&&c<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var d=new Date(0);d.setUTCFullYear(n+1,0,c),d.setUTCHours(0,0,0,0);var l=Ra(d,r),f=new Date(0);f.setUTCFullYear(n,0,c),f.setUTCHours(0,0,0,0);var u=Ra(f,r);return t.getTime()>=l.getTime()?n+1:t.getTime()>=u.getTime()?n:n-1}function Z6(e,r){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");var t=r||{},n=t.locale,o=n&&n.options&&n.options.firstWeekContainsDate,a=o==null?1:Ie(o),i=t.firstWeekContainsDate==null?a:Ie(t.firstWeekContainsDate),s=bg(e,r),c=new Date(0);c.setUTCFullYear(s,0,i),c.setUTCHours(0,0,0,0);var d=Ra(c,r);return d}var K6=6048e5;function Q6(e,r){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");var t=ke(e),n=Ra(t,r).getTime()-Z6(t,r).getTime();return Math.round(n/K6)+1}var Xr={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},J6={G:function(e,r,t){var n=e.getUTCFullYear()>0?1:0;switch(r){case"G":case"GG":case"GGG":return t.era(n,{width:"abbreviated"});case"GGGGG":return t.era(n,{width:"narrow"});case"GGGG":default:return t.era(n,{width:"wide"})}},y:function(e,r,t){if(r==="yo"){var n=e.getUTCFullYear(),o=n>0?n:1-n;return t.ordinalNumber(o,{unit:"year"})}return ar.y(e,r)},Y:function(e,r,t,n){var o=bg(e,n),a=o>0?o:1-o;if(r==="YY"){var i=a%100;return _e(i,2)}return r==="Yo"?t.ordinalNumber(a,{unit:"year"}):_e(a,r.length)},R:function(e,r){var t=vg(e);return _e(t,r.length)},u:function(e,r){var t=e.getUTCFullYear();return _e(t,r.length)},Q:function(e,r,t){var n=Math.ceil((e.getUTCMonth()+1)/3);switch(r){case"Q":return String(n);case"QQ":return _e(n,2);case"Qo":return t.ordinalNumber(n,{unit:"quarter"});case"QQQ":return t.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return t.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return t.quarter(n,{width:"wide",context:"formatting"})}},q:function(e,r,t){var n=Math.ceil((e.getUTCMonth()+1)/3);switch(r){case"q":return String(n);case"qq":return _e(n,2);case"qo":return t.ordinalNumber(n,{unit:"quarter"});case"qqq":return t.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return t.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return t.quarter(n,{width:"wide",context:"standalone"})}},M:function(e,r,t){var n=e.getUTCMonth();switch(r){case"M":case"MM":return ar.M(e,r);case"Mo":return t.ordinalNumber(n+1,{unit:"month"});case"MMM":return t.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return t.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return t.month(n,{width:"wide",context:"formatting"})}},L:function(e,r,t){var n=e.getUTCMonth();switch(r){case"L":return String(n+1);case"LL":return _e(n+1,2);case"Lo":return t.ordinalNumber(n+1,{unit:"month"});case"LLL":return t.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return t.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return t.month(n,{width:"wide",context:"standalone"})}},w:function(e,r,t,n){var o=Q6(e,n);return r==="wo"?t.ordinalNumber(o,{unit:"week"}):_e(o,r.length)},I:function(e,r,t){var n=X6(e);return r==="Io"?t.ordinalNumber(n,{unit:"week"}):_e(n,r.length)},d:function(e,r,t){return r==="do"?t.ordinalNumber(e.getUTCDate(),{unit:"date"}):ar.d(e,r)},D:function(e,r,t){var n=q6(e);return r==="Do"?t.ordinalNumber(n,{unit:"dayOfYear"}):_e(n,r.length)},E:function(e,r,t){var n=e.getUTCDay();switch(r){case"E":case"EE":case"EEE":return t.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return t.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return t.day(n,{width:"short",context:"formatting"});case"EEEE":default:return t.day(n,{width:"wide",context:"formatting"})}},e:function(e,r,t,n){var o=e.getUTCDay(),a=(o-n.weekStartsOn+8)%7||7;switch(r){case"e":return String(a);case"ee":return _e(a,2);case"eo":return t.ordinalNumber(a,{unit:"day"});case"eee":return t.day(o,{width:"abbreviated",context:"formatting"});case"eeeee":return t.day(o,{width:"narrow",context:"formatting"});case"eeeeee":return t.day(o,{width:"short",context:"formatting"});case"eeee":default:return t.day(o,{width:"wide",context:"formatting"})}},c:function(e,r,t,n){var o=e.getUTCDay(),a=(o-n.weekStartsOn+8)%7||7;switch(r){case"c":return String(a);case"cc":return _e(a,r.length);case"co":return t.ordinalNumber(a,{unit:"day"});case"ccc":return t.day(o,{width:"abbreviated",context:"standalone"});case"ccccc":return t.day(o,{width:"narrow",context:"standalone"});case"cccccc":return t.day(o,{width:"short",context:"standalone"});case"cccc":default:return t.day(o,{width:"wide",context:"standalone"})}},i:function(e,r,t){var n=e.getUTCDay(),o=n===0?7:n;switch(r){case"i":return String(o);case"ii":return _e(o,r.length);case"io":return t.ordinalNumber(o,{unit:"day"});case"iii":return t.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return t.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return t.day(n,{width:"short",context:"formatting"});case"iiii":default:return t.day(n,{width:"wide",context:"formatting"})}},a:function(e,r,t){var n=e.getUTCHours(),o=n/12>=1?"pm":"am";switch(r){case"a":case"aa":case"aaa":return t.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"aaaaa":return t.dayPeriod(o,{width:"narrow",context:"formatting"});case"aaaa":default:return t.dayPeriod(o,{width:"wide",context:"formatting"})}},b:function(e,r,t){var n=e.getUTCHours(),o;switch(n===12?o=Xr.noon:n===0?o=Xr.midnight:o=n/12>=1?"pm":"am",r){case"b":case"bb":case"bbb":return t.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"bbbbb":return t.dayPeriod(o,{width:"narrow",context:"formatting"});case"bbbb":default:return t.dayPeriod(o,{width:"wide",context:"formatting"})}},B:function(e,r,t){var n=e.getUTCHours(),o;switch(n>=17?o=Xr.evening:n>=12?o=Xr.afternoon:n>=4?o=Xr.morning:o=Xr.night,r){case"B":case"BB":case"BBB":return t.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"BBBBB":return t.dayPeriod(o,{width:"narrow",context:"formatting"});case"BBBB":default:return t.dayPeriod(o,{width:"wide",context:"formatting"})}},h:function(e,r,t){if(r==="ho"){var n=e.getUTCHours()%12;return n===0&&(n=12),t.ordinalNumber(n,{unit:"hour"})}return ar.h(e,r)},H:function(e,r,t){return r==="Ho"?t.ordinalNumber(e.getUTCHours(),{unit:"hour"}):ar.H(e,r)},K:function(e,r,t){var n=e.getUTCHours()%12;return r==="Ko"?t.ordinalNumber(n,{unit:"hour"}):_e(n,r.length)},k:function(e,r,t){var n=e.getUTCHours();return n===0&&(n=24),r==="ko"?t.ordinalNumber(n,{unit:"hour"}):_e(n,r.length)},m:function(e,r,t){return r==="mo"?t.ordinalNumber(e.getUTCMinutes(),{unit:"minute"}):ar.m(e,r)},s:function(e,r,t){return r==="so"?t.ordinalNumber(e.getUTCSeconds(),{unit:"second"}):ar.s(e,r)},S:function(e,r){return ar.S(e,r)},X:function(e,r,t,n){var o=n._originalDate||e,a=o.getTimezoneOffset();if(a===0)return"Z";switch(r){case"X":return Af(a);case"XXXX":case"XX":return _r(a);case"XXXXX":case"XXX":default:return _r(a,":")}},x:function(e,r,t,n){var o=n._originalDate||e,a=o.getTimezoneOffset();switch(r){case"x":return Af(a);case"xxxx":case"xx":return _r(a);case"xxxxx":case"xxx":default:return _r(a,":")}},O:function(e,r,t,n){var o=n._originalDate||e,a=o.getTimezoneOffset();switch(r){case"O":case"OO":case"OOO":return"GMT"+Of(a,":");case"OOOO":default:return"GMT"+_r(a,":")}},z:function(e,r,t,n){var o=n._originalDate||e,a=o.getTimezoneOffset();switch(r){case"z":case"zz":case"zzz":return"GMT"+Of(a,":");case"zzzz":default:return"GMT"+_r(a,":")}},t:function(e,r,t,n){var o=n._originalDate||e,a=Math.floor(o.getTime()/1e3);return _e(a,r.length)},T:function(e,r,t,n){var o=n._originalDate||e,a=o.getTime();return _e(a,r.length)}};function Of(e,r){var t=e>0?"-":"+",n=Math.abs(e),o=Math.floor(n/60),a=n%60;if(a===0)return t+String(o);var i=r||"";return t+String(o)+i+_e(a,2)}function Af(e,r){if(e%60===0){var t=e>0?"-":"+";return t+_e(Math.abs(e)/60,2)}return _r(e,r)}function _r(e,r){var t=r||"",n=e>0?"-":"+",o=Math.abs(e),a=_e(Math.floor(o/60),2),i=_e(o%60,2);return n+a+t+i}var eS=J6;function Pf(e,r){switch(e){case"P":return r.date({width:"short"});case"PP":return r.date({width:"medium"});case"PPP":return r.date({width:"long"});case"PPPP":default:return r.date({width:"full"})}}function yg(e,r){switch(e){case"p":return r.time({width:"short"});case"pp":return r.time({width:"medium"});case"ppp":return r.time({width:"long"});case"pppp":default:return r.time({width:"full"})}}function tS(e,r){var t=e.match(/(P+)(p+)?/),n=t[1],o=t[2];if(!o)return Pf(e,r);var a;switch(n){case"P":a=r.dateTime({width:"short"});break;case"PP":a=r.dateTime({width:"medium"});break;case"PPP":a=r.dateTime({width:"long"});break;case"PPPP":default:a=r.dateTime({width:"full"});break}return a.replace("{{date}}",Pf(n,r)).replace("{{time}}",yg(o,r))}var rS={p:yg,P:tS},nS=rS,oS=["D","DD"],aS=["YY","YYYY"];function iS(e){return oS.indexOf(e)!==-1}function sS(e){return aS.indexOf(e)!==-1}function Uf(e){if(e==="YYYY")throw new RangeError("Use `yyyy` instead of `YYYY` for formatting years; see: https://git.io/fxCyr");if(e==="YY")throw new RangeError("Use `yy` instead of `YY` for formatting years; see: https://git.io/fxCyr");if(e==="D")throw new RangeError("Use `d` instead of `D` for formatting days of the month; see: https://git.io/fxCyr");if(e==="DD")throw new RangeError("Use `dd` instead of `DD` for formatting days of the month; see: https://git.io/fxCyr")}var cS=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,dS=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,lS=/^'([^]*?)'?$/,fS=/''/g,uS=/[a-zA-Z]/;function vo(e,r,t){if(arguments.length<2)throw new TypeError("2 arguments required, but only "+arguments.length+" present");var n=String(r),o=t||{},a=o.locale||$6,i=a.options&&a.options.firstWeekContainsDate,s=i==null?1:Ie(i),c=o.firstWeekContainsDate==null?s:Ie(o.firstWeekContainsDate);if(!(c>=1&&c<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var d=a.options&&a.options.weekStartsOn,l=d==null?0:Ie(d),f=o.weekStartsOn==null?l:Ie(o.weekStartsOn);if(!(f>=0&&f<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!a.localize)throw new RangeError("locale must contain localize property");if(!a.formatLong)throw new RangeError("locale must contain formatLong property");var u=ke(e);if(!Q4(u))throw new RangeError("Invalid time value");var h=bc(u),p=H6(u,h),m={firstWeekContainsDate:c,weekStartsOn:f,locale:a,_originalDate:u},b=n.match(dS).map(function(y){var g=y[0];if(g==="p"||g==="P"){var w=nS[g];return w(y,a.formatLong,m)}return y}).join("").match(cS).map(function(y){if(y==="''")return"'";var g=y[0];if(g==="'")return pS(y);var w=eS[g];if(w)return!o.useAdditionalWeekYearTokens&&sS(y)&&Uf(y),!o.useAdditionalDayOfYearTokens&&iS(y)&&Uf(y),w(p,y,a.localize,m);if(g.match(uS))throw new RangeError("Format string contains an unescaped latin alphabet character `"+g+"`");return y}).join("");return b}function pS(e){return e.match(lS)[1].replace(fS,"'")}function hS(e,r){if(arguments.length<2)throw new TypeError("2 arguments required, but only "+arguments.length+" present");var t=Ie(r);return hg(e,-t)}function gS(e,r){if(arguments.length<2)throw new TypeError("2 arguments required, but only "+arguments.length+" present");var t=Ie(r);return gg(e,-t)}function Cf(e,r){if(arguments.length<2)throw new TypeError("2 arguments required, but only "+arguments.length+" present");var t=Ie(r);return yc(e,-t)}function mS(e,r){if(arguments.length<2)throw new TypeError("2 arguments required, but only "+arguments.length+" present");var t=Ie(r);return Ld(e,-t)}function Bf(e,r){if(arguments.length<2)throw new TypeError("2 arguments required, but only "+arguments.length+" present");var t=Ie(r);return wc(e,-t)}function vS(e,r){if(arguments.length<2)throw new TypeError("2 arguments required, but only "+arguments.length+" present");var t=Ie(r);return mg(e,-t)}var bS=globalThis&&globalThis.__extends||function(){var e=function(r,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var a in o)o.hasOwnProperty(a)&&(n[a]=o[a])},e(r,t)};return function(r,t){e(r,t);function n(){this.constructor=r}r.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),yS=globalThis&&globalThis.__rest||function(e,r){var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&r.indexOf(n)<0&&(t[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,n=Object.getOwnPropertySymbols(e);o<n.length;o++)r.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(t[n[o]]=e[n[o]]);return t},wS=globalThis&&globalThis.__spreadArrays||function(){for(var e=0,r=0,t=arguments.length;r<t;r++)e+=arguments[r].length;for(var n=Array(e),o=0,r=0;r<t;r++)for(var a=arguments[r],i=0,s=a.length;i<s;i++,o++)n[o]=a[i];return n},_S=function(e){bS(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.scaleTypes={top:null,right:null,bottom:null,left:null},t.scales={top:null,right:null,bottom:null,left:null},t}return r.prototype.getDomainAxisPosition=function(t){var n=(t===void 0?{}:t).datum,o=n===void 0?null:n,a;if(this.dualAxes&&o){var i=this.model.getOptions(),s=i.data.groupMapsTo,c=v.getProperty(i,"axes",this.secondaryDomainAxisPosition),d=o[s];if(((a=c)===null||a===void 0?void 0:a.correspondingDatasets)&&c.correspondingDatasets.includes(d))return this.secondaryDomainAxisPosition}return this.domainAxisPosition},r.prototype.getRangeAxisPosition=function(t){var n=t===void 0?{}:t,o=n.datum,a=o===void 0?null:o,i=n.groups,s=i===void 0?null:i,c;if(this.dualAxes){var d=this.model.getOptions(),l=d.data.groupMapsTo,f=v.getProperty(d,"axes",this.secondaryRangeAxisPosition),u=void 0;if(a!==null?u=a[l]:s&&s.length>0&&(u=s[0]),((c=f)===null||c===void 0?void 0:c.correspondingDatasets)&&f.correspondingDatasets.includes(u))return this.secondaryRangeAxisPosition}return this.rangeAxisPosition},r.prototype.getAxisOptions=function(t){return v.getProperty(this.model.getOptions(),"axes",t)},r.prototype.getDomainAxisOptions=function(){var t=this.getDomainAxisPosition();return this.getAxisOptions(t)},r.prototype.getRangeAxisOptions=function(){var t=this.getRangeAxisPosition();return this.getAxisOptions(t)},r.prototype.getScaleLabel=function(t){var n=this.getAxisOptions(t),o=n.title;return o||(t===q.BOTTOM||t===q.TOP?"x-value":"y-value")},r.prototype.getDomainLabel=function(){return this.getScaleLabel(this.getDomainAxisPosition())},r.prototype.getRangeLabel=function(){return this.getScaleLabel(this.getRangeAxisPosition())},r.prototype.update=function(t){var n=this;this.determineAxisDuality(),this.findDomainAndRangeAxes(),this.determineOrientation();var o=Object.keys(q).map(function(a){return q[a]});o.forEach(function(a){n.scales[a]=n.createScale(a)})},r.prototype.findDomainAndRangeAxes=function(){var t=this.findVerticalAxesPositions(),n=this.findHorizontalAxesPositions(),o=this.findDomainAndRangeAxesPositions(t,n);this.domainAxisPosition=o.primaryDomainAxisPosition,this.rangeAxisPosition=o.primaryRangeAxisPosition,this.isDualAxes()&&(this.secondaryDomainAxisPosition=o.secondaryDomainAxisPosition,this.secondaryRangeAxisPosition=o.secondaryRangeAxisPosition)},r.prototype.determineOrientation=function(){(this.rangeAxisPosition===q.LEFT||this.rangeAxisPosition===q.RIGHT)&&(this.domainAxisPosition===q.BOTTOM||this.domainAxisPosition===q.TOP)?this.orientation=He.VERTICAL:this.orientation=He.HORIZONTAL},r.prototype.isDualAxes=function(){return this.dualAxes},r.prototype.determineAxisDuality=function(){var t,n,o,a,i=this.model.getOptions(),s=v.getProperty(i,"axes");(((t=s[q.LEFT])===null||t===void 0?void 0:t.correspondingDatasets)&&s[q.RIGHT]||((n=s[q.RIGHT])===null||n===void 0?void 0:n.correspondingDatasets)&&s[q.LEFT]||((o=s[q.TOP])===null||o===void 0?void 0:o.correspondingDatasets)&&s[q.BOTTOM]||((a=s[q.BOTTOM])===null||a===void 0?void 0:a.correspondingDatasets)&&s[q.TOP])&&(this.dualAxes=!0)},r.prototype.getCustomDomainValuesByposition=function(t){var n=v.getProperty(this.model.getOptions(),"axes",t,"domain");if(n&&!Array.isArray(n))throw new Error("Domain in "+t+" axis is not a valid array");if(Array.isArray(n)&&(this.scaleTypes[t]===ne.LINEAR||this.scaleTypes[t]===ne.TIME)&&n.length!==2)throw new Error("There can only be 2 elements in domain for scale type: "+this.scaleTypes[t]);return n},r.prototype.getOrientation=function(){return this.orientation},r.prototype.getScaleByPosition=function(t){return this.scales[t]},r.prototype.getScaleTypeByPosition=function(t){return this.scaleTypes[t]},r.prototype.getDomainAxisScaleType=function(){var t=this.getDomainAxisPosition();return this.getScaleTypeByPosition(t)},r.prototype.getRangeAxisScaleType=function(){var t=this.getRangeAxisPosition();return this.getScaleTypeByPosition(t)},r.prototype.getDomainScale=function(){return this.scales[this.domainAxisPosition]},r.prototype.getRangeScale=function(){return this.scales[this.rangeAxisPosition]},r.prototype.getMainXAxisPosition=function(){var t=[q.BOTTOM,q.TOP];return[this.domainAxisPosition,this.rangeAxisPosition].find(function(n){return t.indexOf(n)>-1})},r.prototype.getMainYAxisPosition=function(){var t=[q.LEFT,q.RIGHT];return[this.domainAxisPosition,this.rangeAxisPosition].find(function(n){return t.indexOf(n)>-1})},r.prototype.getMainXScale=function(){return this.scales[this.getMainXAxisPosition()]},r.prototype.getMainYScale=function(){return this.scales[this.getMainYAxisPosition()]},r.prototype.getValueFromScale=function(t,n,o,a,i){var s=this.model.getOptions(),c=v.getProperty(s,"axes"),d=c[o],l=d.mapsTo,f=v.getProperty(a,l)!==null?a[l]:a,u;switch(n){case ne.LABELS:u=t(f)+t.step()/2;break;case ne.TIME:u=t(new Date(f));break;default:u=t(f)}return u},r.prototype.getBoundedScaledValues=function(t,n){var o=this.model.getOptions().bounds,a=this.getRangeAxisPosition({datum:t}),i=this.scales[a],s=this.model.getOptions(),c=v.getProperty(s,"axes"),d=c[a],l=d.mapsTo,f=t[l]!==void 0?t[l]:t,u=[i(v.getProperty(t,o.upperBoundMapsTo)!==null?t[o.upperBoundMapsTo]:f),i(v.getProperty(t,o.lowerBoundMapsTo)!==null?t[o.lowerBoundMapsTo]:f)];return u},r.prototype.getValueThroughAxisPosition=function(t,n,o){var a=this.scaleTypes[t],i=this.scales[t];return this.getValueFromScale(i,a,t,n,o)},r.prototype.getDomainValue=function(t,n){var o=this.getDomainAxisPosition({datum:t});return this.getValueThroughAxisPosition(o,t,n)},r.prototype.getRangeValue=function(t,n){var o=this.getRangeAxisPosition({datum:t});return this.getValueThroughAxisPosition(o,t,n)},r.prototype.getMainXScaleType=function(){return this.getScaleTypeByPosition(this.getMainXAxisPosition())},r.prototype.getMainYScaleType=function(){return this.getScaleTypeByPosition(this.getMainYAxisPosition())},r.prototype.getDomainIdentifier=function(t){var n=this.model.getOptions();return v.getProperty(n,"axes",this.getDomainAxisPosition({datum:t}),"mapsTo")},r.prototype.getRangeIdentifier=function(t){var n=this.model.getOptions();return v.getProperty(n,"axes",this.getRangeAxisPosition({datum:t}),"mapsTo")},r.prototype.extendsDomain=function(t,n){var o=this.model.getOptions(),a=v.getProperty(o,"axes",t);if(a.scaleType===ne.TIME){var i=v.getProperty(o,"timeScale","addSpaceOnEdges");return xS(n,i)}else return kS(n,Yt.paddingRatio,a.scaleType)},r.prototype.findVerticalAxesPositions=function(){var t=this.model.getOptions(),n=v.getProperty(t,"axes"),o=this.isDualAxes();return v.getProperty(n,q.LEFT)===null&&v.getProperty(n,q.RIGHT)!==null||v.getProperty(n,q.RIGHT,"main")===!0||o&&v.getProperty(n,q.LEFT,"correspondingDatasets")?{primary:q.RIGHT,secondary:q.LEFT}:{primary:q.LEFT,secondary:q.RIGHT}},r.prototype.findHorizontalAxesPositions=function(){var t=this.model.getOptions(),n=v.getProperty(t,"axes"),o=this.isDualAxes();return v.getProperty(n,q.BOTTOM)===null&&v.getProperty(n,q.TOP)!==null||v.getProperty(n,q.TOP,"main")===!0||o&&v.getProperty(n,q.BOTTOM,"correspondingDatasets")?{primary:q.TOP,secondary:q.BOTTOM}:{primary:q.BOTTOM,secondary:q.TOP}},r.prototype.findDomainAndRangeAxesPositions=function(t,n){var o=this.model.getOptions(),a=v.getProperty(o,"axes",t.primary),i=v.getProperty(o,"axes",n.primary),s=a.scaleType||ne.LINEAR,c=i.scaleType||ne.LINEAR,d={primaryDomainAxisPosition:null,secondaryDomainAxisPosition:null,primaryRangeAxisPosition:null,secondaryRangeAxisPosition:null};return d.primaryDomainAxisPosition=n.primary,d.primaryRangeAxisPosition=t.primary,d.secondaryDomainAxisPosition=n.secondary,d.secondaryRangeAxisPosition=t.secondary,(!(c===ne.LABELS||c===ne.TIME)&&s===ne.LABELS||s===ne.TIME)&&(d.primaryDomainAxisPosition=t.primary,d.primaryRangeAxisPosition=n.primary,d.secondaryDomainAxisPosition=t.secondary,d.secondaryRangeAxisPosition=n.secondary),d},r.prototype.getScaleDomain=function(t){var n=this.model.getOptions(),o=v.getProperty(n,"axes",t),a=v.getProperty(n,"bounds"),i=o.includeZero,s=v.getProperty(o,"scaleType")||ne.LINEAR;if(this.model.isDataEmpty())return[];if(o.binned){var c=this.model.getBinConfigurations().bins;return[0,Br(c,function(T){return T.length})]}else if(o.limitDomainToBins){var c=this.model.getBinConfigurations().bins,d=this.model.getStackKeys({bins:c});return[d[0].split("-")[0],d[d.length-1].split("-")[1]]}var l=this.model.getDisplayData(),f=o.extendLinearDomainBy,u=o.mapsTo,h=o.percentage,p=o.thresholds,m=Yt.ratio,b=m.reference,y=m.compareTo;if(o.domain)return s===ne.LABELS?o.domain:(s===ne.TIME&&(o.domain=o.domain.map(function(T){return T.getTime===void 0?new Date(T):T})),this.extendsDomain(t,o.domain));if(h)return[0,100];if(o&&s===ne.LABELS)return v.removeArrayDuplicates(l.map(function(T){return T[u]}));var g,w,k=this.model.getDataGroupNames();if(s===ne.LABELS_RATIO)return l.map(function(T){return T[b]+"/"+T[y]});if(s===ne.TIME)w=l.map(function(T){return+new Date(T[u])});else if(a&&n.axes)w=[],l.forEach(function(T){w.push(T[u]),T[a.upperBoundMapsTo]&&w.push(T[a.upperBoundMapsTo]),T[a.lowerBoundMapsTo]&&w.push(T[a.lowerBoundMapsTo])});else if(o.stacked===!0&&k&&t===this.getRangeAxisPosition()){var _=n.data.groupMapsTo,x=this.model.getDataValuesGroupedByKeys({groups:k}),O=l.filter(function(T){return!k.includes(T[_])}),M=[];x.forEach(function(T){T.sharedStackKey;var A=yS(T,["sharedStackKey"]),S=0,P=0;Object.values(A).forEach(function(I){isNaN(I)||(I<0?P+=I:S+=I)}),M.push([P,S])}),w=wS(v.flatten(M),O.map(function(T){return T[u]}))}else w=[],l.forEach(function(T){var A=T[u];Array.isArray(A)&&A.length===2?(w.push(A[0]),w.push(A[1])):(f&&w.push(Math.max(T[u],T[f])),w.push(A))});return s!==ne.TIME&&s!==ne.LOG&&i&&w.push(0),p&&p.length>0&&p.forEach(function(T){var A=v.getProperty(T,"value");A!==null&&w.push(A)}),g=zt(w),g=this.extendsDomain(t,g),g},r.prototype.createScale=function(t){var n=this.model.getOptions(),o=v.getProperty(n,"axes",t);if(!o)return null;var a=v.getProperty(o,"scaleType")||ne.LINEAR;this.scaleTypes[t]=a;var i;return a===ne.TIME?i=Yh():a===ne.LOG?i=Th().base(o.base||10):a===ne.LABELS||a===ne.LABELS_RATIO?i=Ao():i=Nt(),i.domain(this.getScaleDomain(t)),i},r.prototype.getHighestDomainThreshold=function(){var t=v.getProperty(this.model.getOptions(),"axes"),n=this.getDomainAxisPosition(),o=t[n].thresholds;if(!Array.isArray(o)||Array.isArray(o)&&!o.length)return null;var a=this.getDomainScale(),i=o.sort(function(c,d){return d.value-c.value})[0],s=this.getScaleTypeByPosition(n);return s===ne.TIME&&(typeof i.value=="string"||i.value.getTime===void 0)&&(i.value=new Date(i.value)),{threshold:i,scaleValue:a(i.value)}},r.prototype.getHighestRangeThreshold=function(){var t=v.getProperty(this.model.getOptions(),"axes"),n=this.getRangeAxisPosition(),o=t[n].thresholds;if(!Array.isArray(o)||Array.isArray(o)&&!o.length)return null;var a=this.getRangeScale(),i=o.sort(function(s,c){return c.value-s.value})[0];return{threshold:i,scaleValue:a(i.value)}},r}(nr);function xS(e,r){var t=new Date(e[0]),n=new Date(e[1]);return i6(n,t)>1?[vS(t,r),mg(n,r)]:a6(n,t)>1?[mS(t,r),Ld(n,r)]:t6(n,t)>1?[hS(t,r),hg(n,r)]:n6(n,t)>1?[gS(t,r),gg(n,r)]:Ef(n,t)>30?[Cf(t,r*30),yc(n,r*30)]:Ef(n,t)>1?[Cf(t,r),yc(n,r)]:Tf(n,t)>15?[Bf(t,r*15),wc(n,r*15)]:Tf(n,t)>1?[Bf(t,r),wc(n,r)]:[t,n]}function kS(e,r,t){var n=e[0],o=e[1],a=o-n,i=a*r,s=o<=0&&o+i>0?0:o+i,c=n>=0&&n-i<0?0:n-i;if(t===ne.LOG&&c<=0){if(n<=0)throw Error("Data must have values greater than 0 if log scale type is used.");c=n}return[c,s]}var SS=globalThis&&globalThis.__extends||function(){var e=function(r,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var a in o)o.hasOwnProperty(a)&&(n[a]=o[a])},e(r,t)};return function(r,t){e(r,t);function n(){this.constructor=r}r.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),MS=function(e){SS(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.curveTypes={curveLinear:pi,curveLinearClosed:ag,curveBasis:a4,curveBasisClosed:i4,curveBasisOpen:s4,curveBundle:c4,curveCardinal:d4,curveCardinalClosed:l4,curveCardinalOpen:f4,curveCatmullRom:u4,curveCatmullRomClosed:p4,curveCatmullRomOpen:h4,curveMonotoneX:g4,curveMonotoneY:m4,curveNatural:v4,curveStep:b4,curveStepAfter:w4,curveStepBefore:y4},t}return r.prototype.getD3Curve=function(){var t="curveLinear",n=this.model.getOptions().curve;if(n&&(typeof n=="string"?t=n:t=n.name),this.curveTypes[t]){var o=this.curveTypes[t];return n&&Object.keys(n).forEach(function(a){o[a]&&(o=o[a](n[a]))}),o}return console.warn("The curve type '"+t+"' is invalid, using 'curveLinear' instead"),this.curveTypes.curveLinear},r}(nr),ES=globalThis&&globalThis.__extends||function(){var e=function(r,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var a in o)o.hasOwnProperty(a)&&(n[a]=o[a])},e(r,t)};return function(r,t){e(r,t);function n(){this.constructor=r}r.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),TS=function(e){ES(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}return r.prototype.isZoomBarEnabled=function(){if(!this.services.cartesianScales||!v.getProperty(this.model.getOptions(),"zoomBar","top","enabled"))return!1;this.services.cartesianScales.findDomainAndRangeAxes();var t=this.services.cartesianScales.getMainXAxisPosition(),n=v.getProperty(this.model.getOptions(),"axes",t,"scaleType");return t===q.BOTTOM&&n===ne.TIME},r.prototype.getZoomBarData=function(){var t=this.model.getZoomBarData();return t&&t.length>1?t:this.model.getDisplayData()},r.prototype.getDefaultZoomBarDomain=function(t){var n=t||this.services.zoom.getZoomBarData(),o=this.services.cartesianScales,a=o.getMainXAxisPosition(),i=o.getDomainIdentifier(),s=v.getProperty(this.model.getOptions(),"axes",a,"domain");return Array.isArray(s)&&s.length===2?s:o.extendsDomain(a,zt(n,function(c){return c[i]}))},r.prototype.handleDomainChange=function(t,n){n===void 0&&(n={dispatchEvent:!0}),this.model.set({zoomDomain:t},{animate:!1}),n.dispatchEvent&&this.services.events.dispatchEvent(E.ZoomDomain.CHANGE,{newDomain:t})},r.prototype.getZoomRatio=function(){return v.getProperty(this.model.getOptions(),"zoomBar","zoomRatio")},r.prototype.filterDataForRangeAxis=function(t,n){var o=this.model.get("zoomDomain"),a=Object.assign({stacked:!1},n),i=v.getProperty(this.model.getOptions(),"zoomBar","updateRangeAxis");if(this.isZoomBarEnabled()&&i&&o){var s=a.stacked?"sharedStackKey":this.services.cartesianScales.getDomainIdentifier(),c=t.filter(function(d){return new Date(d[s])>=o[0]&&new Date(d[s])<=o[1]});if(c.length>0)return c}return t},r.prototype.zoomIn=function(t){t===void 0&&(t=this.getZoomRatio());var n=this.model.get("zoomDomain"),o=at.handleWidth,a=this.services.cartesianScales.getMainXScale().copy();a.domain(this.getDefaultZoomBarDomain());var i=a(n[0]),s=a(n[1]);if(!(s-i<o+1)){var c=a.range(),d=s-i,l=Math.min((c[1]-c[0])/2*(t/2),d/2),f=i+l,u=s-l;f>=u&&(f=i+d/2-o/2,u=s-d/2+o/2);var h=[a.invert(f),a.invert(u)];(n[0].valueOf()!==h[0].valueOf()||n[1].valueOf()!==h[1].valueOf())&&this.handleDomainChange(h)}},r.prototype.zoomOut=function(t){t===void 0&&(t=this.getZoomRatio());var n=this.model.get("zoomDomain"),o=this.services.cartesianScales.getMainXScale().copy();o.domain(this.getDefaultZoomBarDomain());var a=o(n[0]),i=o(n[1]),s=o.range(),c=(s[1]-s[0])/2*(t/2),d=Math.max(a-c,s[0]),l=Math.min(i+c,s[1]),f=[o.invert(d),o.invert(l)];(n[0].valueOf()!==f[0].valueOf()||n[1].valueOf()!==f[1].valueOf())&&this.handleDomainChange(f)},r.prototype.resetZoomDomain=function(){var t=this.model.get("zoomDomain"),n=this.getDefaultZoomBarDomain();(t[0].valueOf()!==n[0].valueOf()||t[1].valueOf()!==n[1].valueOf())&&this.handleDomainChange(n)},r.prototype.isMinZoomDomain=function(){var t=this.model.get("zoomDomain"),n=this.getDefaultZoomBarDomain();if(!t||!n)return!1;var o=t[1].valueOf()-t[0].valueOf(),a=n[1].valueOf()-n[0].valueOf(),i=v.getProperty(this.model.getOptions(),"zoomBar","minZoomRatio");return o/a<i},r.prototype.isMaxZoomDomain=function(){var t=this.model.get("zoomDomain"),n=this.getDefaultZoomBarDomain();return!!(t&&n&&t[0].valueOf()===n[0].valueOf()&&t[1].valueOf()===n[1].valueOf())},r.prototype.isEmptyState=function(){return this.getZoomBarData().length===0},r.prototype.isZoomBarLoading=function(t){return v.getProperty(this.model.getOptions(),"zoomBar",t,"loading")},r.prototype.isZoomBarLocked=function(t){return v.getProperty(this.model.getOptions(),"zoomBar",t,"locked")},r}(nr),OS=globalThis&&globalThis.__extends||function(){var e=function(r,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var a in o)o.hasOwnProperty(a)&&(n[a]=o[a])},e(r,t)};return function(r,t){e(r,t);function n(){this.constructor=r}r.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),AS=function(e){OS(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}return r.prototype.zoomIn=function(t,n,o){var a,i,s,c=o||fn;t&&(a=t.x,i=t.y,s=2);var d=D.getSVGElementSize(this.services.domUtils.getHolder(),{useClientDimensions:!0}),l=d.width,f=d.height;n.transition().duration(c.duration).ease(c.ease).attr("transform","translate("+l/2+", "+f/2+") scale("+s+") translate("+-a+","+-i+")"),this.services.events.dispatchEvent(E.CanvasZoom.CANVAS_ZOOM_IN,{element:R(t)})},r.prototype.zoomOut=function(t,n){var o=n||fn;t.transition().duration(o.duration).ease(o.ease).attr("transform",""),this.services.events.dispatchEvent(E.CanvasZoom.CANVAS_ZOOM_OUT)},r}(nr),me=function(){function e(r,t,n){if(this.renderType=oe.HTML,this.configs={},this.model=r,this.services=t,n&&(this.configs=n,this.configs.id)){var o=v.getProperty(this.model.getOptions(),"style","prefix");this.id=o+"--"+this.configs.id}this.parent||this.setParent(R(this.services.domUtils.getMainContainer()))}return e.prototype.init=function(){},e.prototype.render=function(r){console.error("render() method is not implemented")},e.prototype.destroy=function(){},e.prototype.setModel=function(r){this.model=r},e.prototype.setServices=function(r){this.services=r},e.prototype.setParent=function(r){var t=this.parent;if(this.parent=r,!(t&&t.node()===r.node())&&this.type){var n=v.getProperty(this.model.getOptions(),"style","prefix");this.parent.classed(tt+"--"+n+"--"+this.type,!0),t&&t.classed(tt+"--"+n+"--"+this.type,!1)}},e.prototype.getParent=function(){return this.parent},e.prototype.getComponentContainer=function(r){if(r===void 0&&(r={withinChartClip:!1}),this.type){var t=v.getProperty(this.model.getOptions(),"style","prefix"),n=this.id?"#"+this.id:"",o=D.appendOrSelect(this.parent,(this.renderType===oe.SVG?"svg":"div")+n+"."+tt+"--"+t+"--"+this.type);if(r.withinChartClip){var a=this.model.get("chartClipId");if(a){var i=R("#"+a),s=i.select("rect");s.size()!==0&&parseFloat(s.attr("height"))>0&&o.attr("clip-path","url(#"+a+")")}}return o.attr("width","100%").attr("height","100%")}return this.parent},e.prototype.getOptions=function(){if(this.configs.options){var r=v.merge({},this.model.getOptions(),this.configs.options);return r}return this.model.getOptions()},e}(),PS=globalThis&&globalThis.__extends||function(){var e=function(r,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var a in o)o.hasOwnProperty(a)&&(n[a]=o[a])},e(r,t)};return function(r,t){e(r,t);function n(){this.constructor=r}r.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Rd=function(e){PS(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.type="legend",t.renderType=oe.HTML,t}return r.prototype.render=function(){var t=this,n=this.getOptions(),o=v.getProperty(n,"legend"),a=v.getProperty(o,"alignment"),i=v.getProperty(n,"legend","orientation"),s=this.model.getDataGroups(),c=ze.items.status.DISABLED,d=s.some(function(M){return M.status===c}),l=v.getProperty(o,"order"),f=this.getComponentContainer().classed("center-aligned",a===Ve.CENTER).classed("right-aligned",a===Ve.RIGHT).classed(i,!0).classed("has-deactivated-items",d).attr("role",fe.GROUP).attr("aria-label","Data groups").attr("data-name","legend-items");l&&(s=this.sortDataGroups(s,l));var u=f.selectAll("div.legend-item").data(s,function(M){return M.name}),h=u.enter().append("div").attr("class","legend-item");h.merge(f.selectAll("div.legend-item")).classed("active",function(M,T){return M.status===ze.items.status.ACTIVE});var p=v.getProperty(this.getOptions(),"legend","clickable");f.classed("clickable",p&&s.length>1);var m=ze.checkbox.radius,b=h.append("div").classed("checkbox",!0),y=b.merge(u.select("div.checkbox")).attr("role",fe.CHECKBOX).attr("tabindex",p?0:-1).attr("aria-labelledby",function(M,T){return t.services.domUtils.generateElementIDString("legend-datagroup-"+T+"-title")}).attr("aria-checked",function(M){var T=M.status;return T===ze.items.status.ACTIVE}).attr("width",m*2).attr("height",m*2).attr("class",function(M,T){return t.model.getColorClassName({classNameTypes:[ie.BACKGROUND],dataGroupName:M.name,originalClassName:"checkbox"})}).style("background",function(M){return M.status===ze.items.status.ACTIVE?t.model.getFillColor(M.name)||t.model.getStrokeColor(M.name):null}).classed("active",function(M,T){return M.status===ze.items.status.ACTIVE});b.append("svg").attr("focusable",!1).attr("preserveAspectRatio","xMidYMid meet").attr("xmlns","http://www.w3.org/2000/svg").attr("width","11").attr("height","11").attr("viewBox","0 0 31 28").attr("aria-hidden",!0).style("will-change","transform").append("path").attr("d","M13 21.2l-7.1-7.1-1.4 1.4 7.1 7.1L13 24 27.1 9.9l-1.4-1.5z"),h.append("p").merge(u.select("p"));var g=v.getProperty(n,"legend","additionalItems");if(g&&s.length){var w=this,k=f.selectAll("div.additional-item").data(g);k.exit().remove();var _=k.enter().append("div").merge(k).classed("legend-item",!0).classed("additional",!0).attr("aria-labelledby",function(M,T){return t.services.domUtils.generateElementIDString("legend-datagroup-"+(y.size()+T)+"-title")});_.selectAll("*").remove();var x,O=1;_.append("svg").classed("icon",!0).each(function(M,T){var A=R(this);!x||x!=M.type?(x=M.type,O=1):O++,w.addAdditionalItem(A,M,O)}),_.append("p").merge(_.select("p")),this.truncateLegendText()}u.exit().on("mouseover",null).on("click",null).on("mouseout",null).remove(),p&&h.size()>1&&this.addEventListeners()},r.prototype.sortDataGroups=function(t,n){if(t.sort(function(i,s){return n.indexOf(i.name)-n.indexOf(s.name)}),n.length<t.length){var o=t.length-n.length,a=t.slice(o);return a.concat(t.slice(0,o))}return t},r.prototype.addAdditionalItem=function(t,n,o){var a=ze.area,i=a.width,s=a.height;if(n.type===Fe.RADIUS?t.style("width",s+"px").style("height",s+"px"):t.style("width",i+"px").style("height",s+"px"),n.type===Fe.RADIUS){var c=ze.radius,d=c.iconData,l=c.fill,f=c.stroke,u=t.attr("fill","none").selectAll("circle").data(d).enter();u.append("circle").classed("radius",!0).attr("role",fe.IMG).attr("aria-label","radius").attr("cx",function(k){return k.cx}).attr("cy",function(k){return k.cy}).attr("r",function(k){return k.r}).style("fill",n.fill?n.fill:l).style("stroke",n.stroke?n.stroke:f)}else if(n.type===Fe.LINE){var h=ze.line;t.select("line.line").empty()&&t.append("line").classed("line-"+o,!0).attr("role",fe.IMG).attr("aria-label","line").attr("x1",0).attr("y1",h.yPosition).attr("x2",i).attr("y2",h.yPosition).style("stroke",n.stroke?n.stroke:h.stroke).style("stroke-width",h.strokeWidth)}else if(n.type===Fe.AREA)t.select("rect.area").empty()&&t.append("rect").classed("area-"+o,!0).attr("role",fe.IMG).attr("aria-label","area").attr("width",i).attr("height",s).style("fill",o>3&&!n.fill?ze.area.fill:n.fill).style("stroke",n.stroke);else if(n.type===Fe.SIZE){var p=ze.size,d=p.iconData,l=p.fill,f=p.stroke,m=t.attr("fill","none").attr("role",fe.IMG).attr("aria-label","size").selectAll("rect").data(d).enter();m.append("rect").classed("size",!0).attr("width",function(O){return O.width}).attr("height",function(O){return O.height}).attr("y",function(O){return 0}).style("fill",n.fill?n.fill:l).style("stroke",n.stroke?n.stroke:f).style("stroke-width",1)}else if(n.type===Fe.QUARTILE){var d=ze.quartile.iconData,b=t.selectAll("rect").attr("role",fe.IMG).attr("aria-label","quartile").data(d).enter();b.append("rect").attr("class",function(_,x){return"quartile-"+(x===0?"wrapper":"line")}).attr("x",function(_){return _.x}).attr("y",function(_){return _.y}).attr("width",function(_){return _.width}).attr("height",function(_){return _.height})}else if(n.type===Fe.ZOOM){var y=v.getProperty(fh,"legend","zoom"),d=y.iconData,g=y.color,w=t.attr("role",fe.IMG).attr("aria-label","zoom").selectAll("g.icon").data(d).enter();w.append("g").attr("x",function(_){return _.x}).attr("y",function(_){return _.y}).attr("width",function(_){return _.width}).attr("height",function(_){return _.height}).append("polygon").attr("points","7.7 4.82 5.78 4.82 5.78 2.89 4.82 2.89 4.82 4.82 2.89 4.82 2.89 5.78 4.82 5.78 4.82 7.7 5.78 7.7 5.78 5.78 7.7 5.78 7.7 4.82").attr("fill",function(_){return n.color?n.color:g}),w.append("path").attr("d","M9.36,8.67A5.22,5.22,0,0,0,10.59,5.3,5.3,5.3,0,1,0,5.3,10.59,5.22,5.22,0,0,0,8.67,9.36L12.32,13l.68-.68Zm-4.06,1A4.34,4.34,0,1,1,9.63,5.3,4.33,4.33,0,0,1,5.3,9.63Z").attr("fill",function(_){return n.color?n.color:g})}},r.prototype.truncateLegendText=function(){var t=this.getComponentContainer(),n=v.getProperty(this.getOptions(),"legend","truncation"),o=v.getProperty(n,"type"),a=v.getProperty(n,"threshold"),i=v.getProperty(n,"numCharacter"),s=t.selectAll("div.legend-item p");s.attr("id",function(c,d){var l=this.parentNode.querySelector("div.checkbox")||this.parentNode;return l.getAttribute("aria-labelledby")}),o!==Kt.NONE?s.html(function(c){return c.name.length>a?v.truncateLabel(c.name,o,i):c.name}):s.html(function(c){return c.name})},r.prototype.addEventListeners=function(){var t=this,n=this.getComponentContainer(),o=this.getOptions(),a=v.getProperty(o,"legend"),i=v.getProperty(a,"truncation","threshold");n.selectAll("div.legend-item").on("mouseover",function(s){t.services.events.dispatchEvent(E.Legend.ITEM_HOVER,{hoveredElement:R(this)});var c=R(this);c.select("div.checkbox").classed("hovered",!0);var d=c.datum();d.name.length>i&&t.services.events.dispatchEvent(E.Tooltip.SHOW,{event:s,hoveredElement:c,content:d.name})}).on("mousemove",function(s){t.services.events.dispatchEvent(E.Tooltip.MOVE,{event:s})}).on("click",function(){t.services.events.dispatchEvent(E.Legend.ITEM_CLICK,{clickedElement:R(this)});var s=R(this),c=s.datum();t.model.toggleDataLabel(c.name)}).on("mouseout",function(){var s=R(this);s.select("div.checkbox").classed("hovered",!1),t.services.events.dispatchEvent(E.Tooltip.HIDE),t.services.events.dispatchEvent(E.Legend.ITEM_MOUSEOUT,{hoveredElement:s})}),n.selectAll("div.legend-item div.checkbox").on("keyup",function(s){s.key&&s.key==="Tab"&&t.services.events.dispatchEvent(E.Legend.ITEM_HOVER,{hoveredElement:R(this)})}),n.selectAll("div.legend-item div.checkbox").on("keydown",function(s,c){s.key&&s.key===" "?(s.preventDefault(),t.model.toggleDataLabel(c.name)):s.key&&s.key==="Tab"&&t.services.events.dispatchEvent(E.Legend.ITEM_MOUSEOUT,{hoveredElement:R(this)})}),n.selectAll("g.additional-item").on("mouseover",function(s){var c=R(this),d=c.datum();d.name.length>i&&t.services.events.dispatchEvent(E.Tooltip.SHOW,{event:s,hoveredElement:c,content:d.name})})},r}(me);function US(e){return e}var aa=1,ia=2,_c=3,jn=4,If=1e-6;function CS(e){return"translate("+e+",0)"}function BS(e){return"translate(0,"+e+")"}function IS(e){return r=>+e(r)}function zS(e,r){return r=Math.max(0,e.bandwidth()-r*2)/2,e.round()&&(r=Math.round(r)),t=>+e(t)+r}function LS(){return!this.__axis}function yi(e,r){var t=[],n=null,o=null,a=6,i=6,s=3,c=typeof window!="undefined"&&window.devicePixelRatio>1?0:.5,d=e===aa||e===jn?-1:1,l=e===jn||e===ia?"x":"y",f=e===aa||e===_c?CS:BS;function u(h){var p=n==null?r.ticks?r.ticks.apply(r,t):r.domain():n,m=o==null?r.tickFormat?r.tickFormat.apply(r,t):US:o,b=Math.max(a,0)+s,y=r.range(),g=+y[0]+c,w=+y[y.length-1]+c,k=(r.bandwidth?zS:IS)(r.copy(),c),_=h.selection?h.selection():h,x=_.selectAll(".domain").data([null]),O=_.selectAll(".tick").data(p,r).order(),M=O.exit(),T=O.enter().append("g").attr("class","tick"),A=O.select("line"),S=O.select("text");x=x.merge(x.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),O=O.merge(T),A=A.merge(T.append("line").attr("stroke","currentColor").attr(l+"2",d*a)),S=S.merge(T.append("text").attr("fill","currentColor").attr(l,d*b).attr("dy",e===aa?"0em":e===_c?"0.71em":"0.32em")),h!==_&&(x=x.transition(h),O=O.transition(h),A=A.transition(h),S=S.transition(h),M=M.transition(h).attr("opacity",If).attr("transform",function(P){return isFinite(P=k(P))?f(P+c):this.getAttribute("transform")}),T.attr("opacity",If).attr("transform",function(P){var I=this.parentNode.__axis;return f((I&&isFinite(I=I(P))?I:k(P))+c)})),M.remove(),x.attr("d",e===jn||e===ia?i?"M"+d*i+","+g+"H"+c+"V"+w+"H"+d*i:"M"+c+","+g+"V"+w:i?"M"+g+","+d*i+"V"+c+"H"+w+"V"+d*i:"M"+g+","+c+"H"+w),O.attr("opacity",1).attr("transform",function(P){return f(k(P)+c)}),A.attr(l+"2",d*a),S.attr(l,d*b).text(m),_.filter(LS).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",e===ia?"start":e===jn?"end":"middle"),_.each(function(){this.__axis=k})}return u.scale=function(h){return arguments.length?(r=h,u):r},u.ticks=function(){return t=Array.from(arguments),u},u.tickArguments=function(h){return arguments.length?(t=h==null?[]:Array.from(h),u):t.slice()},u.tickValues=function(h){return arguments.length?(n=h==null?null:Array.from(h),u):n&&n.slice()},u.tickFormat=function(h){return arguments.length?(o=h,u):o},u.tickSize=function(h){return arguments.length?(a=i=+h,u):a},u.tickSizeInner=function(h){return arguments.length?(a=+h,u):a},u.tickSizeOuter=function(h){return arguments.length?(i=+h,u):i},u.tickPadding=function(h){return arguments.length?(s=+h,u):s},u.offset=function(h){return arguments.length?(c=+h,u):c},u}function DS(e){return yi(aa,e)}function RS(e){return yi(ia,e)}function Fd(e){return yi(_c,e)}function wg(e){return yi(jn,e)}var FS=globalThis&&globalThis.__extends||function(){var e=function(r,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var a in o)o.hasOwnProperty(a)&&(n[a]=o[a])},e(r,t)};return function(r,t){e(r,t);function n(){this.constructor=r}r.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),NS=function(e){FS(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.type="color-legend",t.renderType=oe.SVG,t.gradient_id="gradient-id-"+Math.floor(Math.random()*99999999999),t.handleAxisCompleteEvent=function(n){var o=t.getComponentContainer(),a=D.getSVGElementSize(o,{useAttrs:!0}).width,i=v.getProperty(t.getOptions(),"data","loading");if(a>ze.color.barWidth&&!i){var s=v.getProperty(t.getOptions(),"heatmap","colorLegend","title"),c=t.services.cartesianScales,d=c.getMainXScale(),l=d.range();if(l[0]>1&&(o.select("g.legend").attr("transform","translate("+l[0]+", 0)"),s)){var f=D.getSVGElementSize(o.select("g.legend-title").select("text"),{useBBox:!0}).width,u=l[0]-f-9;u>1?o.select("g.legend-title").attr("transform","translate("+u+", 0)"):(o.select("g.legend").attr("transform","translate("+l[0]+", 16)"),o.select("g.legend-title").attr("transform","translate("+l[0]+", 0)"))}}else o.select("g.legend-title").attr("transform","translate(0, 0)")},t}return r.prototype.init=function(){var t=this.services.events;t.addEventListener(E.Axis.RENDER_COMPLETE,this.handleAxisCompleteEvent)},r.prototype.render=function(t){var n=this.getOptions(),o=this.getComponentContainer(),a=D.getSVGElementSize(o,{useAttrs:!0}).width,i=v.getProperty(n,"color","gradient","colors"),s=v.getProperty(n,"heatmap","colorLegend","type"),c=v.getProperty(n,"color","pairing","option"),d=v.getProperty(n,"heatmap","colorLegend","title"),l=v.getProperty(this.getOptions(),"data","loading");if(l){o.html("");return}var f=!v.isEmpty(i),u=this.model.getValueDomain(),h=!(a<=ze.color.barWidth),p=h?ze.color.barWidth:a,m=D.appendOrSelect(o,"g.legend"),b=D.appendOrSelect(m,"g.legend-axis");if(d){var y=D.appendOrSelect(o,"g.legend-title"),g=D.appendOrSelect(y,"text");g.text(d).attr("dy","0.7em"),m.attr("transform","translate(0, 16)")}var w=u[0]<0&&u[1]>0?"diverge":"mono";(c<1&&c>4&&w==="mono"||c<1&&c>2&&w==="diverge")&&(c=1);var k=[],_=w==="diverge"?17:11;if(f)k=i;else for(var x=1;x<_+1;x++)k.push(s===to.LINEAR?"stop-color-"+w+"-"+c+"-"+x:"fill-"+w+"-"+c+"-"+x);var O=pt(u[0],u[1]),M=Zk(O,3),T=Nt().domain(u).range([0,p]),A=Fd(T).tickSize(0).tickValues(M);switch(s){case to.LINEAR:this.drawLinear(k,m,p);break;case to.QUANTIZE:var S=this.drawQuantize(k,w,f,m,p);T.range([S,p]);break;default:throw Error("Entered color legend type is not supported.")}b.attr("transform","translate(0,"+ze.color.axisYTranslation+")").call(A),b.select(".domain").remove(),b.select("g.tick:last-of-type text").style("text-anchor",h?"middle":"end"),b.select("g.tick:first-of-type text").style("text-anchor",h?"middle":"start")},r.prototype.drawLinear=function(t,n,o){var a=100/(t.length-1),i=D.appendOrSelect(n,"linearGradient");i.attr("id",this.gradient_id+"-legend").selectAll("stop").data(t).enter().append("stop").attr("offset",function(c,d){return d*a+"%"}).attr("class",function(c,d){return t[d]}).attr("stop-color",function(c){return c});var s=D.appendOrSelect(n,"rect");s.attr("width",o).attr("height",ze.color.barHeight).style("fill","url(#"+this.gradient_id+"-legend)")},r.prototype.drawQuantize=function(t,n,o,a,i){!o&&n==="diverge"&&t.splice(t.length/2,1);var s=Ao().domain(t).range([0,i]),c=D.appendOrSelect(a,"g.quantized-rect");return c.selectAll("rect").data(s.domain()).join("rect").attr("x",function(d){return s(d)}).attr("y",0).attr("width",Math.max(0,s.bandwidth()-1)).attr("height",ze.color.barHeight).attr("class",function(d){return d}).attr("fill",function(d){return d}),(!o&&n)==="mono"?s.bandwidth()-1:0},r.prototype.destroy=function(){var t=this.services.events;t.removeEventListener(E.Axis.RENDER_COMPLETE,this.handleAxisCompleteEvent)},r}(Rd),VS={prefix:"bx",selectorTabbable:`
    a[href], area[href], input:not([disabled]):not([tabindex='-1']),
    button:not([disabled]):not([tabindex='-1']),select:not([disabled]):not([tabindex='-1']),
    textarea:not([disabled]):not([tabindex='-1']),
    iframe, object, embed, *[tabindex]:not([tabindex='-1']), *[contenteditable=true]
  `,selectorFocusable:`
    a[href], area[href], input:not([disabled]),
    button:not([disabled]),select:not([disabled]),
    textarea:not([disabled]),
    iframe, object, embed, *[tabindex], *[contenteditable=true]
  `},Gi=VS;function zf(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function $S(e,r,t){return r&&zf(e.prototype,r),t&&zf(e,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function HS(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function GS(e){return YS(e)||WS(e)||qS(e)||jS()}function jS(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function qS(e,r){if(!!e){if(typeof e=="string")return xc(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return xc(e,r)}}function WS(e){if(typeof Symbol!="undefined"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function YS(e){if(Array.isArray(e))return xc(e)}function xc(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function _g(e){return e.reduce(function(r,t){return Array.isArray(t)?r.push.apply(r,GS(_g(t))):r.push(t),r},[])}function XS(){for(var e=arguments.length,r=new Array(e),t=0;t<e;t++)r[t]=arguments[t];return _g(r).reduce(function(n,o){return o(n)},function(){function n(){HS(this,n)}return $S(n)}())}function kc(e){return kc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},kc(e)}function ZS(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function Lf(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function KS(e,r,t){return r&&Lf(e.prototype,r),t&&Lf(e,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function QS(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),r&&Sc(e,r)}function Sc(e,r){return Sc=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},Sc(e,r)}function JS(e){var r=t8();return function(){var n=Fa(e),o;if(r){var a=Fa(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return e8(this,o)}}function e8(e,r){if(r&&(kc(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return xg(e)}function xg(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function t8(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Fa(e){return Fa=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Fa(e)}function r8(e){var r=function(t){QS(o,t);var n=JS(o);function o(a){var i,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(ZS(this,o),i=n.call(this,a,s),i.children=[],!a||a.nodeType!==Node.ELEMENT_NODE)throw new TypeError("DOM element should be given to initialize this widget.");return i.element=a,i.options=Object.assign(Object.create(i.constructor.options),s),i.constructor.components.set(i.element,xg(i)),i}return KS(o,[{key:"release",value:function(){for(var i=this.children.pop();i;i=this.children.pop())i.release();return this.constructor.components.delete(this.element),null}}],[{key:"create",value:function(i,s){return this.components.get(i)||new this(i,s)}}]),o}(e);return r}function Mc(e){return Mc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Mc(e)}function n8(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function Df(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function o8(e,r,t){return r&&Df(e.prototype,r),t&&Df(e,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function sa(){return typeof Reflect!="undefined"&&Reflect.get?sa=Reflect.get:sa=function(r,t,n){var o=a8(r,t);if(!!o){var a=Object.getOwnPropertyDescriptor(o,t);return a.get?a.get.call(arguments.length<3?r:n):a.value}},sa.apply(this,arguments)}function a8(e,r){for(;!Object.prototype.hasOwnProperty.call(e,r)&&(e=An(e),e!==null););return e}function i8(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),r&&Ec(e,r)}function Ec(e,r){return Ec=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},Ec(e,r)}function s8(e){var r=l8();return function(){var n=An(e),o;if(r){var a=An(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return c8(this,o)}}function c8(e,r){if(r&&(Mc(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return d8(e)}function d8(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function l8(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function An(e){return An=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},An(e)}function f8(e){var r=function(t){i8(o,t);var n=s8(o);function o(){var a;n8(this,o);for(var i=arguments.length,s=new Array(i),c=0;c<i;c++)s[c]=arguments[c];return a=n.call.apply(n,[this].concat(s)),a.handles=new Set,a}return o8(o,[{key:"manage",value:function(i){return this.handles.add(i),i}},{key:"unmanage",value:function(i){return this.handles.delete(i),i}},{key:"release",value:function(){var i=this;return this.handles.forEach(function(s){s.release(),i.handles.delete(s)}),sa(An(o.prototype),"release",this).call(this)}}]),o}(e);return r}function qn(e){for(var r=arguments.length,t=new Array(r>1?r-1:0),n=1;n<r;n++)t[n-1]=arguments[n];return e.addEventListener.apply(e,t),{release:function(){return e.removeEventListener.apply(e,t),null}}}function Tc(e){return Tc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Tc(e)}function u8(e){return m8(e)||g8(e)||h8(e)||p8()}function p8(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function h8(e,r){if(!!e){if(typeof e=="string")return Oc(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Oc(e,r)}}function g8(e){if(typeof Symbol!="undefined"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function m8(e){if(Array.isArray(e))return Oc(e)}function Oc(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function v8(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function Rf(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function b8(e,r,t){return r&&Rf(e.prototype,r),t&&Rf(e,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function y8(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),r&&Ac(e,r)}function Ac(e,r){return Ac=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},Ac(e,r)}function w8(e){var r=k8();return function(){var n=Na(e),o;if(r){var a=Na(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return _8(this,o)}}function _8(e,r){if(r&&(Tc(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return x8(e)}function x8(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function k8(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Na(e){return Na=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Na(e)}function S8(e){var r=function(t){y8(o,t);var n=w8(o);function o(){return v8(this,o),n.apply(this,arguments)}return b8(o,[{key:"_changeState",value:function(){throw new Error("_changeState() should be overridden to perform actual change in state.")}},{key:"changeState",value:function(){for(var i=this,s=arguments.length,c=new Array(s),d=0;d<s;d++)c[d]=arguments[d];var l=typeof c[0]=="string"?c.shift():void 0,f=Object(c[0])===c[0]&&typeof c[0]!="function"?c.shift():void 0,u=typeof c[0]=="function"?c.shift():void 0;if(typeof this.shouldStateBeChanged=="function"&&!this.shouldStateBeChanged(l,f)){u&&u(null,!0);return}var h={group:f&&f.group,state:l},p=[h.group,l].filter(Boolean).join("-").split("-").map(function(k){return k[0].toUpperCase()+k.substr(1)}).join(""),m=new CustomEvent(this.options["eventBefore".concat(p)],{bubbles:!0,cancelable:!0,detail:f}),b=f&&f.delegatorNode||this.element,y=!b.dispatchEvent(m);if(y){if(u){var g=new Error("Changing state (".concat(JSON.stringify(h),") has been canceled."));g.canceled=!0,u(g)}}else{var w=[l,f].filter(Boolean);this._changeState.apply(this,u8(w).concat([function(){b.dispatchEvent(new CustomEvent(i.options["eventAfter".concat(p)],{bubbles:!0,cancelable:!0,detail:f})),u&&u()}]))}}}]),o}(e);return r}function Pc(e,r){var t=e.target,n=e.currentTarget;if(typeof t.matches=="function"){if(t.matches(r))return t;if(t.matches("".concat(r," *"))){var o=t.closest(r);if((n.nodeType===Node.DOCUMENT_NODE?n.documentElement:n).contains(o))return o}}}function Ff(e){if(!e||typeof e=="function")return{launchingElement:null,launchingEvent:null};var r=e.delegateTarget||e.currentTarget||e,t=e.currentTarget&&e;if(r&&!r.nodeType)throw new TypeError("DOM Node should be given for launching element.");if(t&&!t.type)throw new TypeError("DOM event should be given for launching event.");return{launchingElement:r,launchingEvent:t}}function Uc(e){return Uc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Uc(e)}function M8(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function Nf(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function E8(e,r,t){return r&&Nf(e.prototype,r),t&&Nf(e,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function T8(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),r&&Cc(e,r)}function Cc(e,r){return Cc=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},Cc(e,r)}function O8(e){var r=U8();return function(){var n=Va(e),o;if(r){var a=Va(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return A8(this,o)}}function A8(e,r){if(r&&(Uc(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return P8(e)}function P8(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function U8(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Va(e){return Va=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Va(e)}function C8(e){var r=function(t){T8(o,t);var n=O8(o);function o(){return M8(this,o),n.apply(this,arguments)}return E8(o,[{key:"show",value:function(i,s){(!i||typeof i=="function")&&(s=i),this.changeState("shown",Ff(i),s)}},{key:"hide",value:function(i,s){(!i||typeof i=="function")&&(s=i),this.changeState("hidden",Ff(i),s)}}]),o}(e);return r}var B8=[S8,C8],I8=B8;function Bc(e){return Bc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Bc(e)}function z8(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function Vf(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function L8(e,r,t){return r&&Vf(e.prototype,r),t&&Vf(e,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function D8(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),r&&Ic(e,r)}function Ic(e,r){return Ic=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},Ic(e,r)}function R8(e){var r=V8();return function(){var n=$a(e),o;if(r){var a=$a(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return F8(this,o)}}function F8(e,r){if(r&&(Bc(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return N8(e)}function N8(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function V8(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function $a(e){return $a=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},$a(e)}function $8(e){var r=function(t){D8(o,t);var n=R8(o);function o(){return z8(this,o),n.apply(this,arguments)}return L8(o,null,[{key:"init",value:function(){var i=this,s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:document,c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},d=Object.assign(Object.create(this.options),c);if(!s||s.nodeType!==Node.ELEMENT_NODE&&s.nodeType!==Node.DOCUMENT_NODE)throw new TypeError("DOM document or DOM element should be given to search for and initialize this widget.");if(s.nodeType===Node.ELEMENT_NODE&&s.matches(d.selectorInit))this.create(s,c);else{var l=d.initEventNames.map(function(f){return qn(s,f,function(u){var h=Pc(u,"[".concat(d.attribInitTarget,"]"));if(h){u.delegateTarget=h;var p=h.ownerDocument.querySelectorAll(h.getAttribute(d.attribInitTarget));if(p.length>1)throw new Error("Target widget must be unique.");if(p.length===1){h.tagName==="A"&&u.preventDefault();var m=i.create(p[0],c);typeof m.createdByLauncher=="function"&&m.createdByLauncher(u)}}})});return{release:function(){for(var u=l.pop();u;u=l.pop())u.release()}}}return""}}]),o.forLazyInit=!0,o}(e);return r}function zc(e){return zc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},zc(e)}function H8(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function $f(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function G8(e,r,t){return r&&$f(e.prototype,r),t&&$f(e,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function j8(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),r&&Lc(e,r)}function Lc(e,r){return Lc=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},Lc(e,r)}function q8(e){var r=X8();return function(){var n=Ha(e),o;if(r){var a=Ha(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return W8(this,o)}}function W8(e,r){if(r&&(zc(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Y8(e)}function Y8(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function X8(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Ha(e){return Ha=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Ha(e)}var Z8=function(e){j8(t,e);var r=q8(t);function t(n,o){var a;return H8(this,t),a=r.call(this,n,o),a._handleFocusinListener=void 0,a._handleKeydownListener=void 0,a._handleFocusin=function(i){var s=a.element.querySelector(a.options.selectorModalContainer)||a.element;a.element.classList.contains(a.options.classVisible)&&!s.contains(i.target)&&a.options.selectorsFloatingMenus.every(function(c){return!Pc(i,c)})&&a.element.querySelector(Gi.selectorTabbable).focus()},a._hookCloseActions(),a}return G8(t,[{key:"createdByLauncher",value:function(o){this.show(o)}},{key:"shouldStateBeChanged",value:function(o){return o==="shown"?!this.element.classList.contains(this.options.classVisible):this.element.classList.contains(this.options.classVisible)}},{key:"_changeState",value:function(o,a,i){var s=this,c,d=function(){if(c&&(c=s.unmanage(c).release()),o==="shown"&&s.element.offsetWidth>0&&s.element.offsetHeight>0){s.previouslyFocusedNode=s.element.ownerDocument.activeElement;var h=s.element.querySelector(s.options.selectorPrimaryFocus)||s.element.querySelector(Gi.selectorTabbable);h.focus()}i()};if(this._handleFocusinListener&&(this._handleFocusinListener=this.unmanage(this._handleFocusinListener).release()),o==="shown"){var l="onfocusin"in this.element.ownerDocument.defaultView,f=l?"focusin":"focus";this._handleFocusinListener=this.manage(qn(this.element.ownerDocument,f,this._handleFocusin,!l))}o==="hidden"?(this.element.classList.toggle(this.options.classVisible,!1),this.element.ownerDocument.body.classList.toggle(this.options.classBody,!1),(this.options.selectorFocusOnClose||this.previouslyFocusedNode)&&(this.element.ownerDocument.querySelector(this.options.selectorFocusOnClose)||this.previouslyFocusedNode).focus()):o==="shown"&&(this.element.classList.toggle(this.options.classVisible,!0),this.element.ownerDocument.body.classList.toggle(this.options.classBody,!0)),c=this.manage(qn(this.element,"transitionend",d))}},{key:"_hookCloseActions",value:function(){var o=this;this.manage(qn(this.element,"click",function(a){var i=Pc(a,o.options.selectorModalClose);i&&(a.delegateTarget=i),(i||a.target===o.element)&&o.hide(a)})),this._handleKeydownListener&&(this._handleKeydownListener=this.unmanage(this._handleKeydownListener).release()),this._handleKeydownListener=this.manage(qn(this.element.ownerDocument.body,"keydown",function(a){a.which===27&&o.shouldStateBeChanged("hidden")&&(a.stopPropagation(),o.hide(a))}))}}],[{key:"options",get:function(){var o=Gi.prefix;return{selectorInit:"[data-modal]",selectorModalClose:"[data-modal-close]",selectorPrimaryFocus:"[data-modal-primary-focus]",selectorsFloatingMenus:[".".concat(o,"--overflow-menu-options"),".".concat(o,"--tooltip"),".flatpickr-calendar"],selectorModalContainer:".".concat(o,"--modal-container"),classVisible:"is-visible",classBody:"".concat(o,"--body--with-modal-open"),attribInitTarget:"data-modal-target",initEventNames:["click"],eventBeforeShown:"modal-beingshown",eventAfterShown:"modal-shown",eventBeforeHidden:"modal-beinghidden",eventAfterHidden:"modal-hidden"}}}]),t.components=new WeakMap,t}(XS(r8,$8,I8,f8)),K8=Z8,Q8=globalThis&&globalThis.__extends||function(){var e=function(r,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var a in o)o.hasOwnProperty(a)&&(n[a]=o[a])},e(r,t)};return function(r,t){e(r,t);function n(){this.constructor=r}r.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Nd=function(e){Q8(r,e);function r(t,n,o){var a=e.call(this,t,n,o)||this;return a.type="modal",a.isEventListenerAdded=!1,a.handleShowModal=function(){a.modal.html(a.getModalHTML()),a.modal.select("div.cds--modal-footer button.cds--btn").on("click",function(){return a.model.exportToCSV()});var i=K8.create(a.modal.node());i.show()},a.init(),a}return r.prototype.addEventListeners=function(){this.services.events.addEventListener(E.Modal.SHOW,this.handleShowModal)},r.prototype.removeEventListeners=function(){this.services.events.removeEventListener(E.Modal.SHOW,this.handleShowModal)},r.prototype.getModalHTML=function(){var t=this.model.getOptions(),n=v.getProperty(t,"style","prefix"),o=this.model.getTabularDataArray();return`
		<div class="cds--modal-container cds--modal-container">
			<div class="cds--modal-header cds--modal-header">
				<p class="cds--modal-header__label cds--type-delta cds--modal-header__label cds--type-delta" id="modal-title">Tabular representation</p>

				<p class="cds--modal-header__heading cds--type-beta cds--modal-header__heading cds--type-beta" id="modal-description">`+t.title+`</p>

				<button class="cds--modal-close cds--modal-close" type="button" data-modal-close aria-label="close modal"  data-modal-primary-focus>
					<svg focusable="false" preserveAspectRatio="xMidYMid meet" xmlns="http://www.w3.org/2000/svg" fill="currentColor" aria-label="Close" width="20" height="20" viewBox="0 0 32 32" role="img" class="cds--modal-close__icon cds--modal-close__icon">
						<path d="M24 9.4L22.6 8 16 14.6 9.4 8 8 9.4 14.6 16 8 22.6 9.4 24 16 17.4 22.6 24 24 22.6 17.4 16 24 9.4z"></path>
					</svg>
				</button>
			</div>

			<div class="cds--modal-content cds--modal-content">
				<table class="cds--data-table cds--data-table--no-border cds--data-table cds--data-table--no-border">
					<thead>
						<tr>
							`+Te(o,0).map(function(a){return`<th scope="col">
								<div class="cds--table-header-label cds--table-header-label">`+a+`</div>
							</th>`}).join("")+`
						</tr>
					</thead>

					<tbody>`+o.slice(1).map(function(a){return`
							<tr>
								`+a.map(function(i){return"<td>"+i+"</td>"}).join("")+`
							</tr>`}).join("")+`
					</tbody>
				</table>
			</div>

			<div class="cds--modal-footer cds--modal-footer">
			  <div class="`+tt+"--"+n+`-modal-footer-spacer"></div>
			  <button class="cds--btn cds--btn--primary cds--btn cds--btn--primary" type="button" data-modal-primary-focus>Download as CSV</button>
			</div>
		</div>`},r.prototype.render=function(){var t=this.model.getOptions();if(!this.isEventListenerAdded){var n=R(this.services.domUtils.getHolder()),o=v.getProperty(t,"style","prefix");this.modal=D.appendOrSelect(n,"div."+tt+"--"+o+"--modal"),this.addEventListeners(),this.isEventListenerAdded=!0,this.modal.attr("data-modal",!0).attr("class","cds--modal cds--modal").attr("role","dialog").attr("aria-modal",!0).attr("aria-labelledby","modal-title").attr("aria-describedby","modal-description").attr("tabindex",-1)}},r.prototype.destroy=function(){this.removeEventListeners(),this.isEventListenerAdded=!1},r}(me),Zr,Ye;(function(e){e.LEFT="left",e.RIGHT="right",e.TOP="top",e.BOTTOM="bottom"})(Ye||(Ye={}));var Hf=(Zr={},Zr[Ye.LEFT]=function(e,r,t){return{top:e.top-Math.round(r.offsetHeight/2)+Math.round(t.height/2),left:Math.round(e.left-r.offsetWidth)}},Zr[Ye.RIGHT]=function(e,r,t){return{top:e.top-Math.round(r.offsetHeight/2)+Math.round(t.height/2),left:Math.round(e.left+t.width)}},Zr[Ye.TOP]=function(e,r,t){return{top:Math.round(e.top-r.offsetHeight),left:e.left-Math.round(r.offsetWidth/2)+Math.round(t.width/2)}},Zr[Ye.BOTTOM]=function(e,r,t){return{top:Math.round(e.top+t.height),left:e.left-Math.round(r.offsetWidth/2)+Math.round(t.width/2)}},Zr),Zo=typeof window!="undefined"?window:{innerHeight:0,scrollY:0,innerWidth:0,scrollX:0},wi=function(){function e(r){r===void 0&&(r={}),this.positions=Hf,this.positions=Object.assign({},Hf,r)}return e.prototype.getRelativeOffset=function(r){for(var t={left:r.offsetLeft,top:r.offsetTop};r.offsetParent&&getComputedStyle(r.offsetParent).position==="static";)t.left+=r.offsetLeft,t.top+=r.offsetTop,r=r.offsetParent;return t},e.prototype.getAbsoluteOffset=function(r){for(var t=r,n={top:0,left:0};t.offsetParent;){var o=getComputedStyle(t.offsetParent);o.position==="static"&&o.marginLeft&&o.marginTop&&(parseInt(o.marginTop,10)&&(n.top+=parseInt(o.marginTop,10)),parseInt(o.marginLeft,10)&&(n.left+=parseInt(o.marginLeft,10))),t=t.offsetParent}var a=r.getBoundingClientRect(),i=document.body.getBoundingClientRect();return{top:a.top-i.top+n.top,left:a.left-i.left+n.left}},e.prototype.findRelative=function(r,t,n){var o=this.getRelativeOffset(r),a=r.getBoundingClientRect();return this.calculatePosition(o,a,t,n)},e.prototype.findAbsolute=function(r,t,n){var o=this.getAbsoluteOffset(r),a=r.getBoundingClientRect();return this.calculatePosition(o,a,t,n)},e.prototype.findPosition=function(r,t,n,o){o===void 0&&(o=this.getAbsoluteOffset);var a=o(r),i=r.getBoundingClientRect();return this.calculatePosition(a,i,t,n)},e.prototype.findPositionAt=function(r,t,n){return this.calculatePosition(r,{height:0,width:0},t,n)},e.prototype.getPlacementBox=function(r,t){var n=r.offsetHeight+t.top,o=r.offsetWidth+t.left;return{top:t.top,bottom:n,left:t.left,right:o}},e.prototype.addOffset=function(r,t,n){return t===void 0&&(t=0),n===void 0&&(n=0),Object.assign({},r,{top:r.top+t,left:r.left+n})},e.prototype.setElement=function(r,t){r.style.top=t.top+"px",r.style.left=t.left+"px"},e.prototype.findBestPlacement=function(r,t,n,o,a){var i=this;o===void 0&&(o=this.defaultContainerFunction),a===void 0&&(a=this.findPosition);var s=n.map(function(c){var d=a(r,t,c),l=i.getPlacementBox(t,d),f=l.bottom-o().height,u=l.right-o().width;f=f<0?t.offsetHeight:f,u=u<0?t.offsetWidth:u;var h=t.offsetHeight*t.offsetWidth,p=f*u,m=h-p;m=m===0?h:m;var b=m/h;return{placement:c,weight:b}});return s.sort(function(c,d){return d.weight-c.weight}),s[0].placement},e.prototype.findBestPlacementAt=function(r,t,n,o){var a=this;o===void 0&&(o=this.defaultContainerFunction);var i=function(s,c,d){return a.findPositionAt(r,c,d)};return this.findBestPlacement(null,t,n,o,i)},e.prototype.defaultContainerFunction=function(){return{width:Zo.innerHeight-Zo.scrollY,height:Zo.innerWidth-Zo.scrollX}},e.prototype.calculatePosition=function(r,t,n,o){return this.positions[o]?this.positions[o](r,n,t):(console.error("No function found for placement, defaulting to 0,0"),{left:0,top:0})},e}();new wi;var ji=[["15seconds",15*1e3],["minute",60*1e3],["30minutes",30*60*1e3],["hourly",60*60*1e3],["daily",24*60*60*1e3],["monthly",30*24*60*60*1e3],["quarterly",3*30*24*60*60*1e3],["yearly",12*30*24*60*60*1e3]];function kg(e,r,t,n,o){var a=r===0,i=Number(vo(new Date(e),"c"))===2,s=Number(vo(new Date(e),"q"))===1,c=r!==0?t[r-1]:null;switch(n){case"15seconds":return a||Ko(e)||Vn(e,c)||br(e);case"minute":return a||Ko(e)||Vn(e,c)||br(e);case"30minutes":return a||Ko(e)||Vn(e,c)||br(e);case"hourly":return a||Ko(e)||Vn(e,c)||br(e);case"daily":return o?a||i||br(e):a||Vn(e,c)||br(e);case"monthly":return a||br(e);case"quarterly":return a||s;case"yearly":return!1;default:throw new Error(n+" is not a valid time interval.")}}function Dc(e,r,t,n,o){var a=o.showDayName,i=n==="daily"&&a?"weekly":n,s=new Date(e),c=v.getProperty(o,"timeIntervalFormats")[i],d=v.getProperty(c,"primary"),l=v.getProperty(c,"secondary"),f=kg(e,r,t,n,a)?d:l,u=o.localeObject;return vo(s,f,{locale:u})}function Ga(e){var r=new Date(e);return{M:r.getMonth()+1,d:r.getDate(),H:r.getHours(),m:r.getMinutes(),s:r.getSeconds()}}function J8(e){if(!!e)return e.slice(1).map(function(r,t){return r-e[t]})}function eM(e){var r=ji.reduce(function(t,n,o){n[0];var a=n[1],i=ji[t][1],s=Math.abs(i-e),c=Math.abs(a-e);return s<c?t:o},0);return ji[r][0]}function Rc(e){if(e.length===1)return"15seconds";var r=J8(e),t=ur(r);return eM(t)}function Ko(e){var r=Ga(e),t=r.s,n=r.m,o=r.H;return o===0&&n===0&&t===0}function Vn(e,r){var t=Ga(e).M,n=Ga(r).M;return t!==n}function br(e){var r=Ga(e),t=r.M,n=r.d,o=r.s,a=r.m,i=r.H;return t===1&&n===1&&i===0&&a===0&&o===0}var tM=globalThis&&globalThis.__extends||function(){var e=function(r,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var a in o)o.hasOwnProperty(a)&&(n[a]=o[a])},e(r,t)};return function(r,t){e(r,t);function n(){this.constructor=r}r.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),rM=function(e){tM(r,e);function r(t,n){var o=e.call(this,t,n)||this;return o.type="threshold",o.renderType=oe.SVG,o.positionService=new wi,o}return r.prototype.render=function(t){var n=this;t===void 0&&(t=!1);var o=v.getProperty(this.getOptions(),"axes"),a=[];Object.keys(o).forEach(function(p){var m,b;if(Object.values(q).includes(p)){var y=o[p];y.thresholds&&y.thresholds.length>0&&a.push({axisPosition:p,thresholds:y.thresholds,correspondingDatasets:(m=y)===null||m===void 0?void 0:m.correspondingDatasets,mapsTo:(b=y)===null||b===void 0?void 0:b.mapsTo})}});var i=this.getComponentContainer({withinChartClip:!0}),s=i.selectAll("g.axis-thresholds").data(a,function(p){return p.axisPosition});s.exit().attr("opacity",0).remove();var c=s.enter().append("g"),d=c.merge(s);d.attr("class",function(p){return"axis-thresholds "+p.axisPosition});var l=d.selectAll("g.threshold-group").data(function(p){return p.thresholds.map(function(m){return m.axisPosition=p.axisPosition,m.datum=n.constructDatumObj(p,m),m})});l.exit().attr("opacity",0).remove();var f=l.enter().append("g");f.append("line").attr("class","threshold-line"),f.append("rect").attr("class","threshold-hoverable-area");var u=f.merge(l);u.attr("class","threshold-group");var h=this;d.each(function(p){var m=p.axisPosition,b=h.services.cartesianScales.getScaleByPosition(m),y=h.services.cartesianScales.getScaleTypeByPosition(m),g=null,w=null;m===q.LEFT||m===q.RIGHT?(w=b,g=h.services.cartesianScales.getMainXScale()):(g=b,w=h.services.cartesianScales.getMainYScale());var k=y===ne.LABELS,_=g.range(),x=_[0],O=_[1],M=w.range(),T=M[0],A=M[1],S=h.services.cartesianScales,P=S.getOrientation(),I=function(U){return S.getDomainValue(U)},L=function(U){return S.getRangeValue(U)},B=v.flipDomainAndRangeBasedOnOrientation(I,L,P),C=B[0],z=B[1],F=R(this);m===q.TOP||m===q.BOTTOM?(F.selectAll("line.threshold-line").transition().call(function(U){return h.services.transitions.setupTransition({transition:U,name:"threshold-line-update",animate:t})}).attr("y1",A).attr("y2",T).attr("x1",function(U){var N=U.datum;return C(N)+(k?b.step()/2:0)}).attr("x2",function(U){var N=U.datum;return C(N)+(k?b.step()/2:0)}).style("stroke",function(U){var N=U.fillColor;return N}),F.selectAll("rect.threshold-hoverable-area").attr("x",0).attr("y",function(U){var N=U.datum;return-C(N)}).attr("width",Math.abs(T-A)).classed("rotate",!0)):(F.selectAll("line.threshold-line").transition().call(function(U){return h.services.transitions.setupTransition({transition:U,name:"threshold-line-update",animate:t})}).attr("x1",x).attr("x2",O).attr("y1",function(U){var N=U.datum;return z(N)+(k?b.step()/2:0)}).attr("y2",function(U){var N=U.datum;return z(N)+(k?b.step()/2:0)}).style("stroke",function(U){var N=U.fillColor;return N}),F.selectAll("rect.threshold-hoverable-area").attr("x",x).attr("y",function(U){var N=U.datum;return z(N)}).attr("width",Math.abs(O-x)).classed("rotate",!1))}),this.services.events.addEventListener(E.Threshold.SHOW,function(p){n.setThresholdLabelPosition(p.detail),n.label.classed("hidden",!1)}),this.services.events.addEventListener(E.Threshold.HIDE,function(p){n.label.classed("hidden",!0)}),this.appendThresholdLabel(),this.addEventListeners()},r.prototype.getFormattedValue=function(t){var n=t.value,o=t.axisPosition,a=this.getOptions(),i=this.services.cartesianScales.getScaleTypeByPosition(o);if(i===ne.TIME){var s=[q.LEFT,q.RIGHT].includes(o),c=this.services.cartesianScales.getMainXScale(),d=this.services.cartesianScales.getMainYScale(),l=s?d:c,f=v.getProperty(a,"timeScale"),u=Rc(l.ticks());return Dc(n,0,l.ticks(),u,f)}return n.toLocaleString("en")},r.prototype.appendThresholdLabel=function(){var t=R(this.services.domUtils.getHolder()),n=v.getProperty(this.getOptions(),"style","prefix");this.label=D.appendOrSelect(t,"div."+tt+"--"+n+"--threshold--label").classed("hidden",!0)},r.prototype.setThresholdLabelPosition=function(t){var n=t.event,o=t.datum,a=this.services.domUtils.getHolder(),i=Ur(n,a),s=o.valueFormatter?o.valueFormatter(o.value):this.getFormattedValue(o);this.label.html((o.label||"Threshold")+": "+s).style("background-color",o.fillColor);var c=this.label.node(),d=this.positionService.findBestPlacementAt({left:i[0],top:i[1]},c,[Ye.RIGHT,Ye.LEFT,Ye.TOP,Ye.BOTTOM],function(){return{width:a.offsetWidth,height:a.offsetHeight}}),l=this.positionService.findPositionAt({left:i[0],top:i[1]},c,d);this.positionService.setElement(c,l)},r.prototype.constructDatumObj=function(t,n){var o={};return t.correspondingDatasets&&(o.group=v.getProperty(t,"correspondingDatasets",0)),o[t.mapsTo]=n.value,o},r.prototype.addEventListeners=function(){var t=this,n=this.getComponentContainer({withinChartClip:!0});n.selectAll("rect.threshold-hoverable-area").on("mouseover mousemove",function(o){R(this.parentNode).select("line.threshold-line").classed("active",!0),t.services.events.dispatchEvent(E.Threshold.SHOW,{event:o,hoveredElement:R(this),datum:R(this).datum()})}).on("mouseout",function(o){R(this.parentNode).select("line.threshold-line").classed("active",!1),t.services.events.dispatchEvent(E.Threshold.HIDE,{event:o,hoveredElement:R(this),datum:R(this).datum()})})},r}(me),nM=globalThis&&globalThis.__extends||function(){var e=function(r,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var a in o)o.hasOwnProperty(a)&&(n[a]=o[a])},e(r,t)};return function(r,t){e(r,t);function n(){this.constructor=r}r.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),_i=function(e){nM(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.type="title",t.renderType=oe.HTML,t}return r.prototype.render=function(){var t=this.getComponentContainer(),n=v.getProperty(this.getOptions(),"title"),o=t.selectAll("p.title").data([n]);if(o.enter().append("p").classed("title",!0).attr("role","heading").attr("aria-level",2).merge(o).html(function(i){return i}),o.node()&&o.node().offsetWidth<o.node().scrollWidth){var a=this;o.on("mouseover",function(i){a.services.events.dispatchEvent(E.Tooltip.SHOW,{event:i,hoveredElement:o,content:o.text()})}).on("mousemove",function(i){a.services.events.dispatchEvent(E.Tooltip.MOVE,{event:i})}).on("mouseout",function(){a.services.events.dispatchEvent(E.Tooltip.HIDE)})}o.exit().remove()},r.prototype.truncateTitle=function(t,n){if(!(n<=0)){var o=t.text();if(t.node().getComputedTextLength()>n){t.append("tspan").text("...");var a=D.appendOrSelect(t,"tspan").node().getComputedTextLength(),i=t.text(),s=this.getSubstringIndex(t.node(),0,i.length-1,n-a);t.html(i.substring(0,s-1)).append("tspan").text("...");var c=this;t.on("mouseover",function(d){c.services.events.dispatchEvent(E.Tooltip.SHOW,{event:d,hoveredElement:t,content:o})}).on("mousemove",function(d){c.services.events.dispatchEvent(E.Tooltip.MOVE,{event:d})}).on("mouseout",function(){c.services.events.dispatchEvent(E.Tooltip.HIDE)})}}},r.prototype.getMaxTitleWidth=function(){return D.getSVGElementSize(this.parent.node(),{useAttrs:!0}).width},r.prototype.getSubstringIndex=function(t,n,o,a){var i=Math.floor((o+n)/2);return t.getSubStringLength(0,i)>a?this.getSubstringIndex(t,n,i,a):t.getSubStringLength(0,i)<a?t.getSubStringLength(0,i+1)>a?i:this.getSubstringIndex(t,i,o,a):i},r}(me),oM=globalThis&&globalThis.__extends||function(){var e=function(r,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var a in o)o.hasOwnProperty(a)&&(n[a]=o[a])},e(r,t)};return function(r,t){e(r,t);function n(){this.constructor=r}r.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),aM=function(e){oM(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.type="meter-title",t.renderType=oe.SVG,t}return r.prototype.render=function(){var t=v.getProperty(this.model.getDisplayData(),0),n=this.getOptions(),o=this.getComponentContainer(),a=n.data.groupMapsTo,i=v.getProperty(n,"meter","proportional");if(i)this.displayTotal(),this.displayBreakdownTitle();else{var s=o.selectAll("text.meter-title").data([t[a]]);s.enter().append("text").classed("meter-title",!0).merge(s).attr("x",0).attr("y","1em").text(function(l){return l}),s.exit().remove(),this.appendPercentage()}this.displayStatus();var c=this.getMaxTitleWidth(),d=D.appendOrSelect(o,"text.meter-title");c>0&&d.node().getComputedTextLength()>c&&this.truncateTitle(d,c)},r.prototype.displayBreakdownTitle=function(){var t=this.getComponentContainer(),n=this.getOptions(),o=this.model.getMaximumDomain(this.model.getDisplayData()),a=v.getProperty(n,"meter","proportional","total"),i=v.getProperty(n,"meter","proportional","unit")?v.getProperty(n,"meter","proportional","unit"):"",s;if(o===a)s=null;else{var c=a!==null?a-o:o,d=v.getProperty(n,"meter","proportional","breakdownFormatter");s=d!==null?d({datasetsTotal:o,total:a}):o+" "+i+" used ("+c+" "+i+" available)"}var l=t.selectAll("text.proportional-meter-title").data([s]);l.enter().append("text").classed("proportional-meter-title",!0).merge(l).attr("x",0).attr("y","1em").text(function(h){return h}),l.exit().remove();var f=this.getMaxTitleWidth(),u=D.appendOrSelect(t,"text.proportional-meter-title");f>0&&u.node().getComputedTextLength()>f&&this.truncateTitle(u,f)},r.prototype.displayTotal=function(){var t=this.getComponentContainer(),n=this.getOptions(),o=v.getProperty(n,"meter","proportional","total"),a=o?v.getProperty(n,"meter","proportional","total"):this.model.getMaximumDomain(this.model.getDisplayData()),i=v.getProperty(n,"meter","proportional","unit")?v.getProperty(n,"meter","proportional","unit"):"",s=v.getProperty(n,"meter","proportional","totalFormatter"),c=s!==null?s(a):o+" "+i+" total",d=D.getHTMLElementSize(this.services.domUtils.getMainContainer()),l=d.width?d.width:this.parent.node().getAttribute("width"),f=t.selectAll("text.proportional-meter-total").data([c]);f.enter().append("text").classed("proportional-meter-total",!0).merge(f).attr("x",this.model.getStatus()?l-Ge.total.paddingRight:l).attr("y","1em").attr("text-anchor","end").text(function(u){return u}),f.exit().remove()},r.prototype.displayStatus=function(){var t=this,n=this.getComponentContainer(),o=D.getHTMLElementSize(this.services.domUtils.getMainContainer()),a=o.width?o.width:0,i=this.model.getStatus(),s=Ge.status.indicatorSize/2,c=D.appendOrSelect(n,"g.status-indicator").attr("class",i!==null?"status-indicator status--"+i:"").attr("transform","translate("+(a-s)+", 0)"),d=i?[i]:[],l=c.selectAll("circle.status").data(d);l.enter().append("circle").merge(l).attr("class","status").attr("r",s).attr("cx",0).attr("cy","calc(1em / 2)");var f=c.selectAll("path.innerFill").data(d);f.enter().append("path").merge(f).attr("d",t.getStatusIconPathString(i)).attr("transform","translate(-"+s+", 0)").attr("class","innerFill"),f.exit().remove(),l.exit().remove()},r.prototype.appendPercentage=function(){var t=v.getProperty(this.model.getDisplayData(),0,"value"),n=this.getComponentContainer(),o=D.appendOrSelect(n,"text.meter-title"),a=v.getProperty(this.getOptions(),"meter","statusBar","percentageIndicator","enabled")===!0?[t]:[],i=n.selectAll("text.percent-value").data(a),s=Ge.statusBar.paddingRight;i.enter().append("text").classed("percent-value",!0).merge(i).text(function(c){return c+"%"}).attr("x",+o.attr("x")+o.node().getComputedTextLength()+s).attr("y",o.attr("y")),i.exit().remove()},r.prototype.truncateTitle=function(t,n){e.prototype.truncateTitle.call(this,t,n);var o=D.appendOrSelect(this.parent,"tspan"),a=Ge.statusBar.paddingRight,i=Math.ceil(o.node().getComputedTextLength()),s=D.appendOrSelect(this.parent,"text.percent-value");s.attr("x",+t.attr("x")+t.node().getComputedTextLength()+i+a)},r.prototype.getMaxTitleWidth=function(){var t=D.getHTMLElementSize(this.services.domUtils.getMainContainer()),n=v.getProperty(this.getOptions(),"meter","proportional"),o=t.width?t.width:this.parent.node().getAttribute("width");if(n!==null){var a=D.appendOrSelect(this.parent,"text.proportional-meter-total").node(),i=D.getSVGElementSize(a,{useBBox:!0}).width;return o-i-Ge.total.paddingLeft}else{var s=D.appendOrSelect(this.parent,"text.percent-value"),c=Ge.statusBar.paddingRight,d=s.node().getComputedTextLength(),l=D.appendOrSelect(this.parent,"g.status-indicator").node(),f=D.getSVGElementSize(l,{useBBox:!0}).width+Ge.status.paddingLeft;return o-d-c-f}},r.prototype.getStatusIconPathString=function(t){switch(t){case Jn.SUCCESS:return"M6.875 11.3125 3.75 8.1875 4.74375 7.25 6.875 9.34375 11.50625 4.75 12.5 5.7375 Z";case Jn.DANGER:return"M10.7 11.5 4.5 5.3 5.3 4.5 11.5 10.7 Z";case Jn.WARNING:return"M7.9375,11.125 C7.41973305,11.125 7,11.544733 7,12.0625 C7,12.580267 7.41973305,13 7.9375,13 C8.45526695,13 8.875,12.580267 8.875,12.0625 C8.875,11.544733 8.45526695,11.125 7.9375,11.125 M7.3125, 3 8.5625, 3 8.5625, 9.875 7.3125, 9.875, 7.3125, 3 Z"}},r}(_i),iM=globalThis&&globalThis.__extends||function(){var e=function(r,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var a in o)o.hasOwnProperty(a)&&(n[a]=o[a])},e(r,t)};return function(r,t){e(r,t);function n(){this.constructor=r}r.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Sg=function(e){iM(r,e);function r(t,n,o){var a=e.call(this,t,n,o)||this;return a.type="tooltip",a.renderType=oe.HTML,a.isEventListenerAdded=!1,a.positionService=new wi,a.handleShowTooltip=function(i){var s=i.detail.data||i.detail.items,c=a.getTooltipHTML(i),d=D.appendOrSelect(a.tooltip,"div.content-box");if(v.getProperty(a.getOptions(),"tooltip","customHTML"))if(i.detail.content){var l='<div class="title-tooltip"><p>'+i.detail.content+"</p></div>";d.html(l)}else d.html(a.model.getOptions().tooltip.customHTML(s,c));else d.html(c);a.positionTooltip(i),a.tooltip.classed("hidden",!1).attr("aria-hidden",!1)},a.handleHideTooltip=function(){a.tooltip.classed("hidden",!0).attr("aria-hidden",!0)},a.init(),a}return r.prototype.addTooltipEventListener=function(){var t=this;this.services.events.addEventListener(E.Tooltip.MOVE,function(n){t.tooltip.classed("hidden")===!1&&t.positionTooltip(n)}),this.services.events.addEventListener(E.Tooltip.SHOW,this.handleShowTooltip),this.services.events.addEventListener(E.Tooltip.HIDE,this.handleHideTooltip),this.services.events.addEventListener(E.Chart.MOUSEOUT,this.handleHideTooltip)},r.prototype.removeTooltipEventListener=function(){this.services.events.removeEventListener(E.Tooltip.MOVE,null),this.services.events.removeEventListener(E.Tooltip.SHOW,this.handleShowTooltip),this.services.events.removeEventListener(E.Tooltip.HIDE,this.handleHideTooltip),this.services.events.removeEventListener(E.Chart.MOUSEOUT,this.handleHideTooltip)},r.prototype.getItems=function(t){return t.detail.items?t.detail.items:[]},r.prototype.formatItems=function(t){var n=this,o=this.getOptions(),a=v.getProperty(o,"tooltip","truncation","type"),i=v.getProperty(o,"tooltip","truncation","threshold"),s=v.getProperty(o,"tooltip","truncation","numCharacter");return a!==Kt.NONE?t.map(function(c){var d=c.labelIcon?12:0;return c.value=c.value?n.valueFormatter(c.value,c.label):c.value,c.label&&c.label.length+d>i&&(c.label=v.truncateLabel(c.label,a,s)),c.value&&c.value.length>i&&(c.value=v.truncateLabel(c.value,a,s)),c}):t},r.prototype.getTooltipHTML=function(t){var n;if(t.detail.content)n='<div class="title-tooltip"><p>'+t.detail.content+"</p></div>";else{var o=this.getItems(t),a=this.formatItems(o);n='<ul class="multi-tooltip">'+a.map(function(i){return`<li>
							<div class="datapoint-tooltip `+(i.bold?"bold":"")+`">
								`+(i.class?'<div class="tooltip-color '+i.class+'"></div>':"")+`
								`+(i.color?'<div style="background-color: '+i.color+'" class="tooltip-color"></div>':"")+`
								<div class="label">
								<p>`+(i.label||"")+`</p>
								`+(i.labelIcon?'<span class="label-icon"/>'+i.labelIcon+"</span>":"")+`
								</div>
								`+(i.value===void 0||i.value===null?"":'<p class="value"/>'+i.value+"</p>")+`
							</div>
						</li>`}).join("")+"</ul>"}return n},r.prototype.valueFormatter=function(t,n){var o=this.getOptions(),a=v.getProperty(o,"tooltip","valueFormatter");return a?a(t,n):typeof t.getTime=="function"?vo(t,"MMM d, yyyy"):t.toLocaleString()},r.prototype.render=function(){var t=this.getOptions(),n=v.getProperty(t,"tooltip","enabled");if(n){var o=R(this.services.domUtils.getHolder()),a=v.getProperty(t,"style","prefix");this.tooltip=D.appendOrSelect(o,"div."+tt+"--"+a+"--tooltip"),this.tooltip.style("max-width",null).attr("role","tooltip"),this.isEventListenerAdded||(this.addTooltipEventListener(),this.isEventListenerAdded=!0),this.tooltip.classed("hidden",!0)}else!n&&this.isEventListenerAdded&&(this.removeTooltipEventListener(),this.isEventListenerAdded=!1)},r.prototype.positionTooltip=function(t){var n=this.services.domUtils.getHolder(),o=this.tooltip.node(),a=this.getOptions(),i=v.getProperty(a,"zoomBar","top","enabled"),s=v.getProperty(t,"detail","mousePosition");if(!s)s=Ur(v.getProperty(t,"detail","event"),n);else{var c=v.getProperty(a,"zoomBar","top","type"),d=at.height[c];i&&(s[1]+=d+at.spacerHeight)}var l,f=n.offsetWidth,u=n.offsetHeight,h;s[0]/f>.9?h=Ye.LEFT:s[0]/f<.1?h=Ye.RIGHT:h=this.positionService.findBestPlacementAt({left:s[0],top:s[1]},o,[Ye.RIGHT,Ye.LEFT,Ye.TOP,Ye.BOTTOM],function(){return{width:f,height:u}});var p=$u.horizontalOffset;h===Ye.LEFT&&(p*=-1),l=this.positionService.findPositionAt({left:s[0]+p,top:s[1]},o,h),this.positionService.setElement(o,l)},r}(me),sM=globalThis&&globalThis.__extends||function(){var e=function(r,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var a in o)o.hasOwnProperty(a)&&(n[a]=o[a])},e(r,t)};return function(r,t){e(r,t);function n(){this.constructor=r}r.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),cM=globalThis&&globalThis.__spreadArrays||function(){for(var e=0,r=0,t=arguments.length;r<t;r++)e+=arguments[r].length;for(var n=Array(e),o=0,r=0;r<t;r++)for(var a=arguments[r],i=0,s=a.length;i<s;i++,o++)n[o]=a[i];return n},Mg=function(e){sM(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}return r.prototype.getItems=function(t){var n=this;if(t.detail.items)return t.detail.items;var o=t.detail.data;if(!o.length||!o[0])return[];var a=this.getOptions(),i=this.services.cartesianScales,s=i.getDomainIdentifier(),c=i.isDualAxes(),d=a.data.groupMapsTo,l=i.getDomainLabel(),f=i.getRangeLabel(),u=o[0][s],h;if(o.length===1){var p=o[0],m=i.getRangeIdentifier(p);if(c){var b=i.getRangeAxisPosition({datum:p,groups:[p[d]]});f=i.getScaleLabel(b)}var y=p[m];h=cM([{label:l,value:u}],Array.isArray(y)&&y.length===2?[{label:"Start",value:y[0]},{label:"End",value:y[1]}]:[{label:f,value:p[m]}]),t.detail.additionalItems&&t.detail.additionalItems.forEach(function(w){return h.push({label:w.label,value:w.value})}),h.push({label:a.tooltip.groupLabel,value:p[d],color:this.model.getFillColor(p[d]),class:this.model.getColorClassName({classNameTypes:[ie.TOOLTIP],dataGroupName:p[d]})})}else if(o.length>1&&(h=[{label:l,value:u}],h=h.concat(o.map(function(w){var k=w[i.getRangeIdentifier(w)];return{label:w[d],value:Array.isArray(k)&&k.length===2?k[0]+" - "+k[1]:k,color:n.model.getFillColor(w[d]),class:n.model.getColorClassName({classNameTypes:[ie.TOOLTIP],dataGroupName:w[d]})}}).sort(function(w,k){return k.value-w.value})),!c&&v.getProperty(a,"tooltip","showTotal")===!0)){var g=i.getRangeIdentifier();h.push({label:Te(a,"tooltip.totalLabel")||"Total",value:o.reduce(function(w,k){return w+k[g]},0),bold:!0})}return h},r}(Sg),dM=globalThis&&globalThis.__extends||function(){var e=function(r,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var a in o)o.hasOwnProperty(a)&&(n[a]=o[a])},e(r,t)};return function(r,t){e(r,t);function n(){this.constructor=r}r.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Eg=function(e){dM(r,e);function r(t,n,o){var a=e.call(this,t,n,o)||this;return a.type="chart-clip",a.renderType=oe.SVG,a.chartClipId="chart-clip-id-"+Math.floor(Math.random()*99999999999),a.init(),a}return r.prototype.init=function(){this.model.set({chartClipId:this.chartClipId},{skipUpdate:!0})},r.prototype.render=function(t){this.createClipPath()},r.prototype.createClipPath=function(){var t=this.parent,n=this.services.cartesianScales,o=n.getMainXScale(),a=n.getMainYScale(),i=o.range(),s=i[0],c=i[1],d=a.range(),l=d[0],f=d[1];this.chartClipPath=D.appendOrSelect(t,"clipPath."+this.type).attr("id",this.chartClipId);var u=D.appendOrSelect(this.chartClipPath,"rect."+this.type);u.attr("x",s).attr("y",f).attr("width",c-s).attr("height",l-f),this.chartClipPath.merge(u).lower()},r}(me),lM=globalThis&&globalThis.__extends||function(){var e=function(r,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var a in o)o.hasOwnProperty(a)&&(n[a]=o[a])},e(r,t)};return function(r,t){e(r,t);function n(){this.constructor=r}r.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),fM=function(e){lM(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.type="canvas-chart-clip",t.chartClipId="canvas-chart-clip-id-"+Math.floor(Math.random()*99999999999),t}return r.prototype.createClipPath=function(){var t=this.parent,n=D.getSVGElementSize(this.parent,{useAttrs:!0}),o=n.width,a=n.height;this.chartClipPath=D.appendOrSelect(t,"clipPath."+this.type).attr("id",this.chartClipId);var i=D.appendOrSelect(this.chartClipPath,"rect."+this.type);i.attr("x",0).attr("y",0).attr("width",o).attr("height",a),this.chartClipPath.merge(i).lower()},r}(Eg),uM=globalThis&&globalThis.__extends||function(){var e=function(r,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var a in o)o.hasOwnProperty(a)&&(n[a]=o[a])},e(r,t)};return function(r,t){e(r,t);function n(){this.constructor=r}r.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),ir=globalThis&&globalThis.__rest||function(e,r){var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&r.indexOf(n)<0&&(t[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,n=Object.getOwnPropertySymbols(e);o<n.length;o++)r.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(t[n[o]]=e[n[o]]);return t},pM=function(e){uM(r,e);function r(t,n){var o=e.call(this,t,n)||this;return o.type="highlight",o.renderType=oe.SVG,o.positionService=new wi,o.highlightStrokeWidth=1,o}return r.prototype.render=function(t){t===void 0&&(t=!1);var n=v.getProperty(this.getOptions(),"axes"),o=[];Object.keys(n).forEach(function(h){if(Object.values(q).includes(h)){var p=n[h];p.highlights&&p.highlights.data.length>0&&o.push({axisPosition:h,highlightStartMapsTo:p.highlights.highlightStartMapsTo,highlightEndMapsTo:p.highlights.highlightEndMapsTo,labelMapsTo:p.highlights.labelMapsTo,highlight:p.highlights.data,color:p.highlights.color})}});var a=this.getComponentContainer({withinChartClip:!0}),i=a.selectAll("g.axis-highlight").data(o,function(h){return h.axisPosition});i.exit().attr("opacity",0).remove();var s=i.enter().append("g"),c=s.merge(i);c.attr("class",function(h){return"axis-highlight "+h.axisPosition});var d=c.selectAll("g.highlight-group").data(function(h){return h.highlight.map(function(p){return p.axisPosition=h.axisPosition,p.highlightStartMapsTo=h.highlightStartMapsTo,p.labelMapsTo=h.labelMapsTo,p.color=h.color,p.highlightEndMapsTo=h.highlightEndMapsTo,p})});d.exit().attr("opacity",0).remove();var l=d.enter().append("g");l.append("rect").attr("class","highlight-bar"),l.append("line").attr("class","highlight-line");var f=l.merge(d);f.attr("class","highlight-group");var u=this;c.each(function(h){var p=h.axisPosition,m=u.services.cartesianScales.getMainXScale(),b=u.services.cartesianScales.getMainYScale(),y=m.range(),g=y[0],w=y[1],k=b.range(),_=k[0],x=k[1],O=u.services.cartesianScales,M=O.getOrientation(),T=function(B){return O.getDomainValue(B)},A=function(B){return O.getRangeValue(B)},S=v.flipDomainAndRangeBasedOnOrientation(T,A,M),P=S[0],I=S[1],L=R(this);p===q.TOP||p===q.BOTTOM?L.selectAll("rect.highlight-bar").transition().call(function(B){return u.services.transitions.setupTransition({transition:B,name:"highlight-bar-update",animate:t})}).attr("y",Math.max(x+u.highlightStrokeWidth,0)).attr("height",Math.max(_-2*u.highlightStrokeWidth,0)).attr("x",function(B){var C=B.highlightStartMapsTo,z=ir(B,["highlightStartMapsTo"]);return P(z[C])}).attr("width",function(B){var C=B.highlightStartMapsTo,z=B.highlightEndMapsTo,F=ir(B,["highlightStartMapsTo","highlightEndMapsTo"]);return Math.max(P(F[z])-P(F[C]),0)}).style("stroke",function(B){var C=B.color,z=B.labelMapsTo,F=ir(B,["color","labelMapsTo"]);return C&&C.scale[F[z]]?C.scale[F[z]]:null}).style("stroke-dasharray","2, 2").attr("stroke-width",u.highlightStrokeWidth+"px").style("fill-opacity",.1).style("fill",function(B){var C=B.color,z=B.labelMapsTo,F=ir(B,["color","labelMapsTo"]);return C&&C.scale[F[z]]?C.scale[F[z]]:null}):L.selectAll("rect.highlight-bar").transition().call(function(B){return u.services.transitions.setupTransition({transition:B,name:"highlight-bar-update",animate:t})}).attr("x",g).attr("width",Math.max(w-g,0)).attr("y",function(B){var C=B.highlightEndMapsTo,z=ir(B,["highlightEndMapsTo"]);return I(z[C])}).attr("height",function(B){var C=B.highlightStartMapsTo,z=B.highlightEndMapsTo,F=ir(B,["highlightStartMapsTo","highlightEndMapsTo"]);return Math.max(I(F[C])-I(F[z]),0)}).style("stroke",function(B){var C=B.color,z=B.labelMapsTo,F=ir(B,["color","labelMapsTo"]);return C&&C.scale[F[z]]?C.scale[F[z]]:null}).style("stroke-dasharray","2, 2").attr("stroke-width",u.highlightStrokeWidth+"px").style("fill-opacity",.1).style("fill",function(B){var C=B.color,z=B.labelMapsTo,F=ir(B,["color","labelMapsTo"]);return C&&C.scale[F[z]]?C.scale[F[z]]:null})})},r}(me),hM=globalThis&&globalThis.__extends||function(){var e=function(r,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var a in o)o.hasOwnProperty(a)&&(n[a]=o[a])},e(r,t)};return function(r,t){e(r,t);function n(){this.constructor=r}r.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Tg=function(e){hM(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.type="area",t.renderType=oe.SVG,t.gradient_id="gradient-id-"+Math.floor(Math.random()*99999999999),t.handleLegendOnHover=function(n){var o=n.detail.hoveredElement;t.parent.selectAll("path.area").transition("legend-hover-area").call(function(a){return t.services.transitions.setupTransition({transition:a,name:"legend-hover-area"})}).attr("opacity",function(a){return a.name!==o.datum().name?It.opacity.unselected:It.opacity.selected})},t.handleLegendMouseOut=function(n){t.parent.selectAll("path.area").transition("legend-mouseout-area").call(function(o){return t.services.transitions.setupTransition({transition:o,name:"legend-mouseout-area"})}).attr("opacity",It.opacity.selected)},t}return r.prototype.init=function(){var t=this.services.events;t.addEventListener(E.Legend.ITEM_HOVER,this.handleLegendOnHover),t.addEventListener(E.Legend.ITEM_MOUSEOUT,this.handleLegendMouseOut)},r.prototype.render=function(t){var n=this;t===void 0&&(t=!0);var o=this.getComponentContainer({withinChartClip:!0}),a=this.getOptions(),i=[0,0],s=this.services.cartesianScales,c=s.getOrientation(),d=Od().curve(this.services.curves.getD3Curve()).defined(function(S,P){var I=s.getRangeIdentifier(),L=S[I];return L!=null}),l=this.model.getGroupedData(this.configs.groups),f=v.getProperty(a,"bounds"),u=f&&l&&l.length===1;!u&&f&&console.warn("Bounds can only be shown when having 1 single datagroup, you've supplied "+l.length);var h=0,p=function(S,P){v.getProperty(a,"axes",S,"includeZero")===!1&&P[0]>0&&P[1]>0&&(h=P[0])},m=function(S,P){return u?s.getBoundedScaledValues(S,P)[0]:s.getRangeValue(h)},b=function(S,P){return u?s.getBoundedScaledValues(S,P)[1]:s.getRangeValue(S,P)};c===He.VERTICAL?(i=s.getMainYScale().domain(),p(s.getMainYAxisPosition(),i),d.x(function(S,P){return s.getDomainValue(S,P)}).y0(function(S,P){return m(S,P)}).y1(function(S,P){return b(S,P)})):(i=s.getMainXScale().domain(),p(s.getMainXAxisPosition(),i),d.x0(function(S,P){return m(S,P)}).x1(function(S,P){return b(S,P)}).y(function(S,P){return s.getDomainValue(S,P)}));var y=v.getProperty(a,"color","gradient","enabled"),g=l&&l.length===1&&y;l.length>1&&y&&console.error("Gradients can only be enabled when having 1 single dataset");var w=o.selectAll("path.area").data(l,function(S){return S.name}),k=R(this.services.domUtils.getMainContainer());if(w.exit().attr("opacity",0).remove(),!!l.length){if(g){var _=k.select("path."+this.model.getColorClassName({classNameTypes:[ie.STROKE],dataGroupName:l[0].name})).node(),x=void 0;if(_)x=getComputedStyle(_,null).getPropertyValue("stroke");else{var O=v.getProperty(this.model.getOptions(),"color","scale");if(O!==null){var M=Object.keys(O);x=O[M[0]]}}vc.appendOrUpdateLinearGradient({svg:this.parent,id:this.services.domUtils.generateElementIDString(l[0].name.replace(" ","")+"_"+this.gradient_id),x1:"0%",x2:"0%",y1:"0%",y2:"100%",stops:vc.getStops(i,x)})}else this.parent.selectAll("defs linearGradient").empty()||this.parent.selectAll("defs linearGradient").each(function(){this.parentNode.remove()});var T=this,A=w.enter().append("path");g?A.merge(w).style("fill",function(S){return"url(#"+n.services.domUtils.generateElementIDString(S.name.replace(" ","")+"_"+n.gradient_id)+")"}).attr("class","area").attr("class",function(S){return n.model.getColorClassName({classNameTypes:[ie.FILL],dataGroupName:S.name,originalClassName:"area"})}).attr("d",function(S){var P=S.data;return d(P)}):(A.attr("opacity",0).merge(w).attr("class","area").attr("class",function(S){return n.model.getColorClassName({classNameTypes:[ie.FILL,ie.STROKE],dataGroupName:S.name,originalClassName:"area"})}).style("fill",function(S){return T.model.getFillColor(S.name)}).transition().call(function(S){return n.services.transitions.setupTransition({transition:S,name:"area-update-enter",animate:t})}).attr("opacity",u?1:It.opacity.selected).attr("d",function(S){var P=S.data;return d(P)}),u&&A.attr("fill-opacity",It.opacity.selected).style("stroke",function(S){return T.model.getStrokeColor(S.name)}).style("stroke-dasharray","2, 2").attr("stroke-width",.7+"px"))}},r.prototype.destroy=function(){var t=this.services.events;t.removeEventListener(E.Legend.ITEM_HOVER,this.handleLegendOnHover),t.removeEventListener(E.Legend.ITEM_MOUSEOUT,this.handleLegendMouseOut)},r}(me),gM=globalThis&&globalThis.__extends||function(){var e=function(r,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var a in o)o.hasOwnProperty(a)&&(n[a]=o[a])},e(r,t)};return function(r,t){e(r,t);function n(){this.constructor=r}r.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Og=function(e){gM(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.type="area-stacked",t.renderType=oe.SVG,t.handleLegendOnHover=function(n){var o=n.detail.hoveredElement,a=t.getOptions(),i=a.data.groupMapsTo;t.parent.selectAll("path.area").transition("legend-hover-area").call(function(s){return t.services.transitions.setupTransition({transition:s,name:"legend-hover-area"})}).attr("opacity",function(s){return v.getProperty(s,0,i)!==o.datum().name?It.opacity.unselected:It.opacity.selected})},t.handleLegendMouseOut=function(){t.parent.selectAll("path.area").transition("legend-mouseout-area").call(function(n){return t.services.transitions.setupTransition({transition:n,name:"legend-mouseout-area"})}).attr("opacity",It.opacity.selected)},t}return r.prototype.init=function(){var t=this.services.events;t.addEventListener(E.Legend.ITEM_HOVER,this.handleLegendOnHover),t.addEventListener(E.Legend.ITEM_MOUSEOUT,this.handleLegendMouseOut)},r.prototype.render=function(t){var n=this;t===void 0&&(t=!0);var o=this.getComponentContainer({withinChartClip:!0}),a=this,i=this.getOptions(),s=i.data.groupMapsTo,c=Object.keys(i.axes).some(function(b){return i.axes[b].percentage}),d=this.model.getStackedData({percentage:c,groups:this.configs.groups}),l=v.getProperty(d,0,0),f=this.services.cartesianScales.getDomainAxisPosition({firstDatum:l}),u=this.services.cartesianScales.getRangeAxisPosition({firstDatum:l}),h=this.services.cartesianScales.getScaleByPosition(u),p=o.selectAll("path.area").data(d,function(b){return v.getProperty(b,0,s)});this.areaGenerator=Od().x(function(b,y){return n.services.cartesianScales.getValueThroughAxisPosition(f,b.data.sharedStackKey,y)}).y0(function(b){return h(b[0])}).y1(function(b){return h(b[1])}).curve(this.services.curves.getD3Curve()),p.exit().attr("opacity",0).remove();var m=p.enter().append("path").attr("opacity",0);m.merge(p).data(d,function(b){return v.getProperty(b,0,s)}).attr("class","area").attr("class",function(b){return n.model.getColorClassName({classNameTypes:[ie.FILL],dataGroupName:v.getProperty(b,0,s),originalClassName:"area"})}).style("fill",function(b){return a.model.getFillColor(v.getProperty(b,0,s))}).attr("role",fe.GRAPHICS_SYMBOL).attr("aria-roledescription","area").attr("aria-label",function(b){return v.getProperty(b,0,s)}).transition().call(function(b){return n.services.transitions.setupTransition({transition:b,name:"area-update-enter",animate:t})}).attr("opacity",It.opacity.selected).attr("d",this.areaGenerator)},r}(me),mM=globalThis&&globalThis.__extends||function(){var e=function(r,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var a in o)o.hasOwnProperty(a)&&(n[a]=o[a])},e(r,t)};return function(r,t){e(r,t);function n(){this.constructor=r}r.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Vd=function(e){mM(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}return r.prototype.getBarWidth=function(t){var n=this.getOptions();if(n.bars.width)return n.bars.width;var o=this.model.getDisplayData().length,a=this.services.cartesianScales.getMainXScale(),i=D.getSVGElementSize(this.parent,{useAttrs:!0}).width;if(!a.step){var s=v.getProperty(n,"bars","spacingFactor");return Math.min(n.bars.maxWidth,i*s/o)}return Math.min(n.bars.maxWidth,a.step()/2)},r.prototype.isOutsideZoomedDomain=function(t,n){var o=this.model.getDisplayData().length;if(o<=1)return!1;var a=this.model.get("zoomDomain");if(a!==void 0){var i=this.services.cartesianScales.getDomainScale();return t<i(a[0])||n>i(a[1])}return!1},r}(me),vM=globalThis&&globalThis.__extends||function(){var e=function(r,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var a in o)o.hasOwnProperty(a)&&(n[a]=o[a])},e(r,t)};return function(r,t){e(r,t);function n(){this.constructor=r}r.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Ag=function(e){vM(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.type="simple-bar",t.renderType=oe.SVG,t.handleLegendOnHover=function(n){var o=n.detail.hoveredElement,a=t.getOptions().data.groupMapsTo;t.parent.selectAll("path.bar").transition("legend-hover-simple-bar").call(function(i){return t.services.transitions.setupTransition({transition:i,name:"legend-hover-simple-bar"})}).attr("opacity",function(i){return i[a]!==o.datum().name?.3:1})},t.handleLegendMouseOut=function(n){t.parent.selectAll("path.bar").transition("legend-mouseout-simple-bar").call(function(o){return t.services.transitions.setupTransition({transition:o,name:"legend-mouseout-simple-bar"})}).attr("opacity",1)},t}return r.prototype.init=function(){var t=this.services.events;t.addEventListener(E.Legend.ITEM_HOVER,this.handleLegendOnHover),t.addEventListener(E.Legend.ITEM_MOUSEOUT,this.handleLegendMouseOut)},r.prototype.render=function(t){var n=this,o=this.getOptions(),a=o.data.groupMapsTo,i=this.getComponentContainer({withinChartClip:!0}),s=this.model.getDisplayData(this.configs.groups),c=this.services.cartesianScales.getOrientation(),d=i.selectAll("path.bar").data(s,function(f){return f[a]});d.exit().attr("opacity",0).remove();var l=d.enter().append("path").attr("opacity",0);l.merge(d).classed("bar",!0).attr("width",this.getBarWidth.bind(this)).transition().call(function(f){return n.services.transitions.setupTransition({transition:f,name:"bar-update-enter",animate:t})}).attr("class",function(f){return n.model.getColorClassName({classNameTypes:[ie.FILL],dataGroupName:f[a],originalClassName:"bar"})}).style("fill",function(f){return n.model.getFillColor(f[a])}).attr("d",function(f,u){var h=n.services.cartesianScales.getRangeIdentifier(),p=n.getBarWidth(),m=f[h],b=n.services.cartesianScales.getDomainValue(f,u)-p/2,y=b+p,g,w;if(Array.isArray(m)&&m.length===2)g=n.services.cartesianScales.getRangeValue(m[0]),w=n.services.cartesianScales.getRangeValue(m[1],u);else{var k=n.services.cartesianScales.getRangeScale(),_=k.domain()[0];g=n.services.cartesianScales.getRangeValue(Math.max(0,_)),w=n.services.cartesianScales.getRangeValue(f,u)}var x=Math.abs(w-g);if(x!==0&&x<2&&(m>0&&c===He.VERTICAL||m<0&&c===He.HORIZONTAL?w=g-2:w=g+2),!n.isOutsideZoomedDomain(b,y))return v.generateSVGPathString({x0:b,x1:y,y0:g,y1:w},c)}).attr("opacity",1).attr("role",fe.GRAPHICS_SYMBOL).attr("aria-roledescription","bar").attr("aria-label",function(f){return f.value}),this.addEventListeners()},r.prototype.addEventListeners=function(){var t=this;this.parent.selectAll("path.bar").on("mouseover",function(n,o){var a=R(this);a.classed("hovered",!0),t.services.events.dispatchEvent(E.Bar.BAR_MOUSEOVER,{event:n,element:a,datum:o}),t.services.events.dispatchEvent(E.Tooltip.SHOW,{event:n,hoveredElement:a,data:[o]})}).on("mousemove",function(n,o){t.services.events.dispatchEvent(E.Bar.BAR_MOUSEMOVE,{event:n,element:R(this),datum:o}),t.services.events.dispatchEvent(E.Tooltip.MOVE,{event:n})}).on("click",function(n,o){t.services.events.dispatchEvent(E.Bar.BAR_CLICK,{event:n,element:R(this),datum:o})}).on("mouseout",function(n,o){var a=R(this);a.classed("hovered",!1),t.services.events.dispatchEvent(E.Bar.BAR_MOUSEOUT,{event:n,element:a,datum:o}),t.services.events.dispatchEvent(E.Tooltip.HIDE,{hoveredElement:a})})},r.prototype.destroy=function(){this.parent.selectAll("path.bar").on("mouseover",null).on("mousemove",null).on("mouseout",null);var t=this.services.events;t.removeEventListener(E.Legend.ITEM_HOVER,this.handleLegendOnHover),t.removeEventListener(E.Legend.ITEM_MOUSEOUT,this.handleLegendMouseOut)},r}(Vd),bM=globalThis&&globalThis.__extends||function(){var e=function(r,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var a in o)o.hasOwnProperty(a)&&(n[a]=o[a])},e(r,t)};return function(r,t){e(r,t);function n(){this.constructor=r}r.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Pg=function(e){bM(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.type="grouped-bar",t.renderType=oe.SVG,t.padding=5,t.defaultStepFactor=70,t.handleLegendOnHover=function(n){var o=n.detail.hoveredElement,a=t.getOptions().data.groupMapsTo;t.parent.selectAll("path.bar").transition("legend-hover-bar").call(function(i){return t.services.transitions.setupTransition({transition:i,name:"legend-hover-bar"})}).attr("opacity",function(i){return i[a]!==o.datum().name?.3:1})},t.handleLegendMouseOut=function(n){t.parent.selectAll("path.bar").transition("legend-mouseout-bar").call(function(o){return t.services.transitions.setupTransition({transition:o,name:"legend-mouseout-bar"})}).attr("opacity",1)},t}return r.prototype.init=function(){var t=this.services.events;t.addEventListener(E.Legend.ITEM_HOVER,this.handleLegendOnHover),t.addEventListener(E.Legend.ITEM_MOUSEOUT,this.handleLegendMouseOut)},r.prototype.render=function(t){var n=this,o=this.model.getDisplayData(this.configs.groups),a=this.getOptions(),i=a.data.groupMapsTo;this.setGroupScale();var s=this.getComponentContainer({withinChartClip:!0}),c=v.removeArrayDuplicates(o.map(function(p){var m=n.services.cartesianScales.getDomainIdentifier(p);return p[m]&&typeof p[m].toString=="function"?p[m].toString():p[m]})),d=s.selectAll("g.bars").data(c,function(p){return p});d.exit().attr("opacity",0).remove();var l=d.enter().append("g").classed("bars",!0).attr("role",fe.GROUP).attr("data-name","bars"),f=l.merge(d);f.transition().call(function(p){return n.services.transitions.setupTransition({transition:p,name:"bar-group-update-enter",animate:t})}).attr("transform",function(p,m){var b=n.services.cartesianScales.getDomainValue(p,m),y=b-n.getGroupWidth()/2;return n.services.cartesianScales.getOrientation()===He.VERTICAL?"translate("+y+", 0)":"translate(0, "+y+")"});var u=f.selectAll("path.bar").data(function(p){return n.getDataCorrespondingToLabel(p)},function(p){return p[i]});u.exit().attr("opacity",0).remove();var h=u.enter().append("path").attr("opacity",0);h.merge(u).classed("bar",!0).transition().call(function(p){return n.services.transitions.setupTransition({transition:p,name:"bar-update-enter",animate:t})}).attr("class",function(p){return n.model.getColorClassName({classNameTypes:[ie.FILL],dataGroupName:p[i],originalClassName:"bar"})}).style("fill",function(p){return n.model.getFillColor(p[i])}).attr("d",function(p,m){var b=n.groupScale(p[i]),y=n.getBarWidth(),g=b,w=b+y,k=n.services.cartesianScales.getRangeAxisPosition({datum:p}),_=n.services.cartesianScales.getValueThroughAxisPosition(k,0),x=n.services.cartesianScales.getRangeValue(p),O=n.services.cartesianScales.getDomainValue(p,m)-y/2,M=O+y;if(!n.isOutsideZoomedDomain(O,M))return v.generateSVGPathString({x0:g,x1:w,y0:_,y1:x},n.services.cartesianScales.getOrientation())}).attr("opacity",1).attr("role",fe.GRAPHICS_SYMBOL).attr("aria-roledescription","bar").attr("aria-label",function(p){return p.value}),this.addEventListeners()},r.prototype.addEventListeners=function(){var t=this;this.parent.selectAll("path.bar").on("mouseover",function(n,o){var a=R(this);a.classed("hovered",!0),t.services.events.dispatchEvent(E.Bar.BAR_MOUSEOVER,{event:n,element:a,datum:o}),t.services.events.dispatchEvent(E.Tooltip.SHOW,{event:n,hoveredElement:a,data:[o]})}).on("mousemove",function(n,o){var a=R(this);t.services.events.dispatchEvent(E.Bar.BAR_MOUSEMOVE,{event:n,element:a,datum:o}),t.services.events.dispatchEvent(E.Tooltip.MOVE,{event:n})}).on("click",function(n,o){t.services.events.dispatchEvent(E.Bar.BAR_CLICK,{event:n,element:R(this),datum:o})}).on("mouseout",function(n,o){var a=R(this);a.classed("hovered",!1),t.services.events.dispatchEvent(E.Bar.BAR_MOUSEOUT,{event:n,element:a,datum:o}),t.services.events.dispatchEvent(E.Tooltip.HIDE,{hoveredElement:a})})},r.prototype.destroy=function(){this.parent.selectAll("path.bar").on("mouseover",null).on("mousemove",null).on("mouseout",null);var t=this.services.events;t.removeEventListener(E.Legend.ITEM_HOVER,this.handleLegendOnHover),t.removeEventListener(E.Legend.ITEM_MOUSEOUT,this.handleLegendMouseOut)},r.prototype.getDataCorrespondingToLabel=function(t){var n=this,o=this.model.getDisplayData(this.configs.groups);return o.filter(function(a){var i=n.services.cartesianScales.getDomainIdentifier(a);return a[i].toString()===t})},r.prototype.getGroupWidth=function(){var t=this.model.getGroupedData(this.configs.groups),n=this.getTotalGroupPadding();return this.getBarWidth()*t.length+n},r.prototype.getDomainScaleStep=function(){var t=this.services.cartesianScales.getDomainScale(),n=this.model.getGroupedData(this.configs.groups),o=this.defaultStepFactor;if(typeof t.step=="function")o=t.step();else if(n.length>0){var a=n.find(function(s){var c;return((c=s.data)===null||c===void 0?void 0:c.length)>1});if(a){var i=this.services.cartesianScales.getDomainIdentifier(a.data[0]);o=Math.abs(t(a.data[1][i])-t(a.data[0][i]))}}return o},r.prototype.getTotalGroupPadding=function(){var t=this.model.getGroupedData(this.configs.groups);if(t.length===1)return 0;var n=Math.min(5,5*(this.getDomainScaleStep()/this.defaultStepFactor));return n*(t.length-1)},r.prototype.getBarWidth=function(){var t=this.getOptions(),n=v.getProperty(t,"bars","width"),o=v.getProperty(t,"bars","maxWidth");if(n!==null&&(o===null||n<=o))return n;var a=this.model.getGroupedData(this.configs.groups),i=a.length,s=this.getTotalGroupPadding();return Math.min(o,(this.getDomainScaleStep()-s)/i)},r.prototype.setGroupScale=function(){var t=this.model.getActiveDataGroupNames(this.configs.groups);this.groupScale=Ao().domain(t).rangeRound([0,this.getGroupWidth()])},r}(Vd),yM=globalThis&&globalThis.__extends||function(){var e=function(r,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var a in o)o.hasOwnProperty(a)&&(n[a]=o[a])},e(r,t)};return function(r,t){e(r,t);function n(){this.constructor=r}r.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Ug=function(e){yM(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.type="stacked-bar",t.renderType=oe.SVG,t.handleLegendOnHover=function(n){var o=n.detail.hoveredElement,a=t.model.getOptions().data.groupMapsTo;t.parent.selectAll("path.bar").transition("legend-hover-bar").call(function(i){return t.services.transitions.setupTransition({transition:i,name:"legend-hover-bar"})}).attr("opacity",function(i){return i[a]!==o.datum().name?.3:1})},t.handleLegendMouseOut=function(n){t.parent.selectAll("path.bar").transition("legend-mouseout-bar").call(function(o){return t.services.transitions.setupTransition({transition:o,name:"legend-mouseout-bar"})}).attr("opacity",1)},t}return r.prototype.init=function(){var t=this.services.events;t.addEventListener(E.Legend.ITEM_HOVER,this.handleLegendOnHover),t.addEventListener(E.Legend.ITEM_MOUSEOUT,this.handleLegendMouseOut)},r.prototype.render=function(t){var n=this,o=this.getComponentContainer({withinChartClip:!0}),a=this.getOptions(),i=a.data.groupMapsTo,s=this.model.getStackedData({groups:this.configs.groups,divergent:!0}),c=this.model.getActiveDataGroupNames(),d=o.selectAll("g.bars").data(s,function(f){return v.getProperty(f,0,i)});d.exit().attr("opacity",0).remove(),d.enter().append("g").classed("bars",!0).attr("role",fe.GROUP).attr("data-name","bars");var l=o.selectAll("g.bars").selectAll("path.bar").data(function(f){return f},function(f){return f.data.sharedStackKey});l.exit().remove(),l.enter().append("path").merge(l).classed("bar",!0).transition().call(function(f){return n.services.transitions.setupTransition({transition:f,name:"bar-update-enter",animate:t})}).attr("class",function(f){return n.model.getColorClassName({classNameTypes:[ie.FILL],dataGroupName:f[i],originalClassName:"bar"})}).style("fill",function(f){return n.model.getFillColor(f[i])}).attr("d",function(f,u){var h=f.data.sharedStackKey,p=n.getBarWidth(),m=n.services.cartesianScales.getDomainValue(h,u)-p/2,b=m+p,y=n.services.cartesianScales.getRangeValue(f[0],u),g=n.services.cartesianScales.getRangeValue(f[1],u);if(!n.isOutsideZoomedDomain(m,b)){if(Math.abs(g-y)>0&&Math.abs(g-y)>a.bars.dividerSize){var w=f[0]<0&&f[1]<=0;w&&c.length>1?n.services.cartesianScales.getOrientation()===He.VERTICAL?g+=f[1]===0?2:1:g-=1:w||(n.services.cartesianScales.getOrientation()===He.VERTICAL?g+=1:g-=1)}return v.generateSVGPathString({x0:m,x1:b,y0:y,y1:g},n.services.cartesianScales.getOrientation())}}).attr("opacity",1).attr("role",fe.GRAPHICS_SYMBOL).attr("aria-roledescription","bar").attr("aria-label",function(f){return f[1]-f[0]}),this.addEventListeners()},r.prototype.addEventListeners=function(){var t=this.getOptions(),n=t.data.groupMapsTo,o=this;this.parent.selectAll("path.bar").on("mouseover",function(a,i){var s,c=R(this);c.classed("hovered",!0),o.services.events.dispatchEvent(E.Bar.BAR_MOUSEOVER,{event:a,element:c,datum:i});var d=o.model.getDisplayData(o.configs.groups),l=d.find(function(h){var p=o.services.cartesianScales.getDomainIdentifier(h),m=o.services.cartesianScales.getRangeIdentifier(h);return h[m]===i.data[i[n]]&&h[p].toString()===i.data.sharedStackKey&&h[n]===i[n]});if(l===void 0){var f=o.services.cartesianScales.getDomainIdentifier(),u=o.services.cartesianScales.getRangeIdentifier();l=(s={},s[f]=i.data.sharedStackKey,s[u]=i.data[i[n]],s[n]=i[n],s)}o.services.events.dispatchEvent(E.Tooltip.SHOW,{event:a,hoveredElement:c,data:[l]})}).on("mousemove",function(a,i){var s=R(this);o.services.events.dispatchEvent(E.Bar.BAR_MOUSEMOVE,{event:a,element:s,datum:i}),o.services.events.dispatchEvent(E.Tooltip.MOVE,{event:a})}).on("click",function(a,i){o.services.events.dispatchEvent(E.Bar.BAR_CLICK,{event:a,element:R(this),datum:i})}).on("mouseout",function(a,i){var s=R(this);s.classed("hovered",!1),o.services.events.dispatchEvent(E.Bar.BAR_MOUSEOUT,{event:a,element:s,datum:i}),o.services.events.dispatchEvent(E.Tooltip.HIDE,{hoveredElement:s})})},r.prototype.getBarWidth=function(){var t=this.getOptions();if(v.getProperty(t,"bars","width"))return t.bars.width;var n=this.services.cartesianScales.getMainXScale(),o=D.getSVGElementSize(this.parent,{useAttrs:!0}).width,a=this.model.getStackKeys().length,i=v.getProperty(t,"bars","spacingFactor");return n.step?Math.min(t.bars.maxWidth,n.step()/2):Math.min(t.bars.maxWidth,o*i/a)},r.prototype.destroy=function(){this.parent.selectAll("path.bar").on("mouseover",null).on("mousemove",null).on("mouseout",null);var t=this.services.events;t.removeEventListener(E.Legend.ITEM_HOVER,this.handleLegendOnHover),t.removeEventListener(E.Legend.ITEM_MOUSEOUT,this.handleLegendMouseOut)},r}(Vd),wM=globalThis&&globalThis.__extends||function(){var e=function(r,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var a in o)o.hasOwnProperty(a)&&(n[a]=o[a])},e(r,t)};return function(r,t){e(r,t);function n(){this.constructor=r}r.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),_M=function(e){wM(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.type="boxplot",t.renderType=oe.SVG,t}return r.prototype.render=function(t){var n=this,o=this.getComponentContainer({withinChartClip:!0}),a=this.getOptions(),i=a.data.groupMapsTo,s=this.model.getDataGroupNames(),c=this.services.cartesianScales.getMainXScale(),d=this.services.cartesianScales.getMainYScale(),l=c.range(),f=l[0],u=l[1],h=d.range(),p=h[0],m=h[1],b=u-f,y=p-m;if(b!==0){var g=this.services.cartesianScales,w=g.getOrientation(),k=w===He.VERTICAL,_=v.flipDomainAndRangeBasedOnOrientation(function(C,z){return n.services.cartesianScales.getDomainValue(C,z)},function(C,z){return n.services.cartesianScales.getRangeValue(C,z)},w),x=_[0],O=_[1],M=Math.floor((k?b:y)/s.length),T=Math.min(M/2,16),A=this.model.getBoxplotData(),S=o.selectAll(".box-group").data(A);S.exit().remove();var P=S.enter().append("g").attr("class","box-group"),I=S.merge(P);P.append("path").merge(S.select("path.vertical-line.start")).attr("class",function(){return n.model.getColorClassName({classNameTypes:[ie.STROKE],originalClassName:"vertical-line start"})}).attr("stroke-width",ft.strokeWidth.default).attr("fill","none").transition().call(function(C){return n.services.transitions.setupTransition({transition:C,name:"boxplot-update-verticalstartline",animate:t})}).attr("d",function(C){var z=g.getDomainValue(C[i]),F=z,U=g.getRangeValue(C.whiskers.min),N=g.getRangeValue(C.quartiles.q_25);return v.generateSVGPathString({x0:z,x1:F,y0:U,y1:N},w)}),P.append("path").merge(S.select("path.vertical-line.end")).attr("class",function(){return n.model.getColorClassName({classNameTypes:[ie.STROKE],originalClassName:"vertical-line end"})}).attr("stroke-width",ft.strokeWidth.default).attr("fill","none").transition().call(function(C){return n.services.transitions.setupTransition({transition:C,name:"boxplot-update-verticalendline",animate:t})}).attr("d",function(C){var z=g.getDomainValue(C[i]),F=z,U=g.getRangeValue(C.whiskers.max),N=g.getRangeValue(C.quartiles.q_75);return v.generateSVGPathString({x0:z,x1:F,y0:U,y1:N},w)}),P.append("path").merge(S.select("path.box")).attr("class",function(){return n.model.getColorClassName({classNameTypes:[ie.FILL,ie.STROKE],originalClassName:"box"})}).attr("fill-opacity",ft.box.opacity.default).attr("stroke-width",ft.strokeWidth.default).attr("role",fe.GRAPHICS_SYMBOL).attr("aria-roledescription","box").attr("aria-label",function(C){return C[i]}).transition().call(function(C){return n.services.transitions.setupTransition({transition:C,name:"boxplot-update-quartiles",animate:t})}).attr("d",function(C){var z=g.getDomainValue(C[i])-T/2,F=z+T,U=g.getRangeValue(Math[k?"max":"min"](C.quartiles.q_75,C.quartiles.q_25)),N=U+Math.abs(g.getRangeValue(C.quartiles.q_75)-g.getRangeValue(C.quartiles.q_25));return v.generateSVGPathString({x0:z,x1:F,y0:U,y1:N},w)}),P.append("path").merge(S.select("path.highlight-area")).attr("class","highlight-area").attr("opacity",0).attr("d",function(C){var z=g.getDomainValue(C[i])-T/2,F=z+T,U=g.getRangeValue(C.whiskers.min),N=g.getRangeValue(C.whiskers.max);return v.generateSVGPathString({x0:z,x1:F,y0:U,y1:N},w)}),P.append("path").merge(S.select("path.whisker.start")).attr("class",function(){return n.model.getColorClassName({classNameTypes:[ie.STROKE],originalClassName:"whisker start"})}).attr("stroke-width",ft.strokeWidth.thicker).attr("fill","none").transition().call(function(C){return n.services.transitions.setupTransition({transition:C,name:"boxplot-update-startingwhisker",animate:t})}).attr("d",function(C){var z=g.getDomainValue(C[i])-T/4,F=z+T/2,U=g.getRangeValue(C.whiskers.min),N=g.getRangeValue(C.whiskers.min);return v.generateSVGPathString({x0:z,x1:F,y0:U,y1:N},w)}),P.append("path").merge(S.select("path.median")).attr("fill","none").attr("class",function(){return n.model.getColorClassName({classNameTypes:[ie.STROKE],originalClassName:"median"})}).attr("stroke-width",2).transition().call(function(C){return n.services.transitions.setupTransition({transition:C,name:"boxplot-update-median",animate:t})}).attr("d",function(C){var z=g.getDomainValue(C[i])-T/2,F=z+T,U=g.getRangeValue(C.quartiles.q_50),N=U;return v.generateSVGPathString({x0:z,x1:F,y0:U,y1:N},w)}),P.append("path").merge(S.select("path.whisker.end")).attr("class",function(){return n.model.getColorClassName({classNameTypes:[ie.STROKE],originalClassName:"whisker end"})}).attr("stroke-width",ft.strokeWidth.thicker).attr("fill","none").transition().call(function(C){return n.services.transitions.setupTransition({transition:C,name:"boxplot-update-endingwhisker",animate:t})}).attr("d",function(C){var z=g.getDomainValue(C[i])-T/4,F=z+T/2,U=g.getRangeValue(C.whiskers.max),N=g.getRangeValue(C.whiskers.max);return v.generateSVGPathString({x0:z,x1:F,y0:U,y1:N},w)});var L=I.selectAll("circle.outlier").data(function(C){return C.outliers.map(function(z){var F;return F={min:C.whiskers.min,max:C.whiskers.max},F[i]=C[i],F.value=z,F})});L.exit().remove();var B=L.enter().append("circle");L.merge(B).attr("r",ft.circle.radius).attr("class",function(){return n.model.getColorClassName({classNameTypes:[ie.FILL,ie.STROKE],originalClassName:"outlier"})}).attr("fill-opacity",ft.circle.opacity.default).attr("cx",x).transition().call(function(C){return n.services.transitions.setupTransition({transition:C,name:"boxplot-update-circles",animate:t})}).attr("cy",O),this.addBoxEventListeners(),this.addCircleEventListeners()}},r.prototype.addBoxEventListeners=function(){var t=this,n=this.getOptions(),o=n.data.groupMapsTo;this.parent.selectAll("path.highlight-area").on("mouseover",function(a,i){var s=R(this),c=R(this.parentNode);c.select("path.box").classed("hovered",!0).attr("fill-opacity",ft.box.opacity.hovered),t.services.events.dispatchEvent(E.Tooltip.SHOW,{event:a,hoveredElement:s,items:[{label:n.tooltip.groupLabel,value:i[o],class:t.model.getColorClassName({classNameTypes:[ie.TOOLTIP]})},{label:"Minimum",value:i.whiskers.min},{label:"Q1",value:i.quartiles.q_25},{label:"Median",value:i.quartiles.q_50},{label:"Q3",value:i.quartiles.q_75},{label:"Maximum",value:i.whiskers.max},{label:"IQR",value:i.quartiles.q_75-i.quartiles.q_25}]}),t.services.events.dispatchEvent(E.Boxplot.BOX_MOUSEOVER,{event:a,element:s,datum:i})}).on("mousemove",function(a,i){var s=R(this);t.services.events.dispatchEvent(E.Boxplot.BOX_MOUSEMOVE,{event:a,element:s,datum:i}),t.services.events.dispatchEvent(E.Tooltip.MOVE,{event:a})}).on("click",function(a,i){t.services.events.dispatchEvent(E.Boxplot.BOX_CLICK,{event:a,element:R(this),datum:i})}).on("mouseout",function(a,i){var s=R(this),c=R(this.parentNode);c.select("path.box").classed("hovered",!1).attr("fill-opacity",ft.box.opacity.default),t.services.events.dispatchEvent(E.Boxplot.BOX_MOUSEOUT,{event:a,element:s,datum:i}),t.services.events.dispatchEvent(E.Tooltip.HIDE,{hoveredElement:s})})},r.prototype.addCircleEventListeners=function(){var t=this,n=this.getOptions(),o=n.data.groupMapsTo,a=this.services.cartesianScales.getRangeIdentifier();this.parent.selectAll("circle").on("mouseover",function(i,s){var c=R(this);c.classed("hovered",!0).attr("fill-opacity",ft.circle.opacity.hovered).classed("unfilled",!1),t.services.events.dispatchEvent(E.Tooltip.SHOW,{event:i,hoveredElement:c,items:[{label:n.tooltip.groupLabel,value:s[o],class:t.model.getColorClassName({classNameTypes:[ie.TOOLTIP]})},{label:"Outlier",value:s[a]}]}),t.services.events.dispatchEvent(E.Boxplot.OUTLIER_MOUSEOVER,{event:i,element:c,datum:s})}).on("mousemove",function(i,s){var c=R(this);t.services.events.dispatchEvent(E.Boxplot.OUTLIER_MOUSEMOVE,{event:i,element:c,datum:s}),t.services.events.dispatchEvent(E.Tooltip.MOVE,{event:i})}).on("click",function(i,s){t.services.events.dispatchEvent(E.Boxplot.OUTLIER_CLICK,{event:i,element:R(this),datum:s})}).on("mouseout",function(i,s){var c=R(this);c.classed("hovered",!1).attr("fill-opacity",ft.circle.opacity.default),t.services.events.dispatchEvent(E.Boxplot.OUTLIER_MOUSEOUT,{event:i,element:c,datum:s}),t.services.events.dispatchEvent(E.Tooltip.HIDE,{hoveredElement:c})})},r}(me),xM=globalThis&&globalThis.__extends||function(){var e=function(r,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var a in o)o.hasOwnProperty(a)&&(n[a]=o[a])},e(r,t)};return function(r,t){e(r,t);function n(){this.constructor=r}r.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Dt=function(e){xM(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.type="scatter",t.renderType=oe.SVG,t.handleChartHolderOnHover=function(n){t.parent.selectAll("circle.dot").transition("chart-holder-hover-scatter").call(function(o){return t.services.transitions.setupTransition({transition:o,name:"chart-holder-hover-scatter"})}).attr("opacity",1)},t.handleChartHolderOnMouseOut=function(n){t.parent.selectAll("circle.dot").transition("chart-holder-mouseout-scatter").call(function(o){return t.services.transitions.setupTransition({transition:o,name:"chart-holder-mouseout-scatter"})}).attr("opacity",0)},t.handleLegendOnHover=function(n){var o=n.detail.hoveredElement,a=t.getOptions().data.groupMapsTo;t.parent.selectAll("circle.dot").transition("legend-hover-scatter").call(function(i){return t.services.transitions.setupTransition({transition:i,name:"legend-hover-scatter"})}).attr("opacity",function(i){return i[a]!==o.datum().name?.3:1})},t.handleLegendMouseOut=function(n){t.parent.selectAll("circle.dot").transition("legend-mouseout-scatter").call(function(o){return t.services.transitions.setupTransition({transition:o,name:"legend-mouseout-scatter"})}).attr("opacity",1)},t}return r.prototype.init=function(){var t=this.services.events;t.addEventListener(E.Legend.ITEM_HOVER,this.handleLegendOnHover),t.addEventListener(E.Legend.ITEM_MOUSEOUT,this.handleLegendMouseOut);var n=this.configs.fadeInOnChartHolderMouseover;n&&(t.addEventListener(E.Chart.MOUSEOVER,this.handleChartHolderOnHover),t.addEventListener(E.Chart.MOUSEOUT,this.handleChartHolderOnMouseOut))},r.prototype.filterBasedOnZoomDomain=function(t){var n=this.services.cartesianScales.getDomainIdentifier(t),o=this.model.get("zoomDomain");return o!==void 0?t.filter(function(a){return a[n].getTime()>=o[0].getTime()&&a[n].getTime()<=o[1].getTime()}):t},r.prototype.getScatterData=function(){var t=this,n=this.getOptions(),o=this.configs.stacked,a;if(o){var i=Object.keys(n.axes).some(function(s){return n.axes[s].percentage});a=this.model.getStackedData({groups:this.configs.groups,percentage:i})}else a=this.model.getDisplayData(this.configs.groups).filter(function(s){var c=t.services.cartesianScales.getRangeIdentifier(s);return s[c]!==void 0&&s[c]!==null});return this.filterBasedOnZoomDomain(a)},r.prototype.render=function(t){var n=v.getProperty(this.getOptions(),"points","enabled")||v.getProperty(this.getOptions(),"bubble","enabled");if(!!n){var o=this.getComponentContainer({withinChartClip:!0}),a=this.getOptions(),i=a.data.groupMapsTo,s=this.services.cartesianScales.getDomainIdentifier(),c=o.selectAll("circle.dot").data(this.getScatterData(),function(f){return f[i]+"-"+f[s]});c.exit().attr("opacity",0).remove();var d=c.enter().append("circle").classed("dot",!0).attr("opacity",0),l=d.merge(c);this.styleCircles(l,t),this.addEventListeners()}},r.prototype.isDatapointThresholdAnomaly=function(t,n){var o=this,a=this.configs.handleThresholds;if(!a)return!1;var i=this.services.cartesianScales,s=i.getOrientation(),c=v.flipDomainAndRangeBasedOnOrientation(this.services.cartesianScales.getHighestDomainThreshold(),this.services.cartesianScales.getHighestRangeThreshold(),s),d=c[0],l=c[1],f=v.flipDomainAndRangeBasedOnOrientation(function(b,y){return o.services.cartesianScales.getDomainValue(b,y)},function(b,y){return o.services.cartesianScales.getRangeValue(b,y)},s),u=f[0],h=f[1],p=u(t,n),m=h(t,n);if(l&&d)return m<=l.scaleValue&&p>=d.scaleValue;if(l)return m<=l.scaleValue;if(d)return p>=d.scaleValue},r.prototype.styleCircles=function(t,n){var o=this,a=this.getOptions(),i=a.points,s=i.filled,c=i.fillOpacity,d=this.services,l=d.cartesianScales;d.transitions;var f=a.data.groupMapsTo,u=function(g,w){return l.getDomainValue(g,w)},h=function(g,w){return l.getRangeValue(g,w)},p=v.flipDomainAndRangeBasedOnOrientation(u,h,l.getOrientation()),m=p[0],b=p[1],y=this.configs.fadeInOnChartHolderMouseover;t.raise().classed("dot",!0).attr("class",function(g){var w=l.getDomainIdentifier(g),k=o.model.getIsFilled(g[f],g[w],g,s),_=k?[ie.FILL,ie.STROKE]:[ie.STROKE];return o.model.getColorClassName({classNameTypes:_,dataGroupName:g[f],originalClassName:"dot"})}).classed("threshold-anomaly",function(g,w){return o.isDatapointThresholdAnomaly(g,w)}).classed("filled",function(g){var w=l.getDomainIdentifier(g);return o.model.getIsFilled(g[f],g[w],g,s)}).classed("unfilled",function(g){var w=l.getDomainIdentifier(g);return!o.model.getIsFilled(g[f],g[w],g,s)}).transition().call(function(g){return o.services.transitions.setupTransition({transition:g,name:"scatter-update-enter",animate:n})}).attr("cx",m).attr("cy",b).attr("r",a.points.radius).style("fill",function(g){var w=l.getDomainIdentifier(g);if(o.model.getIsFilled(g[f],g[w],g,s))return o.model.getFillColor(g[f],g[w],g)}).style("stroke",function(g){var w=l.getDomainIdentifier(g);return o.model.getStrokeColor(g[f],g[w],g)}).attr("fill-opacity",s?c:1).attr("opacity",y?0:1).attr("role",fe.GRAPHICS_SYMBOL).attr("aria-roledescription","point").attr("aria-label",function(g){var w=l.getRangeIdentifier(g);return g[w]}),this.addEventListeners()},r.prototype.getTooltipAdditionalItems=function(t){return null},r.prototype.addEventListeners=function(){var t=this,n=t.getOptions().data.groupMapsTo;this.parent.selectAll("circle").on("mouseover",function(o,a){var i=R(this);i.classed("hovered",!0).attr("class",function(s){return t.model.getColorClassName({classNameTypes:[ie.FILL],dataGroupName:s[n],originalClassName:i.attr("class")})}).style("fill",function(s){var c=t.services.cartesianScales.getDomainIdentifier(s);return t.model.getFillColor(s[n],s[c],s)}).classed("unfilled",!1),t.services.events.dispatchEvent(E.Tooltip.SHOW,{event:o,hoveredElement:i,data:[a],additionalItems:t.getTooltipAdditionalItems(a)}),t.services.events.dispatchEvent(E.Scatter.SCATTER_MOUSEOVER,{event:o,element:i,datum:a})}).on("mousemove",function(o,a){var i=R(this);t.services.events.dispatchEvent(E.Scatter.SCATTER_MOUSEMOVE,{event:o,element:i,datum:a}),t.services.events.dispatchEvent(E.Tooltip.MOVE,{event:o})}).on("click",function(o,a){t.services.events.dispatchEvent(E.Scatter.SCATTER_CLICK,{event:o,element:R(this),datum:a})}).on("mouseout",function(o,a){var i=R(this);if(i.classed("hovered",!1),!t.configs.filled){var s=t.getOptions().points.filled,c=t.services.cartesianScales.getDomainIdentifier(a),d=t.model.getIsFilled(a[n],a[c],a,s);i.classed("unfilled",!d).style("fill",function(l){return d||s?t.model.getFillColor(l[n],l[c],l):null})}t.services.events.dispatchEvent(E.Scatter.SCATTER_MOUSEOUT,{event:o,element:i,datum:a}),t.services.events.dispatchEvent(E.Tooltip.HIDE,{hoveredElement:i})})},r.prototype.destroy=function(){this.parent.selectAll("circle").on("mousemove",null).on("mouseout",null);var t=this.services.events;t.removeEventListener(E.Legend.ITEM_HOVER,this.handleLegendOnHover),t.removeEventListener(E.Legend.ITEM_MOUSEOUT,this.handleLegendMouseOut),t.removeEventListener(E.Chart.MOUSEOVER,this.handleChartHolderOnHover),t.removeEventListener(E.Chart.MOUSEOUT,this.handleChartHolderOnMouseOut)},r}(me),kM=globalThis&&globalThis.__extends||function(){var e=function(r,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var a in o)o.hasOwnProperty(a)&&(n[a]=o[a])},e(r,t)};return function(r,t){e(r,t);function n(){this.constructor=r}r.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),SM=function(e){kM(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.type="bubble",t.renderType=oe.SVG,t}return r.prototype.getRadiusScale=function(t){var n=this.getOptions(),o=n.bubble.radiusMapsTo,a=t.data(),i=a.map(function(l){return l[o]}).filter(function(l){return l}),s=D.getHTMLElementSize(this.services.domUtils.getMainContainer()),c=i.length>0,d=c?zt(i):[1,1];return Nt().domain(d).range(c?n.bubble.radiusRange(s,a):[4,4])},r.prototype.styleCircles=function(t,n){var o=this,a=this.getOptions(),i=a.bubble.radiusMapsTo,s=this.getRadiusScale(t),c=a.data.groupMapsTo,d=this.services.cartesianScales,l=function(m,b){return d.getDomainValue(m,b)},f=function(m,b){return d.getRangeValue(m,b)},u=v.flipDomainAndRangeBasedOnOrientation(l,f,d.getOrientation()),h=u[0],p=u[1];t.raise().classed("dot",!0).attr("role",fe.GRAPHICS_SYMBOL).attr("aria-label",function(m){var b=d.getRangeIdentifier(m);return m[b]}).transition().call(function(m){return o.services.transitions.setupTransition({transition:m,name:"bubble-update-enter",animate:n})}).attr("cx",h).attr("cy",p).attr("r",function(m){return s(m[i]||1)}).attr("class",function(m){return o.model.getColorClassName({classNameTypes:[ie.FILL,ie.STROKE],dataGroupName:m[c],originalClassName:"dot"})}).style("fill",function(m){var b=o.services.cartesianScales.getDomainIdentifier(m);return o.model.getFillColor(m[c],m[b],m)}).style("stroke",function(m){var b=o.services.cartesianScales.getDomainIdentifier(m);return o.model.getStrokeColor(m[c],m[b],m)}).attr("fill-opacity",a.bubble.fillOpacity).attr("opacity",1)},r.prototype.getTooltipAdditionalItems=function(t){var n=v.getProperty(this.getOptions(),"bubble");return[{label:v.getProperty(n,"radiusLabel"),value:t[v.getProperty(n,"radiusMapsTo")]}]},r}(Dt),MM=globalThis&&globalThis.__extends||function(){var e=function(r,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var a in o)o.hasOwnProperty(a)&&(n[a]=o[a])},e(r,t)};return function(r,t){e(r,t);function n(){this.constructor=r}r.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),EM=function(e){MM(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.type="bullet",t.renderType=oe.SVG,t.handleLegendOnHover=function(n){var o=n.detail.hoveredElement,a=t.getOptions().data.groupMapsTo;t.parent.selectAll("path.bar").transition("legend-hover-simple-bar").call(function(i){return t.services.transitions.setupTransition({transition:i,name:"legend-hover-simple-bar"})}).attr("opacity",function(i){return i[a]!==o.datum().name?.3:1})},t.handleLegendMouseOut=function(n){t.parent.selectAll("path.bar").transition("legend-mouseout-simple-bar").call(function(o){return t.services.transitions.setupTransition({transition:o,name:"legend-mouseout-simple-bar"})}).attr("opacity",1)},t}return r.prototype.init=function(){var t=this.services.events;t.addEventListener(E.Legend.ITEM_HOVER,this.handleLegendOnHover),t.addEventListener(E.Legend.ITEM_MOUSEOUT,this.handleLegendMouseOut)},r.prototype.render=function(t){var n=this,o=this.getOptions(),a=o.data.groupMapsTo,i=this.getComponentContainer({withinChartClip:!0}),s=this.model.getDisplayData(this.configs.groups),c=this.services.cartesianScales.getRangeScale(),d=this.services.cartesianScales.getRangeIdentifier(),l=c.range(),f=l[0],u=l[1],h=c.domain();h[0];var p=h[1],m=function(){var w=[];s.forEach(function(x){x.ranges?x.ranges.forEach(function(O,M){O!=null&&O<p&&w.push({datum:x,value:O,order:M+1})}):w.push({datum:x,order:1})});var k=D.appendOrSelect(i,"g.range-boxes").selectAll("path.range-box").data(w,function(x){return x[a]+"-"+x.order});k.exit().attr("opacity",0).remove();var _=k.enter().append("path").attr("opacity",0);_.merge(k).attr("class",function(x){return"range-box order-"+x.order}).transition().call(function(x){return n.services.transitions.setupTransition({transition:x,name:"bullet-range-box-update-enter",animate:t})}).attr("d",function(x,O){var M=16,T,A,S,P;return x.order===1?(T=n.services.cartesianScales.getDomainValue(x.datum,O)-M/2,A=T+M,S=u-2,P=f+1):(T=n.services.cartesianScales.getDomainValue(x.datum,O)-M/2,A=T+M,S=n.services.cartesianScales.getRangeValue(x.value,O),P=u),v.generateSVGPathString({x0:T,x1:A,y0:S,y1:P},n.services.cartesianScales.getOrientation())}).attr("opacity",1)},b=function(){var w=D.appendOrSelect(i,"g.bars").selectAll("path.bar").data(s,function(_){return _[a]});w.exit().attr("opacity",0).remove();var k=w.enter().append("path").attr("opacity",0);k.merge(w).classed("bar",!0).transition().call(function(_){return n.services.transitions.setupTransition({transition:_,name:"bullet-bar-update-enter",animate:t})}).attr("class",function(_){return n.model.getColorClassName({classNameTypes:[ie.FILL],dataGroupName:_[a],originalClassName:"bar"})}).style("fill",function(_){return n.model.getFillColor(_[a])}).attr("d",function(_,x){var O=8,M=n.services.cartesianScales.getDomainValue(_,x)-O/2,T=M+O,A=n.services.cartesianScales.getRangeValue(0)+1,S=n.services.cartesianScales.getRangeValue(_,x);return v.generateSVGPathString({x0:M,x1:T,y0:A,y1:S},n.services.cartesianScales.getOrientation())}).attr("opacity",1).attr("role",fe.GRAPHICS_SYMBOL).attr("aria-roledescription","bar").attr("aria-label",function(_){return _.value})},y=function(){var w=D.appendOrSelect(i,"g.markers").selectAll("path.marker").data(s.filter(function(_){return v.getProperty(_,"marker")!==null}),function(_){return _[a]});w.exit().attr("opacity",0).remove();var k=w.enter().append("path").attr("opacity",0);k.merge(w).classed("marker",!0).transition().call(function(_){return n.services.transitions.setupTransition({transition:_,name:"bullet-marker-update-enter",animate:t})}).attr("d",function(_,x){var O=24,M=n.services.cartesianScales.getDomainValue(_,x)-O/2,T=M+O,A=n.services.cartesianScales.getRangeValue(_.marker,x),S=A;return v.generateSVGPathString({x0:M,x1:T,y0:A,y1:S},n.services.cartesianScales.getOrientation())}).attr("opacity",1)},g=function(){var w=[];s.filter(function(x){return v.getProperty(x,"marker")!==null}).forEach(function(x){var O=x.marker,M=x[d];w=w.concat([{datum:x,value:O*.25,barValue:M},{datum:x,value:O*.5,barValue:M},{datum:x,value:O*.75,barValue:M}])});var k=D.appendOrSelect(i,"g.quartiles").selectAll("path.quartile").data(w,function(x){return x[a]});k.exit().attr("opacity",0).remove();var _=k.enter().append("path").attr("opacity",0);_.merge(k).attr("class",function(x){return"quartile "+(x.value<=x.barValue?"over-bar":"")}).transition().call(function(x){return n.services.transitions.setupTransition({transition:x,name:"bullet-quartile-update-enter",animate:t})}).attr("d",function(x,O){var M=x.datum,T=x.value,A=4;M.ranges&&M.ranges.indexOf(T)!==-1&&(A=8);var S=n.services.cartesianScales.getDomainValue(M,O)-A/2,P=S+A,I=n.services.cartesianScales.getRangeValue(T,O),L=I;return v.generateSVGPathString({x0:S,x1:P,y0:I,y1:L},n.services.cartesianScales.getOrientation())}).attr("opacity",1)};m(),b(),y(),g(),this.addEventListeners()},r.prototype.addEventListeners=function(){var t=this,n=this.getOptions(),o=n.data.groupMapsTo,a=this.services.cartesianScales.getRangeIdentifier();this.parent.selectAll("path.bar").on("mouseover",function(i,s){var c=R(this);c.classed("hovered",!0),t.services.events.dispatchEvent(E.Bar.BAR_MOUSEOVER,{event:i,element:c,datum:s});var d=v.getProperty(n,"bullet","performanceAreaTitles"),l=t.model.getMatchingRangeIndexForDatapoint(s);t.services.events.dispatchEvent(E.Tooltip.SHOW,{event:i,hoveredElement:c,items:[{label:n.tooltip.groupLabel||"Group",value:s[o],class:t.model.getColorClassName({classNameTypes:[ie.TOOLTIP],dataGroupName:s[o]})},{label:"Value",value:s[a]},{label:"Target",value:s.marker},{label:"Percentage",value:Math.floor(s[a]/s.marker*100)+"%"},{label:"Performance",value:d[l]}]})}).on("mousemove",function(i,s){t.services.events.dispatchEvent(E.Bar.BAR_MOUSEMOVE,{event:i,element:R(this),datum:s}),t.services.events.dispatchEvent(E.Tooltip.MOVE,{event:i})}).on("click",function(i,s){t.services.events.dispatchEvent(E.Bar.BAR_CLICK,{event:i,element:R(this),datum:s})}).on("mouseout",function(i,s){var c=R(this);c.classed("hovered",!1),t.services.events.dispatchEvent(E.Bar.BAR_MOUSEOUT,{event:i,element:c,datum:s}),t.services.events.dispatchEvent(E.Tooltip.HIDE,{hoveredElement:c})})},r.prototype.destroy=function(){this.parent.selectAll("path.bar").on("mouseover",null).on("mousemove",null).on("mouseout",null);var t=this.services.events;t.removeEventListener(E.Legend.ITEM_HOVER,this.handleLegendOnHover),t.removeEventListener(E.Legend.ITEM_MOUSEOUT,this.handleLegendMouseOut)},r}(me),TM=globalThis&&globalThis.__extends||function(){var e=function(r,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var a in o)o.hasOwnProperty(a)&&(n[a]=o[a])},e(r,t)};return function(r,t){e(r,t);function n(){this.constructor=r}r.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),OM=function(e){TM(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.type="histogram",t.renderType=oe.SVG,t.handleLegendOnHover=function(n){var o=n.detail.hoveredElement,a=t.getOptions(),i=a.data.groupMapsTo;t.parent.selectAll("path.bar").transition("legend-hover-bar").call(function(s){return t.services.transitions.setupTransition({transition:s,name:"legend-hover-bar"})}).attr("opacity",function(s){return s[i]!==o.datum().name?.3:1})},t.handleLegendMouseOut=function(n){t.parent.selectAll("path.bar").transition("legend-mouseout-bar").call(function(o){return t.services.transitions.setupTransition({transition:o,name:"legend-mouseout-bar"})}).attr("opacity",1)},t}return r.prototype.init=function(){var t=this.services.events;t.addEventListener(E.Legend.ITEM_HOVER,this.handleLegendOnHover),t.addEventListener(E.Legend.ITEM_MOUSEOUT,this.handleLegendMouseOut)},r.prototype.render=function(t){var n=this,o=this.getComponentContainer(),a=this.model.getOptions(),i=a.groupIdentifier,s=a.data.groupMapsTo,c=this.model.getBinnedStackedData(),d=this.services.cartesianScales.getMainXScale(),l=o.selectAll("g.bars").data(c,function(u){return Te(u,"0."+s)});l.exit().attr("opacity",0).remove(),l.enter().append("g").classed("bars",!0).attr("role",fe.GROUP);var f=o.selectAll("g.bars").selectAll("path.bar").data(function(u){return u});f.exit().remove(),f.enter().append("path").merge(f).classed("bar",!0).attr(i,function(u,h){return h}).transition().call(function(u){return n.services.transitions.setupTransition({transition:u,name:"histogram-bar-update-enter",animate:t})}).attr("class",function(u){return n.model.getColorClassName({classNameTypes:[ie.FILL],dataGroupName:u[s],originalClassName:"bar"})}).style("fill",function(u){return n.model.getFillColor(u[s])}).attr("d",function(u,h){var p=Te(u,"data");if(!!p){var m=d(p.x1)-d(p.x0)-1,b=n.services.cartesianScales.getDomainValue(p.x0,h),y=b+m,g=n.services.cartesianScales.getRangeValue(u[0],h),w=n.services.cartesianScales.getRangeValue(u[1],h);return Math.abs(w-g)>0&&Math.abs(w-g)>a.bars.dividerSize&&(n.services.cartesianScales.getOrientation()===He.VERTICAL?w+=1:w-=1),v.generateSVGPathString({x0:b,x1:y,y0:g,y1:w},n.services.cartesianScales.getOrientation())}}).attr("opacity",1).attr("role",fe.GRAPHICS_SYMBOL).attr("aria-roledescription","bar").attr("aria-label",function(u){return v.getProperty(u,"data",u[s])}),this.addEventListeners()},r.prototype.addEventListeners=function(){var t=this.model.getOptions(),n=t.data.groupMapsTo,o=this;this.parent.selectAll("path.bar").on("mouseover",function(a,i){var s=R(this);s.classed("hovered",!0);var c=parseFloat(Te(i,"data.x0")),d=parseFloat(Te(i,"data.x1")),l=o.services.cartesianScales.getRangeAxisPosition(),f=o.services.cartesianScales.getScaleLabel(l);o.services.events.dispatchEvent(E.Tooltip.SHOW,{event:a,hoveredElement:s,items:[{label:Te(t,"bins.rangeLabel")||"Range",value:c+" \u2013 "+d},{label:t.tooltip.groupLabel||"Group",value:i[n],class:o.model.getColorClassName({classNameTypes:[ie.TOOLTIP],dataGroupName:i[n]})},{label:f,value:Te(i,"data."+i[n])}]})}).on("mousemove",function(a,i){o.services.events.dispatchEvent(E.Tooltip.MOVE,{event:a})}).on("mouseout",function(a,i){var s=R(this);s.classed("hovered",!1),o.services.events.dispatchEvent(E.Tooltip.HIDE)})},r.prototype.destroy=function(){this.parent.selectAll("path.bar").on("mouseover",null).on("mousemove",null).on("mouseout",null);var t=this.services.events;t.removeEventListener(E.Legend.ITEM_HOVER,this.handleLegendOnHover),t.removeEventListener(E.Legend.ITEM_MOUSEOUT,this.handleLegendMouseOut)},r}(me),AM=globalThis&&globalThis.__extends||function(){var e=function(r,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var a in o)o.hasOwnProperty(a)&&(n[a]=o[a])},e(r,t)};return function(r,t){e(r,t);function n(){this.constructor=r}r.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),hn=function(e){AM(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.type="line",t.renderType=oe.SVG,t.handleLegendOnHover=function(n){var o=n.detail.hoveredElement;t.parent.selectAll("path.line").transition("legend-hover-line").call(function(a){return t.services.transitions.setupTransition({transition:a,name:"legend-hover-line"})}).attr("opacity",function(a){return a.name!==o.datum().name?Bt.opacity.unselected:Bt.opacity.selected})},t.handleLegendMouseOut=function(n){t.parent.selectAll("path.line").transition("legend-mouseout-line").call(function(o){return t.services.transitions.setupTransition({transition:o,name:"legend-mouseout-line"})}).attr("opacity",Bt.opacity.selected)},t}return r.prototype.init=function(){var t=this.services.events;t.addEventListener(E.Legend.ITEM_HOVER,this.handleLegendOnHover),t.addEventListener(E.Legend.ITEM_MOUSEOUT,this.handleLegendMouseOut)},r.prototype.render=function(t){var n=this;t===void 0&&(t=!0);var o=this.getComponentContainer({withinChartClip:!0}),a=this.services,i=a.cartesianScales,s=a.curves,c=function(_,x){return i.getDomainValue(_,x)},d=function(_,x){return i.getRangeValue(_,x)},l=v.flipDomainAndRangeBasedOnOrientation(c,d,i.getOrientation()),f=l[0],u=l[1],h=this.getOptions(),p=hi().x(f).y(u).curve(s.getD3Curve()).defined(function(_,x){var O=i.getRangeIdentifier(_),M=_[O];return M!=null}),m=[];if(this.configs.stacked){var b=Object.keys(h.axes).some(function(_){return h.axes[_].percentage}),y=h.data.groupMapsTo,g=this.model.getStackedData({groups:this.configs.groups,percentage:b});m=g.map(function(_){var x=n.services.cartesianScales.getDomainIdentifier(_),O=n.services.cartesianScales.getRangeIdentifier(_);return{name:v.getProperty(_,0,y),data:_.map(function(M){var T;return T={},T[x]=M.data.sharedStackKey,T[y]=M[y],T[O]=M[1],T}),hidden:!v.some(_,function(M){return M[0]!==M[1]})}})}else m=this.model.getGroupedData(this.configs.groups);var w=o.selectAll("path.line").data(m,function(_){return _.name});w.exit().attr("opacity",0).remove();var k=w.enter().append("path").classed("line",!0).attr("opacity",0);k.merge(w).data(m,function(_){return _.name}).attr("class",function(_){return n.model.getColorClassName({classNameTypes:[ie.STROKE],dataGroupName:_.name,originalClassName:"line"})}).style("stroke",function(_){return n.model.getStrokeColor(_.name)}).attr("role",fe.GRAPHICS_SYMBOL).attr("aria-roledescription","line").attr("aria-label",function(_){var x=_.data;return x.map(function(O){var M=n.services.cartesianScales.getRangeIdentifier(O);return O[M]}).join(",")}).transition().call(function(_){return n.services.transitions.setupTransition({transition:_,name:"line-update-enter",animate:t})}).attr("opacity",function(_){return _.hidden?0:1}).attr("d",function(_){var x=_.data;return p(x)})},r.prototype.destroy=function(){var t=this.services.events;t.removeEventListener(E.Legend.ITEM_HOVER,this.handleLegendOnHover),t.removeEventListener(E.Legend.ITEM_MOUSEOUT,this.handleLegendMouseOut)},r}(me),PM=globalThis&&globalThis.__extends||function(){var e=function(r,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var a in o)o.hasOwnProperty(a)&&(n[a]=o[a])},e(r,t)};return function(r,t){e(r,t);function n(){this.constructor=r}r.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),UM=function(e){PM(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.type="lollipop",t.renderType=oe.SVG,t.handleScatterOnHover=function(n){var o=n.detail,a=t.getOptions(),i=a.data.groupMapsTo;t.parent.selectAll("line.line").attr("stroke-width",function(s){return s[i]!==o.datum[i]?Bt.weight.unselected:Bt.weight.selected})},t.handleScatterOnMouseOut=function(n){t.parent.selectAll("line.line").attr("stroke-width",Bt.weight.unselected)},t.handleLegendOnHover=function(n){var o=n.detail.hoveredElement,a=t.getOptions(),i=a.data.groupMapsTo;t.parent.selectAll("line.line").transition("legend-hover-line").call(function(s){return t.services.transitions.setupTransition({transition:s,name:"legend-hover-line"})}).attr("opacity",function(s){return s[i]!==o.datum().name?Bt.opacity.unselected:Bt.opacity.selected})},t.handleLegendMouseOut=function(n){t.parent.selectAll("line.line").transition("legend-mouseout-line").call(function(o){return t.services.transitions.setupTransition({transition:o,name:"legend-mouseout-line"})}).attr("opacity",Bt.opacity.selected)},t}return r.prototype.init=function(){var t=this.services.events;t.addEventListener(E.Legend.ITEM_HOVER,this.handleLegendOnHover),t.addEventListener(E.Legend.ITEM_MOUSEOUT,this.handleLegendMouseOut)},r.prototype.render=function(t){var n=this,o=this.getComponentContainer({withinChartClip:!0}),a=this.model.getOptions(),i=a.data.groupMapsTo,s=this.services.cartesianScales,c=s.getMainXScale(),d=s.getMainYScale(),l=s.getDomainIdentifier(),f=function(k,_){return s.getDomainValue(k,_)},u=function(k,_){return s.getRangeValue(k,_)},h=s.getOrientation(),p=v.flipDomainAndRangeBasedOnOrientation(f,u,h),m=p[0],b=p[1],y=o.selectAll("line.line").data(this.getScatterData(),function(k){return k[i]+"-"+k[l]});y.exit().attr("opacity",0).remove();var g=y.enter().append("line").attr("opacity",0),w=g.merge(y).classed("line",!0).attr("class",function(k){return n.model.getColorClassName({classNameTypes:[ie.STROKE],dataGroupName:k[i],originalClassName:"line"})}).transition().call(function(k){return n.services.transitions.setupTransition({transition:k,name:"lollipop-line-update-enter",animate:t})}).style("stroke",function(k){return n.model.getFillColor(k[i],k[l],k)}).attr("opacity",1);h===He.HORIZONTAL?w.attr("y1",b).attr("y2",b).attr("x1",c.range()[0]).attr("x2",function(k,_){return m(k,_)-a.points.radius}):w.attr("x1",m).attr("x2",m).attr("y1",d.range()[0]).attr("y2",function(k,_){return b(k,_)+a.points.radius}),this.addScatterPointEventListeners()},r.prototype.addScatterPointEventListeners=function(){this.services.events.addEventListener(E.Scatter.SCATTER_MOUSEOVER,this.handleScatterOnHover),this.services.events.addEventListener(E.Scatter.SCATTER_MOUSEOUT,this.handleScatterOnMouseOut)},r.prototype.destroy=function(){var t=this.services.events;t.removeEventListener(E.Legend.ITEM_HOVER,this.handleLegendOnHover),t.removeEventListener(E.Legend.ITEM_MOUSEOUT,this.handleLegendMouseOut),t.removeEventListener(E.Scatter.SCATTER_MOUSEOVER,this.handleScatterOnHover),t.removeEventListener(E.Scatter.SCATTER_MOUSEOUT,this.handleScatterOnMouseOut)},r}(Dt),CM=globalThis&&globalThis.__extends||function(){var e=function(r,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var a in o)o.hasOwnProperty(a)&&(n[a]=o[a])},e(r,t)};return function(r,t){e(r,t);function n(){this.constructor=r}r.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Cg=function(e){CM(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.type="scatter-stacked",t.renderType=oe.SVG,t}return r.prototype.render=function(t){var n=this,o=v.getProperty(this.getOptions(),"points","enabled");if(!!o){var a=this.getComponentContainer({withinChartClip:!0}),i=this.getOptions(),s=i.data.groupMapsTo,c=Object.keys(i.axes).some(function(m){return i.axes[m].percentage}),d=this.model.getStackedData({groups:this.configs.groups,percentage:c}),l=a.selectAll("g.dots").data(d,function(m){return v.getProperty(m,0,s)});l.exit().attr("opacity",0).remove();var f=l.enter().append("g").classed("dots",!0).attr("role",fe.GROUP),u=f.merge(l).selectAll("circle.dot").data(function(m){return m});u.exit().attr("opacity",0).remove();var h=u.enter().append("circle").classed("dot",!0).attr("opacity",0),p=h.merge(u).datum(function(m){var b,y=m[s],g=n.services.cartesianScales.getDomainIdentifier(m),w=n.services.cartesianScales.getRangeIdentifier(m);return b={},b[s]=y,b[g]=m.data.sharedStackKey,b[w]=m[1],b});this.styleCircles(p,t),this.addEventListeners()}},r.prototype.getTooltipData=function(t,n){var o=this,a=this.getOptions(),i=a.data.groupMapsTo,s=Object.keys(a.axes).some(function(l){return a.axes[l].percentage}),c=this.model.getStackedData({groups:this.configs.groups,percentage:s}),d=[];return c.forEach(function(l,f){l.forEach(function(u,h){var p,m=u[i],b=u.data.sharedStackKey,y=u.data[m],g=u[1],w=o.services.cartesianScales.getDomainIdentifier(u),k=o.services.cartesianScales.getRangeIdentifier(u);y!=null&&t===o.services.cartesianScales.getDomainValue(b)&&n===o.services.cartesianScales.getRangeValue(g)&&(s&&(y=o.model.getStackedData({groups:o.configs.groups})[f][h].data[m]),y!==null&&d.push((p={},p[i]=m,p[w]=b,p[k]=y,p)))})}),this.model.getDisplayData(this.configs.groups).filter(function(l){var f=o.services.cartesianScales.getDomainIdentifier(l),u=o.services.cartesianScales.getRangeIdentifier(l);return d.find(function(h){return h[i]==l[i]&&h[f]==l[f]&&h[u]==l[u]})!==void 0})},r}(Dt),BM=globalThis&&globalThis.__extends||function(){var e=function(r,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var a in o)o.hasOwnProperty(a)&&(n[a]=o[a])},e(r,t)};return function(r,t){e(r,t);function n(){this.constructor=r}r.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();function IM(e,r){var t=this,n=Uo(this._current,e);return function(o){return t._current=n(o),r(t._current)}}var Bg=function(e){BM(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.type="pie",t.renderType=oe.SVG,t.handleLegendOnHover=function(n){var o=n.detail.hoveredElement,a=t.getOptions().data.groupMapsTo;t.parent.selectAll("path.slice").transition("legend-hover-bar").call(function(i){return t.services.transitions.setupTransition({transition:i,name:"legend-hover-bar"})}).attr("opacity",function(i){return i.data[a]!==o.datum().name?.3:1})},t.handleLegendMouseOut=function(n){t.parent.selectAll("path.slice").transition("legend-mouseout-bar").call(function(o){return t.services.transitions.setupTransition({transition:o,name:"legend-mouseout-bar"})}).attr("opacity",1)},t}return r.prototype.init=function(){var t=this.services.events;t.addEventListener(E.Legend.ITEM_HOVER,this.handleLegendOnHover),t.addEventListener(E.Legend.ITEM_MOUSEOUT,this.handleLegendMouseOut)},r.prototype.getInnerRadius=function(){return Se.innerRadius},r.prototype.render=function(t){var n=this;t===void 0&&(t=!0);var o=this,a=this.getComponentContainer(),i=this.getOptions(),s=i.data.groupMapsTo,c=i.pie.valueMapsTo,d=this.model.getDisplayData().filter(function(L){return L[c]>0}),l=this.computeRadius();this.arc=mo().innerRadius(this.getInnerRadius()).outerRadius(l),this.hoverArc=mo().innerRadius(this.getInnerRadius()).outerRadius(l+Se.hoverArc.outerRadiusOffset);var f=X5().value(function(L){return L[c]}).sort(v.getProperty(i,"pie","sortFunction")).padAngle(Se.padAngle),u=f(d),h=D.appendOrSelect(a,"g.slices").attr("role",fe.GROUP).attr("data-name","slices"),p=h.selectAll("path.slice").data(u,function(L){return L.data[s]});p.exit().attr("opacity",0).remove();var m=p.enter().append("path").classed("slice",!0).attr("opacity",0),b=m.merge(p).attr("class",function(L){return n.model.getColorClassName({classNameTypes:[ie.FILL],dataGroupName:L.data[s],originalClassName:"slice"})}).style("fill",function(L){return o.model.getFillColor(L.data[s])}).attr("d",this.arc);b.transition().call(function(L){return n.services.transitions.setupTransition({transition:L,name:"pie_slice_enter_update",animate:t})}).attr("opacity",1).attr("role",fe.GRAPHICS_SYMBOL).attr("aria-roledescription","slice").attr("aria-label",function(L){return L[c]+", "+(v.convertValueToPercentage(L.data[c],d,c)+"%")}).attrTween("d",function(L){return IM.bind(this)(L,o.arc)});var y=i.pie.labels.enabled,g=y?u.filter(function(L){return L.data[c]>0}):[],w=D.appendOrSelect(a,"g.labels").attr("role",fe.GROUP).attr("data-name","labels"),k=w.selectAll("text.pie-label").data(g,function(L){return L.data[s]});k.exit().attr("opacity",0).remove();var _=k.enter().append("text").classed("pie-label",!0),x=[];_.merge(k).style("text-anchor","middle").text(function(L){return i.pie.labels.formatter?i.pie.labels.formatter(L):v.convertValueToPercentage(L.data[c],d,c)+"%"}).datum(function(L){var B=l+7,C=(L.endAngle-L.startAngle)/2+L.startAngle,z=C/Math.PI*180,F=this.getComputedTextLength();return L.textOffsetX=F/2,L.textOffsetY=z>90&&z<270?10:0,L.xPosition=(L.textOffsetX+B)*Math.sin(C),L.yPosition=(L.textOffsetY+B)*-Math.cos(C),L}).attr("transform",function(L,B){var C=g.length,z=(L.endAngle-L.startAngle)*(180/Math.PI);if(B>=C-2&&z<Se.callout.minSliceDegree){var F=void 0,U=void 0;return L.index===C-1?(F=L.xPosition+Se.callout.offsetX+Se.callout.textMargin+L.textOffsetX,U=L.yPosition-Se.callout.offsetY,L.direction=Qn.RIGHT,x.push(L)):(F=L.xPosition-Se.callout.offsetX-L.textOffsetX-Se.callout.textMargin,U=L.yPosition-Se.callout.offsetY,L.direction=Qn.LEFT,x.push(L)),"translate("+F+", "+U+")"}return"translate("+L.xPosition+", "+L.yPosition+")"}),this.renderCallouts(x);var O=v.getProperty(i,"donut")?"donut":"pie",M=v.getProperty(i,O,"alignment"),T=D.getSVGElementSize(this.getParent(),{useAttrs:!0}).width,A=y?Se.xOffset:0,S=y?Se.yOffset:0,P=l+A;M===Ve.CENTER?P=T/2:M===Ve.RIGHT&&(P=T-l-Se.xOffset);var I=l+S;x.length>0&&(I+=Se.yOffsetCallout),a.attr("x",P+7).attr("y",I),this.addEventListeners()},r.prototype.renderCallouts=function(t){var n=D.appendOrSelect(this.getComponentContainer(),"g.callouts").attr("role",fe.GROUP).attr("data-name","callouts"),o=n.selectAll("g.callout").data(t);o.exit().remove();var a=o.enter().append("g").classed("callout",!0).attr("role",fe.GROUP).attr("aria-roledescription","label callout");a.merge(o).datum(function(c){var d=c.xPosition,l=c.yPosition,f=c.direction;return f===Qn.RIGHT?(c.startPos={x:d,y:l+c.textOffsetY},c.endPos={x:d+Se.callout.offsetX,y:l-Se.callout.offsetY+c.textOffsetY},c.intersectPointX=c.endPos.x-Se.callout.horizontalLineLength):(c.startPos={x:d,y:l+c.textOffsetY},c.endPos={x:d-Se.callout.offsetX,y:l-Se.callout.offsetY+c.textOffsetY},c.intersectPointX=c.endPos.x+Se.callout.horizontalLineLength),c});var i=a.append("line").classed("vertical-line",!0);i.merge(n.selectAll("line.vertical-line")).datum(function(c){return R(this.parentNode).datum()}).style("stroke-width","1px").attr("x1",function(c){return c.startPos.x}).attr("y1",function(c){return c.startPos.y}).attr("x2",function(c){return c.intersectPointX}).attr("y2",function(c){return c.endPos.y});var s=a.append("line").classed("horizontal-line",!0);s.merge(n.selectAll("line.horizontal-line")).datum(function(c){return R(this.parentNode).datum()}).style("stroke-width","1px").attr("x1",function(c){return c.intersectPointX}).attr("y1",function(c){return c.endPos.y}).attr("x2",function(c){return c.endPos.x}).attr("y2",function(c){return c.endPos.y})},r.prototype.addEventListeners=function(){var t=this;this.parent.selectAll("path.slice").on("mouseover",function(n,o){var a=R(this);a.classed("hovered",!0).transition("pie_slice_mouseover").call(function(c){return t.services.transitions.setupTransition({transition:c,name:"pie_slice_mouseover"})}).attr("d",t.hoverArc),t.services.events.dispatchEvent(E.Pie.SLICE_MOUSEOVER,{event:n,element:R(this),datum:o});var i=t.getOptions().data.groupMapsTo,s=t.getOptions().pie.valueMapsTo;t.services.events.dispatchEvent(E.Tooltip.SHOW,{event:n,hoveredElement:a,items:[{label:o.data[i],value:o.data[s]}]})}).on("mousemove",function(n,o){var a=R(this);t.services.events.dispatchEvent(E.Pie.SLICE_MOUSEMOVE,{event:n,element:a,datum:o}),t.services.events.dispatchEvent(E.Tooltip.MOVE,{event:n})}).on("click",function(n,o){t.services.events.dispatchEvent(E.Pie.SLICE_CLICK,{event:n,element:R(this),datum:o})}).on("mouseout",function(n,o){var a=R(this);a.classed("hovered",!1).transition("pie_slice_mouseout").call(function(i){return t.services.transitions.setupTransition({transition:i,name:"pie_slice_mouseout"})}).attr("d",t.arc),t.services.events.dispatchEvent(E.Pie.SLICE_MOUSEOUT,{event:n,element:a,datum:o}),t.services.events.dispatchEvent(E.Tooltip.HIDE,{hoveredElement:a})})},r.prototype.computeRadius=function(){var t=D.getSVGElementSize(this.parent,{useAttrs:!0}),n=t.width,o=t.height,a=this.getOptions(),i=Math.min(n,o)/2,s=a.pie.labels.enabled;return s?i+Se.radiusOffset:i},r}(me),zM=globalThis&&globalThis.__extends||function(){var e=function(r,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var a in o)o.hasOwnProperty(a)&&(n[a]=o[a])},e(r,t)};return function(r,t){e(r,t);function n(){this.constructor=r}r.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Gf="4,10 8,6 12,10",jf="12,6 8,10 4,6",LM=function(e){zM(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.type="gauge",t.renderType=oe.SVG,t}return r.prototype.getValue=function(){var t,n,o=this.model.getData(),a=(n=(t=o.find(function(i){return i.group==="value"}))===null||t===void 0?void 0:t.value,n!=null?n:null);return a},r.prototype.getValueRatio=function(){var t=v.clamp(this.getValue(),0,100);return t/100},r.prototype.getDelta=function(){var t,n,o=this.model.getData(),a=(n=(t=o.find(function(i){return i.group==="delta"}))===null||t===void 0?void 0:t.value,n!=null?n:null);return a},r.prototype.getArcRatio=function(){var t=this.getOptions(),n=v.getProperty(t,"gauge","type"),o=n===Er.FULL?1:.5;return o},r.prototype.getArcSize=function(){return this.getArcRatio()*Math.PI*2},r.prototype.getStartAngle=function(){var t=this.getArcSize();return t===2*Math.PI?0:-t/2},r.prototype.getArrow=function(t){var n=this.getOptions(),o=v.getProperty(n,"gauge","deltaArrow","direction");switch(o){case va.UP:return Gf;case va.DOWN:return jf;default:return t>0?Gf:jf}},r.prototype.render=function(t){var n=this,o=this.getComponentContainer().attr("width","100%").attr("height","100%"),a=this.getOptions(),i=this.getValue(),s=this.getValueRatio(),c=this.getArcSize(),d=this.getStartAngle(),l=s*c,f=d+l,u=d+c,h=this.computeRadius(),p=this.getInnerRadius();this.backgroundArc=mo().innerRadius(p).outerRadius(h).startAngle(f).endAngle(u),this.arc=mo().innerRadius(p).outerRadius(h).startAngle(d).endAngle(f),D.appendOrSelect(o,"path.arc-background").attr("d",this.backgroundArc);var m=o.selectAll("path.arc-foreground").data([i]),b=m.enter().append("path");b.merge(m).attr("class",this.model.getColorClassName({classNameTypes:[ie.FILL],dataGroupName:"value",originalClassName:"arc-foreground"})).style("fill",function(k){return v.getProperty(n.getOptions(),"color","scale","value")}).attr("d",this.arc).attr("role",fe.GRAPHICS_SYMBOL).attr("aria-roledescription","value").attr("aria-label",function(k){return k}),this.drawValueNumber(),this.drawDelta(),m.exit().remove();var y=v.getProperty(a,"gauge","alignment"),g=D.getSVGElementSize(this.getParent(),{useAttrs:!0}).width,w=h;y===Ve.CENTER?w=g/2:y===Ve.RIGHT&&(w=g-h),o.attr("x",w).attr("y",h),this.addEventListeners()},r.prototype.drawValueNumber=function(){var t=this.getComponentContainer(),n=this.getOptions(),o=v.getProperty(n,"gauge","type"),a=this.getValue(),i=this.getDelta(),s=this.computeRadius(),c=v.getProperty(n,"gauge","valueFontSize"),d=v.getProperty(n,"gauge","deltaFontSize"),l=v.getProperty(n,"gauge","numberSpacing"),f=v.getProperty(n,"gauge","showPercentageSymbol"),u=0;o===Er.FULL&&!i?u=d(s):o===Er.SEMI&&i&&(u=-(d(s)+l));var h=D.appendOrSelect(t,"g.gauge-numbers").attr("transform","translate(0, "+u+")"),p=c(s),m=D.appendOrSelect(h,"g.gauge-value-number"),b=v.getProperty(n,"gauge","numberFormatter"),y=m.selectAll("text.gauge-value-number").data([a]);y.enter().append("text").attr("class","gauge-value-number").merge(y).style("font-size",p+"px").attr("text-anchor","middle").text(function(T){return b(T)});var g=D.getSVGElementSize(D.appendOrSelect(t,"text.gauge-value-number"),{useBBox:!0}).width,w=p/2,k=f?"%":"",_=D.appendOrSelect(m,"text.gauge-value-symbol").style("font-size",w+"px").attr("x",g/2).text(k),x=D.getSVGElementSize(_,{useBBox:!0}),O=x.width,M=x.height;_.attr("y","-"+M/2+"px"),m.attr("transform","translate(-"+O/2+", 0)")},r.prototype.drawDelta=function(){var t=this,n=this.getComponentContainer(),o=this.getOptions(),a=this.getDelta(),i=this.computeRadius(),s=a?v.getProperty(o,"gauge","deltaFontSize"):function(){return 0},c=a?v.getProperty(o,"gauge","numberFormatter"):function(){return null},d=v.getProperty(o,"gauge","deltaArrow","size"),l=v.getProperty(o,"gauge","numberSpacing"),f=v.getProperty(o,"gauge","showPercentageSymbol"),u=D.appendOrSelect(n,"g.gauge-numbers"),h=D.appendOrSelect(u,"g.gauge-delta").attr("transform","translate(0, "+(s(i)+l)+")"),p=D.appendOrSelect(h,"text.gauge-delta-number"),m=f?"%":"";p.data(a===null?[]:[a]),p.enter().append("text").classed("gauge-delta-number",!0).merge(p).attr("text-anchor","middle").style("font-size",s(i)+"px").text(function(w){return""+c(w)+m});var b=D.getSVGElementSize(D.appendOrSelect(n,".gauge-delta-number"),{useBBox:!0}).width,y=v.getProperty(o,"gauge","deltaArrow","enabled"),g=h.selectAll("svg.gauge-delta-arrow").data(a!==null&&y?[a]:[]);g.enter().append("svg").merge(g).attr("class","gauge-delta-arrow").attr("x",-d(i)-b/2).attr("y",-d(i)/2-s(i)*.35).attr("width",d(i)).attr("height",d(i)).attr("viewBox","0 0 16 16").each(function(){var w=R(this);D.appendOrSelect(w,"rect.gauge-delta-arrow-backdrop").attr("width","16").attr("height","16").attr("fill","none");var k=v.getProperty(o,"gauge","status");D.appendOrSelect(w,"polygon.gauge-delta-arrow").attr("class",k!==null?"gauge-delta-arrow status--"+k:"").attr("points",t.getArrow(a))}),g.exit().remove(),p.exit().remove()},r.prototype.getInnerRadius=function(){var t=this.computeRadius(),n=v.getProperty(this.getOptions(),"gauge","arcWidth");return t-n},r.prototype.addEventListeners=function(){var t=this;this.parent.selectAll("path.arc-foreground").on("mouseover",function(n,o){t.services.events.dispatchEvent(E.Gauge.ARC_MOUSEOVER,{event:n,element:R(this),datum:o})}).on("mousemove",function(n,o){var a=R(this);t.services.events.dispatchEvent(E.Gauge.ARC_MOUSEMOVE,{event:n,element:a,datum:o})}).on("click",function(n,o){t.services.events.dispatchEvent(E.Gauge.ARC_CLICK,{event:n,element:R(this),datum:o})}).on("mouseout",function(n,o){var a=R(this);t.services.events.dispatchEvent(E.Gauge.ARC_MOUSEOUT,{event:n,element:a,datum:o})})},r.prototype.computeRadius=function(){var t=this.getOptions(),n=v.getProperty(t,"gauge","type"),o=D.getSVGElementSize(this.parent,{useAttrs:!0}),a=o.width,i=o.height,s=n===Er.SEMI?Math.min(a/2,i):Math.min(a/2,i/2);return s},r}(me),DM=globalThis&&globalThis.__extends||function(){var e=function(r,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var a in o)o.hasOwnProperty(a)&&(n[a]=o[a])},e(r,t)};return function(r,t){e(r,t);function n(){this.constructor=r}r.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),RM=function(e){DM(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.type="donut",t.renderType=oe.SVG,t}return r.prototype.render=function(t){var n=this;t===void 0&&(t=!0),e.prototype.render.call(this,t);var o=this;if(this.model.isDataEmpty()){this.getComponentContainer().select("g.center").remove();return}var a=D.appendOrSelect(this.getComponentContainer(),"g.center"),i=this.getOptions(),s=this.computeRadius(),c=v.getProperty(i,"donut","center","label");D.appendOrSelect(a,"text.donut-figure").attr("text-anchor","middle").style("dominant-baseline",function(){return c===null||c===""?"central":"initial"}).style("font-size",function(){return i.donut.center.numberFontSize(s)}).transition().call(function(d){return n.services.transitions.setupTransition({transition:d,name:"donut-figure-enter-update",animate:t})}).tween("text",function(){return o.centerNumberTween(R(this))}),c!==null&&c!==""&&D.appendOrSelect(a,"text.donut-title").attr("text-anchor","middle").style("font-size",function(){return i.donut.center.titleFontSize(s)}).attr("y",i.donut.center.titleYPosition(s)).text(c)},r.prototype.getInnerRadius=function(){var t=this.computeRadius();return t*(3/4)},r.prototype.centerNumberTween=function(t){var n=this.getOptions(),o=v.getProperty(n,"donut","center","number");o===null&&(o=this.model.getDisplayData().reduce(function(c,d){return c+d[n.pie.valueMapsTo]},0));var a=parseInt(t.text().replace(/[, ]+/g,""),10)||0,i;a%1===0&&o%1===0?i=bh:i=pt;var s=i(a,o);return function(c){var d=n.donut.center.numberFormatter;t.text(d(s(c)))}},r}(Bg),FM=globalThis&&globalThis.__extends||function(){var e=function(r,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var a in o)o.hasOwnProperty(a)&&(n[a]=o[a])},e(r,t)};return function(r,t){e(r,t);function n(){this.constructor=r}r.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),ot=function(e){FM(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.type="skeleton",t}return r.prototype.render=function(){var t=v.getProperty(this.getOptions(),"data","loading");t?this.renderSkeleton(t):this.removeSkeleton()},r.prototype.renderSkeleton=function(t){if(this.configs.skeleton===Ne.GRID)this.renderGridSkeleton(t);else if(this.configs.skeleton===Ne.VERT_OR_HORIZ)this.renderVertOrHorizSkeleton(t);else if(this.configs.skeleton===Ne.PIE)this.renderPieSkeleton(t);else if(this.configs.skeleton===Ne.DONUT)this.renderDonutSkeleton(t);else throw new Error('"'+this.configs.skeleton+'" is not a valid Skeleton type.')},r.prototype.renderGridSkeleton=function(t){this.setScales(),this.drawBackdrop(t),this.drawXGrid(t),this.drawYGrid(t),t&&this.setShimmerEffect("shimmer-lines")},r.prototype.renderVertOrHorizSkeleton=function(t){var n=this.services.cartesianScales.getOrientation();this.setScales(),this.drawBackdrop(t),n===He.VERTICAL&&this.drawYGrid(t),n===He.HORIZONTAL&&this.drawXGrid(t),this.setShimmerEffect("shimmer-lines")},r.prototype.renderPieSkeleton=function(t){var n=this.computeOuterRadius(),o=0;this.drawRing(n,o,t),t&&this.setShimmerEffect("shimmer-areas")},r.prototype.renderDonutSkeleton=function(t){var n=this.computeOuterRadius(),o=this.computeInnerRadius();this.drawRing(n,o,t),t&&this.setShimmerEffect("shimmer-areas")},r.prototype.setScales=function(){var t=this.services.cartesianScales.getMainXScale().range(),n=this.services.cartesianScales.getMainYScale().range();this.xScale=Nt().domain([0,1]).range(t),this.yScale=Nt().domain([0,1]).range(n)},r.prototype.drawBackdrop=function(t){var n=this.parent,o=D.getSVGElementSize(n,{useAttrs:!0}),a=o.width,i=o.height;this.backdrop=D.appendOrSelect(n,"svg.chart-skeleton.DAII").attr("width",a).attr("height",i);var s=D.appendOrSelect(this.backdrop,"rect.chart-skeleton-backdrop");s.attr("width","100%").attr("height","100%");var c=this.xScale.range(),d=c[0];c[1];var l=this.yScale.range();l[0];var f=l[1];this.backdrop.merge(s).attr("x",d).attr("y",f),s.classed("shimmer-effect-lines",t).classed("empty-state-lines",!t).style("stroke",t?"url(#"+this.services.domUtils.generateElementIDString("shimmer-lines")+")":null)},r.prototype.drawXGrid=function(t){var n=this.backdrop.attr("width"),o=v.getProperty(this.getOptions(),"grid","x","numberOfTicks"),a=this.xScale.ticks(o).map(function(c){return c*n}),i=D.appendOrSelect(this.backdrop,"g.x.skeleton"),s=i.selectAll("line").data(a);s.enter().append("line").merge(s).attr("x1",function(c){return c}).attr("x2",function(c){return c}).attr("y1",0).attr("y2","100%"),i.selectAll("line").classed("shimmer-effect-lines",t).classed("empty-state-lines",!t).style("stroke",t?"url(#"+this.services.domUtils.generateElementIDString("shimmer-lines")+")":null)},r.prototype.drawYGrid=function(t){var n=this.backdrop.attr("height"),o=this.backdrop.attr("width"),a=v.getProperty(this.getOptions(),"grid","y","numberOfTicks"),i=this.xScale.ticks(a).map(function(d){return d*n}),s=D.appendOrSelect(this.backdrop,"g.y.skeleton"),c=s.selectAll("line").data(i);c.enter().append("line").merge(c).attr("x1",0).attr("x2",o).attr("y1",function(d){return d}).attr("y2",function(d){return d}),s.selectAll("line").classed("shimmer-effect-lines",t).classed("empty-state-lines",!t).style("stroke",t?"url(#"+this.services.domUtils.generateElementIDString("shimmer-lines")+")":null)},r.prototype.drawRing=function(t,n,o){o===void 0&&(o=!0);var a=this.parent,i=D.getSVGElementSize(a,{useAttrs:!0}),s=i.width,c=i.height,d=D.appendOrSelect(a,"svg.chart-skeleton").attr("width",s).attr("height",c),l=n===0?"pie":"donut",f=v.getProperty(this.getOptions(),l,"alignment");D.appendOrSelect(d,"rect.chart-skeleton-area-container").attr("width",s).attr("height",c).attr("fill","none");var u=mo().innerRadius(n).outerRadius(t).startAngle(0).endAngle(Math.PI*2),h=t+Math.abs(Se.radiusOffset),p=t+(Math.min(s,c)-t*2)/2,m=D.appendOrSelect(d,"path").attr("class","skeleton-area-shape").attr("transform","translate("+h+", "+p+")").attr("d",u).classed("shimmer-effect-areas",o).classed("empty-state-areas",!o).style("fill",o?"url(#"+this.services.domUtils.generateElementIDString("shimmer-areas")+")":null),b=t+Se.xOffset;f===Ve.CENTER?b=s/2:f===Ve.RIGHT&&(b=s-t-Se.xOffset);var y=t+Se.yOffset;m.attr("transform","translate("+b+", "+y+")")},r.prototype.computeOuterRadius=function(){var t=D.getSVGElementSize(this.parent,{useAttrs:!0}),n=t.width,o=t.height,a=Math.min(n,o)/2;return a+Se.radiusOffset},r.prototype.computeInnerRadius=function(){return this.computeOuterRadius()*(3/4)},r.prototype.setShimmerEffect=function(t){var n=2e3,o=1e3,a=.2,i="stop-bg-shimmer",s="stop-shimmer",c=this.parent.select(".chart-skeleton"),d=D.getSVGElementSize(this.parent,{useAttrs:!0}).width,l=0,f=d,u=D.appendOrSelect(c,"defs").lower(),h=D.appendOrSelect(u,"linearGradient").attr("id",this.services.domUtils.generateElementIDString(t)).attr("class",t).attr("x1",l-3*a*d).attr("x2",f).attr("y1",0).attr("y2",0).attr("gradientUnits","userSpaceOnUse").attr("gradientTransform","translate(0, 0)"),p=`
			<stop class="`+i+'" offset="'+l+`"></stop>
			<stop class="`+s+'" offset="'+(l+a)+`"></stop>
			<stop class="`+i+'" offset="'+(l+2*a)+`"></stop>
		`;h.html(p),m();function m(){h.attr("gradientTransform","translate("+(l-3*a*d)+", 0)").transition().duration(n).delay(o).ease(vm).attr("gradientTransform","translate("+(f+3*a*d)+", 0)").on("end",m)}},r.prototype.removeSkeleton=function(){var t=this.parent.select(".chart-skeleton");t.remove()},r}(me),NM=globalThis&&globalThis.__extends||function(){var e=function(r,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var a in o)o.hasOwnProperty(a)&&(n[a]=o[a])},e(r,t)};return function(r,t){e(r,t);function n(){this.constructor=r}r.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),VM=function(e){NM(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.type="skeleton-lines",t}return r.prototype.render=function(){var t=v.getProperty(this.getOptions(),"data","loading"),n=!v.getProperty(this.getOptions(),"grid","x","enabled")&&!v.getProperty(this.getOptions(),"grid","y","enabled")&&!v.getProperty(this.getOptions(),"axes","bottom","visible")&&!v.getProperty(this.getOptions(),"axes","left","visible");t&&!n?e.prototype.renderGridSkeleton.call(this,t):t&&n?this.renderSparklineSkeleton(t):this.removeSkeleton()},r.prototype.renderSparklineSkeleton=function(t){this.setScales(),this.drawBackdrop(t),this.drawSparkline(t),this.updateBackdropStyle(),t&&this.setShimmerEffect("shimmer-lines")},r.prototype.drawSparkline=function(t){var n=this.backdrop.attr("width"),o=[100],a=D.appendOrSelect(this.backdrop,"g.y.skeleton"),i=a.selectAll("line").data(o);i.enter().append("line").merge(i).attr("x1",0).attr("x2",n).attr("y1",function(s){return s}).attr("y2",function(s){return s}),a.selectAll("line").classed("shimmer-effect-lines",t).classed("empty-state-lines",!t).style("stroke",t?"url(#"+this.services.domUtils.generateElementIDString("shimmer-lines")+")":null)},r.prototype.updateBackdropStyle=function(){var t=this.parent;this.backdrop=D.appendOrSelect(t,"svg.chart-skeleton.DAII");var n=D.appendOrSelect(this.backdrop,"rect.chart-skeleton-backdrop");n.classed("shimmer-effect-lines",!1).classed("shimmer-effect-sparkline",!0).style("stroke",null)},r}(ot);function $M(e,r){return e.parent===r.parent?1:2}function HM(e){return e.reduce(GM,0)/e.length}function GM(e,r){return e+r.x}function jM(e){return 1+e.reduce(qM,0)}function qM(e,r){return Math.max(e,r.y)}function WM(e){for(var r;r=e.children;)e=r[0];return e}function YM(e){for(var r;r=e.children;)e=r[r.length-1];return e}function XM(){var e=$M,r=1,t=1,n=!1;function o(a){var i,s=0;a.eachAfter(function(u){var h=u.children;h?(u.x=HM(h),u.y=jM(h)):(u.x=i?s+=e(u,i):0,u.y=0,i=u)});var c=WM(a),d=YM(a),l=c.x-e(c,d)/2,f=d.x+e(d,c)/2;return a.eachAfter(n?function(u){u.x=(u.x-a.x)*r,u.y=(a.y-u.y)*t}:function(u){u.x=(u.x-l)/(f-l)*r,u.y=(1-(a.y?u.y/a.y:1))*t})}return o.separation=function(a){return arguments.length?(e=a,o):e},o.size=function(a){return arguments.length?(n=!1,r=+a[0],t=+a[1],o):n?null:[r,t]},o.nodeSize=function(a){return arguments.length?(n=!0,r=+a[0],t=+a[1],o):n?[r,t]:null},o}function ZM(e){var r=0,t=e.children,n=t&&t.length;if(!n)r=1;else for(;--n>=0;)r+=t[n].value;e.value=r}function KM(){return this.eachAfter(ZM)}function QM(e,r){let t=-1;for(const n of this)e.call(r,n,++t,this);return this}function JM(e,r){for(var t=this,n=[t],o,a,i=-1;t=n.pop();)if(e.call(r,t,++i,this),o=t.children)for(a=o.length-1;a>=0;--a)n.push(o[a]);return this}function eE(e,r){for(var t=this,n=[t],o=[],a,i,s,c=-1;t=n.pop();)if(o.push(t),a=t.children)for(i=0,s=a.length;i<s;++i)n.push(a[i]);for(;t=o.pop();)e.call(r,t,++c,this);return this}function tE(e,r){let t=-1;for(const n of this)if(e.call(r,n,++t,this))return n}function rE(e){return this.eachAfter(function(r){for(var t=+e(r.data)||0,n=r.children,o=n&&n.length;--o>=0;)t+=n[o].value;r.value=t})}function nE(e){return this.eachBefore(function(r){r.children&&r.children.sort(e)})}function oE(e){for(var r=this,t=aE(r,e),n=[r];r!==t;)r=r.parent,n.push(r);for(var o=n.length;e!==t;)n.splice(o,0,e),e=e.parent;return n}function aE(e,r){if(e===r)return e;var t=e.ancestors(),n=r.ancestors(),o=null;for(e=t.pop(),r=n.pop();e===r;)o=e,e=t.pop(),r=n.pop();return o}function iE(){for(var e=this,r=[e];e=e.parent;)r.push(e);return r}function sE(){return Array.from(this)}function cE(){var e=[];return this.eachBefore(function(r){r.children||e.push(r)}),e}function dE(){var e=this,r=[];return e.each(function(t){t!==e&&r.push({source:t.parent,target:t})}),r}function*lE(){var e=this,r,t=[e],n,o,a;do for(r=t.reverse(),t=[];e=r.pop();)if(yield e,n=e.children)for(o=0,a=n.length;o<a;++o)t.push(n[o]);while(t.length)}function Bo(e,r){e instanceof Map?(e=[void 0,e],r===void 0&&(r=pE)):r===void 0&&(r=uE);for(var t=new bo(e),n,o=[t],a,i,s,c;n=o.pop();)if((i=r(n.data))&&(c=(i=Array.from(i)).length))for(n.children=i,s=c-1;s>=0;--s)o.push(a=i[s]=new bo(i[s])),a.parent=n,a.depth=n.depth+1;return t.eachBefore(gE)}function fE(){return Bo(this).eachBefore(hE)}function uE(e){return e.children}function pE(e){return Array.isArray(e)?e[1]:null}function hE(e){e.data.value!==void 0&&(e.value=e.data.value),e.data=e.data.data}function gE(e){var r=0;do e.height=r;while((e=e.parent)&&e.height<++r)}function bo(e){this.data=e,this.depth=this.height=0,this.parent=null}bo.prototype=Bo.prototype={constructor:bo,count:KM,each:QM,eachAfter:eE,eachBefore:JM,find:tE,sum:rE,sort:nE,path:oE,ancestors:iE,descendants:sE,leaves:cE,links:dE,copy:fE,[Symbol.iterator]:lE};function mE(e){return e==null?null:Ig(e)}function Ig(e){if(typeof e!="function")throw new Error;return e}function Sr(){return 0}function rn(e){return function(){return e}}const vE=1664525,bE=1013904223,qf=4294967296;function yE(){let e=1;return()=>(e=(vE*e+bE)%qf)/qf}function wE(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function _E(e,r){let t=e.length,n,o;for(;t;)o=r()*t--|0,n=e[t],e[t]=e[o],e[o]=n;return e}function xE(e,r){for(var t=0,n=(e=_E(Array.from(e),r)).length,o=[],a,i;t<n;)a=e[t],i&&zg(i,a)?++t:(i=SE(o=kE(o,a)),t=0);return i}function kE(e,r){var t,n;if(qi(r,e))return[r];for(t=0;t<e.length;++t)if(Qo(r,e[t])&&qi(Wn(e[t],r),e))return[e[t],r];for(t=0;t<e.length-1;++t)for(n=t+1;n<e.length;++n)if(Qo(Wn(e[t],e[n]),r)&&Qo(Wn(e[t],r),e[n])&&Qo(Wn(e[n],r),e[t])&&qi(Lg(e[t],e[n],r),e))return[e[t],e[n],r];throw new Error}function Qo(e,r){var t=e.r-r.r,n=r.x-e.x,o=r.y-e.y;return t<0||t*t<n*n+o*o}function zg(e,r){var t=e.r-r.r+Math.max(e.r,r.r,1)*1e-9,n=r.x-e.x,o=r.y-e.y;return t>0&&t*t>n*n+o*o}function qi(e,r){for(var t=0;t<r.length;++t)if(!zg(e,r[t]))return!1;return!0}function SE(e){switch(e.length){case 1:return ME(e[0]);case 2:return Wn(e[0],e[1]);case 3:return Lg(e[0],e[1],e[2])}}function ME(e){return{x:e.x,y:e.y,r:e.r}}function Wn(e,r){var t=e.x,n=e.y,o=e.r,a=r.x,i=r.y,s=r.r,c=a-t,d=i-n,l=s-o,f=Math.sqrt(c*c+d*d);return{x:(t+a+c/f*l)/2,y:(n+i+d/f*l)/2,r:(f+o+s)/2}}function Lg(e,r,t){var n=e.x,o=e.y,a=e.r,i=r.x,s=r.y,c=r.r,d=t.x,l=t.y,f=t.r,u=n-i,h=n-d,p=o-s,m=o-l,b=c-a,y=f-a,g=n*n+o*o-a*a,w=g-i*i-s*s+c*c,k=g-d*d-l*l+f*f,_=h*p-u*m,x=(p*k-m*w)/(_*2)-n,O=(m*b-p*y)/_,M=(h*w-u*k)/(_*2)-o,T=(u*y-h*b)/_,A=O*O+T*T-1,S=2*(a+x*O+M*T),P=x*x+M*M-a*a,I=-(Math.abs(A)>1e-6?(S+Math.sqrt(S*S-4*A*P))/(2*A):P/S);return{x:n+x+O*I,y:o+M+T*I,r:I}}function Wf(e,r,t){var n=e.x-r.x,o,a,i=e.y-r.y,s,c,d=n*n+i*i;d?(a=r.r+t.r,a*=a,c=e.r+t.r,c*=c,a>c?(o=(d+c-a)/(2*d),s=Math.sqrt(Math.max(0,c/d-o*o)),t.x=e.x-o*n-s*i,t.y=e.y-o*i+s*n):(o=(d+a-c)/(2*d),s=Math.sqrt(Math.max(0,a/d-o*o)),t.x=r.x+o*n-s*i,t.y=r.y+o*i+s*n)):(t.x=r.x+t.r,t.y=r.y)}function Yf(e,r){var t=e.r+r.r-1e-6,n=r.x-e.x,o=r.y-e.y;return t>0&&t*t>n*n+o*o}function Xf(e){var r=e._,t=e.next._,n=r.r+t.r,o=(r.x*t.r+t.x*r.r)/n,a=(r.y*t.r+t.y*r.r)/n;return o*o+a*a}function Jo(e){this._=e,this.next=null,this.previous=null}function EE(e,r){if(!(a=(e=wE(e)).length))return 0;var t,n,o,a,i,s,c,d,l,f,u;if(t=e[0],t.x=0,t.y=0,!(a>1))return t.r;if(n=e[1],t.x=-n.r,n.x=t.r,n.y=0,!(a>2))return t.r+n.r;Wf(n,t,o=e[2]),t=new Jo(t),n=new Jo(n),o=new Jo(o),t.next=o.previous=n,n.next=t.previous=o,o.next=n.previous=t;e:for(c=3;c<a;++c){Wf(t._,n._,o=e[c]),o=new Jo(o),d=n.next,l=t.previous,f=n._.r,u=t._.r;do if(f<=u){if(Yf(d._,o._)){n=d,t.next=n,n.previous=t,--c;continue e}f+=d._.r,d=d.next}else{if(Yf(l._,o._)){t=l,t.next=n,n.previous=t,--c;continue e}u+=l._.r,l=l.previous}while(d!==l.next);for(o.previous=t,o.next=n,t.next=n.previous=n=o,i=Xf(t);(o=o.next)!==n;)(s=Xf(o))<i&&(t=o,i=s);n=t.next}for(t=[n._],o=n;(o=o.next)!==n;)t.push(o._);for(o=xE(t,r),c=0;c<a;++c)t=e[c],t.x-=o.x,t.y-=o.y;return o.r}function TE(e){return Math.sqrt(e.value)}function OE(){var e=null,r=1,t=1,n=Sr;function o(a){const i=yE();return a.x=r/2,a.y=t/2,e?a.eachBefore(Zf(e)).eachAfter(Wi(n,.5,i)).eachBefore(Kf(1)):a.eachBefore(Zf(TE)).eachAfter(Wi(Sr,1,i)).eachAfter(Wi(n,a.r/Math.min(r,t),i)).eachBefore(Kf(Math.min(r,t)/(2*a.r))),a}return o.radius=function(a){return arguments.length?(e=mE(a),o):e},o.size=function(a){return arguments.length?(r=+a[0],t=+a[1],o):[r,t]},o.padding=function(a){return arguments.length?(n=typeof a=="function"?a:rn(+a),o):n},o}function Zf(e){return function(r){r.children||(r.r=Math.max(0,+e(r)||0))}}function Wi(e,r,t){return function(n){if(o=n.children){var o,a,i=o.length,s=e(n)*r||0,c;if(s)for(a=0;a<i;++a)o[a].r+=s;if(c=EE(o,t),s)for(a=0;a<i;++a)o[a].r-=s;n.r=c+s}}}function Kf(e){return function(r){var t=r.parent;r.r*=e,t&&(r.x=t.x+e*r.x,r.y=t.y+e*r.y)}}function AE(e){e.x0=Math.round(e.x0),e.y0=Math.round(e.y0),e.x1=Math.round(e.x1),e.y1=Math.round(e.y1)}function PE(e,r,t,n,o){for(var a=e.children,i,s=-1,c=a.length,d=e.value&&(n-r)/e.value;++s<c;)i=a[s],i.y0=t,i.y1=o,i.x0=r,i.x1=r+=i.value*d}function UE(e,r){return e.parent===r.parent?1:2}function Yi(e){var r=e.children;return r?r[0]:e.t}function Xi(e){var r=e.children;return r?r[r.length-1]:e.t}function CE(e,r,t){var n=t/(r.i-e.i);r.c-=n,r.s+=t,e.c+=n,r.z+=t,r.m+=t}function BE(e){for(var r=0,t=0,n=e.children,o=n.length,a;--o>=0;)a=n[o],a.z+=r,a.m+=r,r+=a.s+(t+=a.c)}function IE(e,r,t){return e.a.parent===r.parent?e.a:t}function ca(e,r){this._=e,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=r}ca.prototype=Object.create(bo.prototype);function zE(e){for(var r=new ca(e,0),t,n=[r],o,a,i,s;t=n.pop();)if(a=t._.children)for(t.children=new Array(s=a.length),i=s-1;i>=0;--i)n.push(o=t.children[i]=new ca(a[i],i)),o.parent=t;return(r.parent=new ca(null,0)).children=[r],r}function LE(){var e=UE,r=1,t=1,n=null;function o(d){var l=zE(d);if(l.eachAfter(a),l.parent.m=-l.z,l.eachBefore(i),n)d.eachBefore(c);else{var f=d,u=d,h=d;d.eachBefore(function(g){g.x<f.x&&(f=g),g.x>u.x&&(u=g),g.depth>h.depth&&(h=g)});var p=f===u?1:e(f,u)/2,m=p-f.x,b=r/(u.x+p+m),y=t/(h.depth||1);d.eachBefore(function(g){g.x=(g.x+m)*b,g.y=g.depth*y})}return d}function a(d){var l=d.children,f=d.parent.children,u=d.i?f[d.i-1]:null;if(l){BE(d);var h=(l[0].z+l[l.length-1].z)/2;u?(d.z=u.z+e(d._,u._),d.m=d.z-h):d.z=h}else u&&(d.z=u.z+e(d._,u._));d.parent.A=s(d,u,d.parent.A||f[0])}function i(d){d._.x=d.z+d.parent.m,d.m+=d.parent.m}function s(d,l,f){if(l){for(var u=d,h=d,p=l,m=u.parent.children[0],b=u.m,y=h.m,g=p.m,w=m.m,k;p=Xi(p),u=Yi(u),p&&u;)m=Yi(m),h=Xi(h),h.a=d,k=p.z+g-u.z-b+e(p._,u._),k>0&&(CE(IE(p,d,f),d,k),b+=k,y+=k),g+=p.m,b+=u.m,w+=m.m,y+=h.m;p&&!Xi(h)&&(h.t=p,h.m+=g-y),u&&!Yi(m)&&(m.t=u,m.m+=b-w,f=d)}return f}function c(d){d.x*=r,d.y=d.depth*t}return o.separation=function(d){return arguments.length?(e=d,o):e},o.size=function(d){return arguments.length?(n=!1,r=+d[0],t=+d[1],o):n?null:[r,t]},o.nodeSize=function(d){return arguments.length?(n=!0,r=+d[0],t=+d[1],o):n?[r,t]:null},o}function DE(e,r,t,n,o){for(var a=e.children,i,s=-1,c=a.length,d=e.value&&(o-t)/e.value;++s<c;)i=a[s],i.x0=r,i.x1=n,i.y0=t,i.y1=t+=i.value*d}var RE=(1+Math.sqrt(5))/2;function FE(e,r,t,n,o,a){for(var i=[],s=r.children,c,d,l=0,f=0,u=s.length,h,p,m=r.value,b,y,g,w,k,_,x;l<u;){h=o-t,p=a-n;do b=s[f++].value;while(!b&&f<u);for(y=g=b,_=Math.max(p/h,h/p)/(m*e),x=b*b*_,k=Math.max(g/x,x/y);f<u;++f){if(b+=d=s[f].value,d<y&&(y=d),d>g&&(g=d),x=b*b*_,w=Math.max(g/x,x/y),w>k){b-=d;break}k=w}i.push(c={value:b,dice:h<p,children:s.slice(l,f)}),c.dice?PE(c,t,n,o,m?n+=p*b/m:a):DE(c,t,n,m?t+=h*b/m:o,a),m-=b,l=f}return i}var NE=function e(r){function t(n,o,a,i,s){FE(r,n,o,a,i,s)}return t.ratio=function(n){return e((n=+n)>1?n:1)},t}(RE);function VE(){var e=NE,r=!1,t=1,n=1,o=[0],a=Sr,i=Sr,s=Sr,c=Sr,d=Sr;function l(u){return u.x0=u.y0=0,u.x1=t,u.y1=n,u.eachBefore(f),o=[0],r&&u.eachBefore(AE),u}function f(u){var h=o[u.depth],p=u.x0+h,m=u.y0+h,b=u.x1-h,y=u.y1-h;b<p&&(p=b=(p+b)/2),y<m&&(m=y=(m+y)/2),u.x0=p,u.y0=m,u.x1=b,u.y1=y,u.children&&(h=o[u.depth+1]=a(u)/2,p+=d(u)-h,m+=i(u)-h,b-=s(u)-h,y-=c(u)-h,b<p&&(p=b=(p+b)/2),y<m&&(m=y=(m+y)/2),e(u,p,m,b,y))}return l.round=function(u){return arguments.length?(r=!!u,l):r},l.size=function(u){return arguments.length?(t=+u[0],n=+u[1],l):[t,n]},l.tile=function(u){return arguments.length?(e=Ig(u),l):e},l.padding=function(u){return arguments.length?l.paddingInner(u).paddingOuter(u):l.paddingInner()},l.paddingInner=function(u){return arguments.length?(a=typeof u=="function"?u:rn(+u),l):a},l.paddingOuter=function(u){return arguments.length?l.paddingTop(u).paddingRight(u).paddingBottom(u).paddingLeft(u):l.paddingTop()},l.paddingTop=function(u){return arguments.length?(i=typeof u=="function"?u:rn(+u),l):i},l.paddingRight=function(u){return arguments.length?(s=typeof u=="function"?u:rn(+u),l):s},l.paddingBottom=function(u){return arguments.length?(c=typeof u=="function"?u:rn(+u),l):c},l.paddingLeft=function(u){return arguments.length?(d=typeof u=="function"?u:rn(+u),l):d},l}var $E=globalThis&&globalThis.__extends||function(){var e=function(r,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var a in o)o.hasOwnProperty(a)&&(n[a]=o[a])},e(r,t)};return function(r,t){e(r,t);function n(){this.constructor=r}r.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Kr=6,HE=function(e){$E(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.type="tree",t.renderType=oe.SVG,t}return r.prototype.getLongestLabel=function(t){var n=this,o="";return t.forEach(function(a){var i=a.children?n.getLongestLabel(a.children):"";(i.length>o.length||a.name.length>o.length)&&(o=i.length>a.name.length?i:a.name)}),o},r.prototype.getMockLabelWidth=function(t,n){var o=t.append("text").attr("dy","0.31em").attr("x",0).attr("text-anchor","end").text(n),a=D.getSVGElementSize(o.node(),{useBBox:!0}).width;return o.remove(),a},r.prototype.render=function(t){var n=this,o=this.getComponentContainer();o.html("");var a=D.getSVGElementSize(this.parent,{useAttrs:!0}),i=a.width,s=a.height;if(!(i<1||s<1)){var c=this.model.getOptions(),d=this.model.getDisplayData(),l=v.getProperty(c,"tree","rootTitle")||"Tree",f=this.getMockLabelWidth(o,l),u=this.getLongestLabel(d),h=this.getMockLabelWidth(o,u),p={top:0,right:0,bottom:0,left:f>0?f+Kr:30-Kr},m=Bo({name:l,children:d}),b=10,y=i/6,g=function(T){var A=m.descendants().reverse(),S=m.links(),P=m,I=m;m.eachBefore(function(V){V.x<P.x&&(P=V),V.x>I.x&&(I=V)});var L=I.x-P.x,B=o.transition().call(function(V){return n.services.transitions.setupTransition({transition:V,name:"tree-update-viewbox",animate:!0})}).attr("viewBox",[-p.left,P.x,i,L]),C=M.selectAll("g").data(A,function(V){return V.id}),z=n,F=C.enter().append("g").attr("transform",function(){return"translate("+T.y0+","+T.x0+")"}).attr("class",function(V){return V.depth!==0&&V.children&&V.children.length>0?"clickable":null}).on("mouseover",function(V,X){z.services.events.dispatchEvent(E.Tree.NODE_MOUSEOVER,{event:V,element:R(this),datum:X})}).on("click",function(V,X){X.depth!==0&&(X.children=X.children?null:X._children,g(X)),z.services.events.dispatchEvent(E.Tree.NODE_CLICK,{event:V,element:R(this),datum:X})}).on("mouseout",function(V,X){z.services.events.dispatchEvent(E.Tree.NODE_MOUSEOUT,{event:V,element:R(this),datum:X})});F.append("circle").attr("r",2.5).attr("class",function(V){return V._children?"parent":"child"}).attr("stroke-width",10),F.append("text").attr("dy","0.31em").attr("x",function(V){return V._children?-Kr:Kr}).attr("text-anchor",function(V){return V._children?"end":"start"}).text(function(V){return V.data.name}).clone(!0).attr("class","text-stroke").lower(),C.merge(F).transition(B).attr("transform",function(V){return"translate("+V.y+","+V.x+")"}).attr("fill-opacity",1).attr("stroke-opacity",1),C.exit().transition(B).remove().attr("transform",function(){return"translate("+T.y+","+T.x+")"}).attr("fill-opacity",0).attr("stroke-opacity",0);var U=O.selectAll("path").data(S,function(V){return V.target.id}),N=U.enter().append("path").attr("d",function(V){var X={x:T.x0,y:T.y0};return x({source:X,target:X})});U.merge(N).transition(B).attr("d",x),U.exit().transition(B).remove().attr("d",function(){var V={x:T.x,y:T.y};return x({source:V,target:V})}),m.eachBefore(function(V){V.x0=V.x,V.y0=V.y})},w=m.descendants(),k=w[w.length-1].depth,_=v.getProperty(c,"tree","type")===ma.DENDROGRAM?XM().size([s,i-h-k*Kr-f]):LE().nodeSize([b,y]).size([s,i-h-k*Kr-f]),x=o4().x(function(T){return T.y}).y(function(T){return T.x});m.x0=y/2,m.y0=0,m.descendants().forEach(function(T,A){T.id=A,T._children=T.children}),_(m),o.attr("viewBox",[-p.left,-p.top,i,b]).style("user-select","none");var O=o.append("g").attr("class","links"),M=o.append("g").attr("class","nodes");g(m)}},r}(me),GE="#000000",jE="#ffffff",qE="#fcf4d6",WE="#fddc69",YE="#f1c21b",XE="#d2a106",ZE="#b28600",KE="#8e6a00",QE="#684e00",JE="#483700",eT="#302400",tT="#1c1500",rT={10:qE,20:WE,30:YE,40:XE,50:ZE,60:KE,70:QE,80:JE,90:eT,100:tT},nT="#fff2e8",oT="#ffd9be",aT="#ffb784",iT="#ff832b",sT="#eb6200",cT="#ba4e00",dT="#8a3800",lT="#5e2900",fT="#3e1a00",uT="#231000",pT={10:nT,20:oT,30:aT,40:iT,50:sT,60:cT,70:dT,80:lT,90:fT,100:uT},hT="#fff1f1",gT="#ffd7d9",mT="#ffb3b8",vT="#ff8389",bT="#fa4d56",yT="#da1e28",wT="#a2191f",_T="#750e13",xT="#520408",kT="#2d0709",ST={10:hT,20:gT,30:mT,40:vT,50:bT,60:yT,70:wT,80:_T,90:xT,100:kT},MT="#fff0f7",ET="#ffd6e8",TT="#ffafd2",OT="#ff7eb6",AT="#ee5396",PT="#d02670",UT="#9f1853",CT="#740937",BT="#510224",IT="#2a0a18",zT={10:MT,20:ET,30:TT,40:OT,50:AT,60:PT,70:UT,80:CT,90:BT,100:IT},LT="#f6f2ff",DT="#e8daff",RT="#d4bbff",FT="#be95ff",NT="#a56eff",VT="#8a3ffc",$T="#6929c4",HT="#491d8b",GT="#31135e",jT="#1c0f30",qT={10:LT,20:DT,30:RT,40:FT,50:NT,60:VT,70:$T,80:HT,90:GT,100:jT},WT="#edf5ff",YT="#d0e2ff",XT="#a6c8ff",ZT="#78a9ff",KT="#4589ff",QT="#0f62fe",JT="#0043ce",eO="#002d9c",tO="#001d6c",rO="#001141",nO={10:WT,20:YT,30:XT,40:ZT,50:KT,60:QT,70:JT,80:eO,90:tO,100:rO},oO="#e5f6ff",aO="#bae6ff",iO="#82cfff",sO="#33b1ff",cO="#1192e8",dO="#0072c3",lO="#00539a",fO="#003a6d",uO="#012749",pO="#061727",hO={10:oO,20:aO,30:iO,40:sO,50:cO,60:dO,70:lO,80:fO,90:uO,100:pO},gO="#d9fbfb",mO="#9ef0f0",vO="#3ddbd9",bO="#08bdba",yO="#009d9a",wO="#007d79",_O="#005d5d",xO="#004144",kO="#022b30",SO="#081a1c",MO={10:gO,20:mO,30:vO,40:bO,50:yO,60:wO,70:_O,80:xO,90:kO,100:SO},EO="#defbe6",TO="#a7f0ba",OO="#6fdc8c",AO="#42be65",PO="#24a148",UO="#198038",CO="#0e6027",BO="#044317",IO="#022d0d",zO="#071908",LO={10:EO,20:TO,30:OO,40:AO,50:PO,60:UO,70:CO,80:BO,90:IO,100:zO},DO="#f2f4f8",RO="#dde1e6",FO="#c1c7cd",NO="#a2a9b0",VO="#878d96",$O="#697077",HO="#4d5358",GO="#343a3f",jO="#21272a",qO="#121619",WO={10:DO,20:RO,30:FO,40:NO,50:VO,60:$O,70:HO,80:GO,90:jO,100:qO},YO="#f4f4f4",XO="#e0e0e0",ZO="#c6c6c6",KO="#a8a8a8",QO="#8d8d8d",JO="#6f6f6f",e9="#525252",t9="#393939",r9="#262626",n9="#161616",o9={10:YO,20:XO,30:ZO,40:KO,50:QO,60:JO,70:e9,80:t9,90:r9,100:n9},a9="#f7f3f2",i9="#e5e0df",s9="#cac5c4",c9="#ada8a8",d9="#8f8b8b",l9="#726e6e",f9="#565151",u9="#3c3838",p9="#272525",h9="#171414",g9={10:a9,20:i9,30:s9,40:c9,50:d9,60:l9,70:f9,80:u9,90:p9,100:h9},Qf={black:{100:GE},blue:nO,coolGray:WO,cyan:hO,gray:o9,green:LO,magenta:zT,orange:pT,purple:qT,red:ST,teal:MO,warmGray:g9,white:{0:jE},yellow:rT},m9=globalThis&&globalThis.__extends||function(){var e=function(r,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var a in o)o.hasOwnProperty(a)&&(n[a]=o[a])},e(r,t)};return function(r,t){e(r,t);function n(){this.constructor=r}r.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),v9=function(e){if(!e)return null;for(var r=0,t=Object.keys(Qf);r<t.length;r++)for(var n=t[r],o=Qf[n],a=0,i=Object.keys(o);a<i.length;a++){var s=i[a],c=o[s];if(c===e)return s}return null},Jf=function(){var e=R(this.parentNode).select("rect.leaf"),r=getComputedStyle(e.node(),null).getPropertyValue("fill"),t=Qt(r),n;if(t&&(n=v9(t?t.hex():null)),n==null){var o=md(t).l;n=Math.abs(o*100-100)}return n>50?"white":"black"},b9=0,y9=function(e){m9(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.type="treemap",t.renderType=oe.SVG,t.handleLegendOnHover=function(n){var o=n.detail.hoveredElement;t.parent.selectAll("g[data-name='leaf']").transition("legend-hover-treemap").call(function(a){return t.services.transitions.setupTransition({transition:a,name:"legend-hover-treemap"})}).attr("opacity",function(a){return a.parent.data.name===o.datum().name?1:.3})},t.handleLegendMouseOut=function(n){t.parent.selectAll("g[data-name='leaf']").transition("legend-mouseout-treemap").call(function(o){return t.services.transitions.setupTransition({transition:o,name:"legend-mouseout-treemap"})}).attr("opacity",1)},t}return r.prototype.init=function(){var t=this.services.events;t.addEventListener(E.Legend.ITEM_HOVER,this.handleLegendOnHover),t.addEventListener(E.Legend.ITEM_MOUSEOUT,this.handleLegendMouseOut)},r.prototype.render=function(t){var n=this;t===void 0&&(t=!0);var o=this.getComponentContainer();this.model.getData();var a=this.model.getDisplayData(),i=this.model.getOptions(),s=v.getProperty(window,"location"),c=D.getSVGElementSize(o,{useAttrs:!0}),d=c.width,l=c.height,f=Bo({name:i.title||"Treemap",children:a}).sum(function(g){return g.value}).sort(function(g,w){return w.value-g.value}),u=VE().size([d,l]).paddingInner(1).paddingOuter(0).round(!0)(f);this.services.transitions;var h=o.selectAll("g[data-name='leaf']").data(u.leaves(),function(g){return g.data.name});h.exit().attr("opacity",0).remove();var p=h.enter().append("g").attr("data-name","leaf").attr("data-uid",function(){return b9++}),m=p.merge(h);m.attr("data-name","leaf").transition().call(function(g){return n.services.transitions.setupTransition({transition:g,name:"treemap-group-update",animate:t})}).attr("transform",function(g){return"translate("+g.x0+","+g.y0+")"});var b=m.selectAll("rect.leaf").data(function(g){return[g]});b.exit().attr("width",0).attr("height",0).remove();var y=b.enter().append("rect").classed("leaf",!0);y.merge(b).attr("width",0).attr("height",0).attr("id",function(){var g=R(this.parentNode).attr("data-uid");return i.style.prefix+"-leaf-"+g}).attr("class",function(g){for(;g.depth>1;)g=g.parent;return n.model.getColorClassName({classNameTypes:[ie.FILL],dataGroupName:g.data.name,originalClassName:"leaf"})}).transition().call(function(g){return n.services.transitions.setupTransition({transition:g,name:"treemap-leaf-update-enter",animate:t})}).attr("width",function(g){return g.x1-g.x0}).attr("height",function(g){return g.y1-g.y0}).style("fill",function(g){for(;g.depth>1;)g=g.parent;return n.model.getFillColor(g.data.name)}),m.selectAll("clipPath").data(function(g){return g.data.showLabel!==!0?[]:[1]},function(g){return g}).join(function(g){g.append("clipPath").attr("id",function(){var w=R(this.parentNode).attr("data-uid");return i.style.prefix+"-clip-"+w}).append("use").attr("xlink:href",function(){var w=R(this.parentNode.parentNode).attr("data-uid"),k=i.style.prefix+"-leaf-"+w;return new URL("#"+k,s)+""})},function(g){return null},function(g){return g.remove()}),m.selectAll("text").data(function(g){if(g.data.showLabel!==!0)return[];for(var w=g;w.depth>1;)w=w.parent;var k=md(n.model.getFillColor(w.data.name));return[{text:g.data.name,color:k.l<.5?"white":"black"}]},function(g){return g}).join(function(g){var w=g.append("text").text(function(k){return k.text}).style("fill",Jf).attr("x",7).attr("y",18);s&&w.attr("clip-path",function(){var k=R(this.parentNode).attr("data-uid"),_=i.style.prefix+"-clip-"+k;return"url("+(new URL("#"+_,s)+"")+")"})},function(g){return g.text(function(w){return w.text}).style("fill",Jf)},function(g){return g.remove()}),this.addEventListeners()},r.prototype.addEventListeners=function(){var t=this;this.parent.selectAll("rect.leaf").on("mouseover",function(n,o){for(var a=R(this),i=getComputedStyle(this,null).getPropertyValue("fill"),s=o;s.depth>1;)s=s.parent;a.transition("graph_element_mouseover_fill_update").call(function(c){return t.services.transitions.setupTransition({transition:c,name:"graph_element_mouseover_fill_update"})}).style("fill",function(c){var d=t.model.getFillColor(c.parent.data.name);return d&&(i=d),Qt(i).darker(.7).toString()}),t.services.events.dispatchEvent(E.Tooltip.SHOW,{event:n,hoveredElement:a,items:[{color:i,label:s.data.name,bold:!0},{label:o.data.name,value:o.data.value}]}),t.services.events.dispatchEvent(E.Treemap.LEAF_MOUSEOVER,{event:n,element:a,datum:o})}).on("mousemove",function(n,o){var a=R(this);t.services.events.dispatchEvent(E.Treemap.LEAF_MOUSEMOVE,{event:n,element:a,datum:o}),t.services.events.dispatchEvent(E.Tooltip.MOVE,{event:n})}).on("click",function(n,o){t.services.events.dispatchEvent(E.Treemap.LEAF_CLICK,{event:n,element:R(this),datum:o})}).on("mouseout",function(n,o){var a=R(this);a.classed("hovered",!1);for(var i=o;i.depth>1;)i=i.parent;a.transition().call(function(s){return t.services.transitions.setupTransition({transition:s,name:"graph_element_mouseout_fill_update"})}).style("fill",function(s){return t.model.getFillColor(s.parent.data.name)}),t.services.events.dispatchEvent(E.Treemap.LEAF_MOUSEOUT,{event:n,element:a,datum:o}),t.services.events.dispatchEvent(E.Tooltip.HIDE,{hoveredElement:a})})},r}(me);function eu(e){var r=w9(Dg(e),360);return sr(r,[0,10])||sr(r,[350,0])?{textAnchor:Ut.START,dominantBaseline:Ct.MIDDLE}:sr(r,[10,80])?{textAnchor:Ut.START,dominantBaseline:Ct.HANGING}:sr(r,[80,100])?{textAnchor:Ut.MIDDLE,dominantBaseline:Ct.HANGING}:sr(r,[100,170])?{textAnchor:Ut.END,dominantBaseline:Ct.HANGING}:sr(r,[170,190])?{textAnchor:Ut.END,dominantBaseline:Ct.MIDDLE}:sr(r,[190,260])?{textAnchor:Ut.END,dominantBaseline:Ct.BASELINE}:sr(r,[260,280])?{textAnchor:Ut.MIDDLE,dominantBaseline:Ct.BASELINE}:{textAnchor:Ut.START,dominantBaseline:Ct.BASELINE}}function w9(e,r){return(e%r+r)%r}function sr(e,r){var t=r[0],n=r[1];return e>=t&&e<=n}function Dg(e){return e*(180/Math.PI)}function Re(e,r,t){t===void 0&&(t={x:0,y:0});var n=r*Math.cos(e)+t.x,o=r*Math.sin(e)+t.y;return{x:isNaN(n)?0:n,y:isNaN(o)?0:o}}function _9(e,r){return r*Math.sin(e-Math.PI/2)}var x9=globalThis&&globalThis.__extends||function(){var e=function(r,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var a in o)o.hasOwnProperty(a)&&(n[a]=o[a])},e(r,t)};return function(r,t){e(r,t);function n(){this.constructor=r}r.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),k9=function(e){x9(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.type="radar",t.renderType=oe.SVG,t.getLabelDimensions=function(n){var o=D.appendOrSelect(t.getComponentContainer(),"g.tmp-tick"),a=D.appendOrSelect(o,"text").text(n),i=D.getSVGElementSize(a.node(),{useBBox:!0}),s=i.width,c=i.height;return o.remove(),{width:s,height:c}},t.normalizeFlatData=function(n){var o=t.getOptions(),a=v.getProperty(o,"radar","axes"),i=a.angle,s=a.value,c=v.getProperty(o,"data","groupMapsTo"),d=v.flatMapDeep(t.uniqueKeys.map(function(l){return t.uniqueGroups.map(function(f){var u;return u={},u[i]=l,u[c]=f,u[s]=null,u})}));return v.merge(d,n)},t.normalizeGroupedData=function(n){var o=t.getOptions(),a=v.getProperty(o,"radar","axes"),i=a.angle,s=a.value,c=v.getProperty(o,"data","groupMapsTo");return n.map(function(d){var l=d.name,f=d.data,u=t.uniqueKeys.map(function(h){var p;return p={},p[c]=l,p[i]=h,p[s]=null,p});return{name:l,data:v.merge(u,f)}})},t.handleLegendOnHover=function(n){var o=n.detail.hoveredElement;t.parent.selectAll("g.blobs path").transition("legend-hover-blob").call(function(a){return t.services.transitions.setupTransition({transition:a,name:"legend-hover-blob"})}).style("fill-opacity",function(a){return a.name!==o.datum().name?lr.opacity.unselected:lr.opacity.selected}).style("stroke-opacity",function(a){return a.name!==o.datum().name?lr.opacity.unselected:1})},t.handleLegendMouseOut=function(n){t.parent.selectAll("g.blobs path").transition("legend-mouseout-blob").call(function(o){return t.services.transitions.setupTransition({transition:o,name:"legend-mouseout-blob"})}).style("fill-opacity",lr.opacity.selected).style("stroke-opacity",1)},t}return r.prototype.init=function(){var t=this.services.events;t.addEventListener(E.Legend.ITEM_HOVER,this.handleLegendOnHover),t.addEventListener(E.Legend.ITEM_MOUSEOUT,this.handleLegendMouseOut)},r.prototype.render=function(t){var n=this;t===void 0&&(t=!0);var o=this.getComponentContainer(),a=D.getSVGElementSize(o,{useAttrs:!0}),i=a.width,s=a.height,c=this.model.getData(),d=this.model.getGroupedData(),l=this.getOptions(),f=v.getProperty(l,"data","groupMapsTo"),u=v.getProperty(l,"radar","axes","value"),h=v.getProperty(l,"radar","axes"),p=h.angle,m=h.value,b=lr,y=b.xLabelPadding,g=b.yLabelPadding,w=b.yTicksNumber,k=b.minRange,_=b.xAxisRectHeight;this.uniqueKeys=Array.from(new Set(c.map(function(G){return G[p]}))),this.uniqueGroups=Array.from(new Set(c.map(function(G){return G[f]}))),this.fullDataNormalized=this.normalizeFlatData(c),this.groupedDataNormalized=this.normalizeGroupedData(d);var x=this.getLabelDimensions(this.uniqueKeys[0]).height,O=2*(x+g),M=Math.min(i,s),T=M-O,A=T/2;if(!(A<=0)){var S=Ao().domain(this.fullDataNormalized.map(function(G){return G[p]})).range([0,2*Math.PI].map(function(G){return G-Math.PI/2})),P=ur(this.fullDataNormalized.map(function(G){return G[m]})),I=Nt().domain([P>=0?0:P,Br(this.fullDataNormalized.map(function(G){return G[m]}))]).range([k,A]).nice(w),L=I.ticks(w),B=function(G){return n.model.getFillColor(G)},C=Q5().angle(function(G){return S(G[p])+Math.PI/2}).radius(function(G){return I(G[m])}).curve(ag),z=this.uniqueKeys.map(function(G){var Z=n.getLabelDimensions(G).width,$=_9(S(G),A);return Z+$}),F=Br(z),U={x:F+y,y:s/2},N=D.appendOrSelect(o,"g.y-axes").attr("role",fe.GROUP),V=N.selectAll("path").data(L,function(G){return G}),X=function(G){return n.uniqueKeys.map(function(Z){var $;return $={},$[p]=Z,$[m]=G,$})};V.join(function(G){return G.append("path").attr("opacity",0).attr("transform","translate("+U.x+", "+U.y+")").attr("fill","none").call(function(Z){return Z.transition().call(function($){return n.services.transitions.setupTransition({transition:$,name:"radar_y_axes_enter",animate:t})}).attr("opacity",1).attr("d",function($){return C(X($))})})},function(G){return G.call(function(Z){return Z.transition().call(function($){return n.services.transitions.setupTransition({transition:$,name:"radar_y_axes_update",animate:t})}).attr("opacity",1).attr("transform","translate("+U.x+", "+U.y+")").attr("d",function($){return C(X($))})})},function(G){return G.call(function(Z){return Z.transition().call(function($){return n.services.transitions.setupTransition({transition:$,name:"radar_y_axes_exit",animate:t})}).attr("d",function($){return C(X($))}).attr("opacity",0).remove()})});var de=D.appendOrSelect(o,"g.x-axes").attr("role",fe.GROUP),ae=de.selectAll("line").data(this.uniqueKeys,function(G){return G});ae.join(function(G){return G.append("line").attr("opacity",0).attr("class",function(Z){return"x-axis-"+v.kebabCase(Z)}).attr("stroke-dasharray","0").attr("x1",function(Z){return Re(S(Z),0,U).x}).attr("y1",function(Z){return Re(S(Z),0,U).y}).attr("x2",function(Z){return Re(S(Z),0,U).x}).attr("y2",function(Z){return Re(S(Z),0,U).y}).call(function(Z){return Z.transition().call(function($){return n.services.transitions.setupTransition({transition:$,name:"radar_x_axes_enter",animate:t})}).attr("opacity",1).attr("x1",function($){return Re(S($),I.range()[0],U).x}).attr("y1",function($){return Re(S($),I.range()[0],U).y}).attr("x2",function($){return Re(S($),I.range()[1],U).x}).attr("y2",function($){return Re(S($),I.range()[1],U).y})})},function(G){return G.call(function(Z){return Z.transition().call(function($){return n.services.transitions.setupTransition({transition:$,name:"radar_x_axes_update",animate:t})}).attr("opacity",1).attr("x1",function($){return Re(S($),I.range()[0],U).x}).attr("y1",function($){return Re(S($),I.range()[0],U).y}).attr("x2",function($){return Re(S($),I.range()[1],U).x}).attr("y2",function($){return Re(S($),I.range()[1],U).y})})},function(G){return G.call(function(Z){return Z.transition().call(function($){return n.services.transitions.setupTransition({transition:$,name:"radar_x_axes_exit",animate:t})}).attr("opacity",0).remove()})});var Y=D.appendOrSelect(o,"g.x-labels").attr("role",fe.GROUP),te=Y.selectAll("text").data(this.uniqueKeys);te.join(function(G){return G.append("text").text(function(Z){return Z}).attr("opacity",0).attr("x",function(Z){return Re(S(Z),I.range()[1]+y,U).x}).attr("y",function(Z){return Re(S(Z),I.range()[1]+y,U).y}).style("text-anchor",function(Z){return eu(S(Z)).textAnchor}).style("dominant-baseline",function(Z){return eu(S(Z)).dominantBaseline}).call(function(Z){return Z.transition().call(function($){return n.services.transitions.setupTransition({transition:$,name:"radar_x_labels_enter",animate:t})}).attr("opacity",1)})},function(G){return G.call(function(Z){return Z.transition().call(function($){return n.services.transitions.setupTransition({transition:$,name:"radar_x_labels_update",animate:t})}).attr("opacity",1).attr("x",function($){return Re(S($),I.range()[1]+y,U).x}).attr("y",function($){return Re(S($),I.range()[1]+y,U).y}).end().finally(function(){var $=v.getProperty(l,"radar","alignment"),ve=n.getAlignmentXOffset($,o,n.getParent());o.attr("x",ve)})})},function(G){return G.call(function(Z){return Z.transition().call(function($){return n.services.transitions.setupTransition({transition:$,name:"radar_x_labels_exit",animate:t})}).attr("opacity",0).remove()})});var J=D.appendOrSelect(o,"g.blobs").attr("role",fe.GROUP),ce=J.selectAll("path").data(this.groupedDataNormalized,function(G){return G.name});ce.join(function(G){return G.append("path").attr("class",function(Z){return n.model.getColorClassName({classNameTypes:[ie.FILL,ie.STROKE],dataGroupName:Z.name,originalClassName:"blob"})}).attr("role",fe.GRAPHICS_SYMBOL).attr("aria-label",function(Z){return Z.name}).attr("opacity",0).attr("transform",t?function(){return"translate("+U.x+", "+U.y+") scale("+(1+Math.random()*.35)+")"}:"translate("+U.x+", "+U.y+")").style("fill",function(Z){return B(Z.name)}).style("fill-opacity",lr.opacity.selected).style("stroke",function(Z){return B(Z.name)}).call(function(Z){var $=Z.transition().call(function(ve){return n.services.transitions.setupTransition({transition:ve,name:"radar_blobs_enter",animate:t})});t&&$.delay(function(){return Math.random()*30}).attr("transform","translate("+U.x+", "+U.y+")"),$.attr("opacity",1).attr("d",function(ve){return C(ve.data)})})},function(G){G.attr("class",function(Z){return n.model.getColorClassName({classNameTypes:[ie.FILL,ie.STROKE],dataGroupName:Z.name,originalClassName:"blob"})}).style("fill",function(Z){return B(Z.name)}).style("stroke",function(Z){return B(Z.name)}),G.call(function(Z){return Z.transition().call(function($){return n.services.transitions.setupTransition({transition:$,name:"radar_blobs_update",animate:t})}).attr("opacity",1).attr("transform","translate("+U.x+", "+U.y+")").attr("d",function($){return C($.data)})})},function(G){return G.call(function(Z){var $=Z.transition().call(function(ve){return n.services.transitions.setupTransition({transition:ve,name:"radar_blobs_exit",animate:t})});t&&$.delay(function(){return Math.random()*30}).attr("transform",function(){return"translate("+U.x+", "+U.y+") scale("+(1+Math.random()*.35)+")"}),$.attr("opacity",0).remove()})});var K=D.appendOrSelect(o,"g.dots").attr("role",fe.GROUP),ee=K.selectAll("circle").data(this.fullDataNormalized.filter(function(G){return v.getProperty(G,m)!==null}));ee.join(function(G){return G.append("circle").attr("role",fe.GRAPHICS_SYMBOL).attr("aria-label",function(Z){return Z[u]})},function(G){return G},function(G){return G.remove()}).attr("class",function(G){return n.model.getColorClassName({classNameTypes:[ie.FILL],dataGroupName:G[f],originalClassName:v.kebabCase(G[p])})}).attr("cx",function(G){return Re(S(G[p]),I(G[m]),U).x}).attr("cy",function(G){return Re(S(G[p]),I(G[m]),U).y}).attr("r",0).attr("opacity",0).style("fill",function(G){return B(G[f])});var le=D.appendOrSelect(o,"g.x-axes-rect").attr("role",fe.GROUP),W=le.selectAll("rect").data(this.uniqueKeys);W.join(function(G){return G.append("rect")},function(G){return G},function(G){return G.remove()}).attr("x",U.x).attr("y",U.y-_/2).attr("width",I.range()[1]).attr("height",_).style("fill","red").style("fill-opacity",0).attr("transform",function(G){return"rotate("+Dg(S(G))+", "+U.x+", "+U.y+")"});var pe=D.appendOrSelect(o,"g.y-labels").attr("role",fe.GROUP),se=pe.selectAll("text").data(zt(L));se.join(function(G){return G.append("text").attr("opacity",0).text(function(Z){return Z}).attr("x",function(Z){return Re(-Math.PI/2,I(Z),U).x+g}).attr("y",function(Z){return Re(-Math.PI/2,I(Z),U).y}).style("text-anchor","start").style("dominant-baseline","middle").call(function(Z){return Z.transition().call(function($){return n.services.transitions.setupTransition({transition:$,name:"radar_y_labels_enter",animate:t})}).attr("opacity",1)})},function(G){return G.call(function(Z){return Z.transition().call(function($){return n.services.transitions.setupTransition({transition:$,name:"radar_y_labels_update",animate:t})}).text(function($){return $}).attr("opacity",1).attr("x",function($){return Re(-Math.PI/2,I($),U).x+g}).attr("y",function($){return Re(-Math.PI/2,I($),U).y})})},function(G){return G.call(function(Z){return Z.transition().call(function($){return n.services.transitions.setupTransition({transition:$,name:"radar_y_labels_exit",animate:t})}).attr("opacity",0).remove()})}),this.addEventListeners()}},r.prototype.getAlignmentXOffset=function(t,n,o){var a=D.getSVGElementSize(n,{useBBox:!0}),i=D.getSVGElementSize(o,{useAttrs:!0}).width,s=0;return t===Ve.CENTER?s=Math.floor((i-a.width)/2):t===Ve.RIGHT&&(s=i-a.width),s},r.prototype.destroy=function(){this.parent.selectAll(".x-axes-rect > rect").on("mouseover",null).on("mousemove",null).on("mouseout",null);var t=this.services.events;t.removeEventListener(E.Legend.ITEM_HOVER,this.handleLegendOnHover),t.removeEventListener(E.Legend.ITEM_MOUSEOUT,this.handleLegendMouseOut)},r.prototype.addEventListeners=function(){var t=this,n=v.getProperty(this.getOptions(),"radar").axes.angle;this.parent.selectAll(".x-axes-rect > rect").on("mouseover",function(o,a){var i=R(this);t.services.events.dispatchEvent(E.Radar.X_AXIS_MOUSEOVER,{event:o,element:i,datum:a});var s=t.parent.select(".x-axes .x-axis-"+v.kebabCase(a)),c=t.parent.selectAll(".dots circle."+v.kebabCase(a)),d=t.model.getActiveDataGroupNames(),l=t.getOptions(),f=l.data.groupMapsTo,u=v.getProperty(l,"radar","axes","value");s.classed("hovered",!0).attr("stroke-dasharray","4 4"),c.classed("hovered",!0).attr("opacity",function(p){return d.indexOf(p[f])!==-1?1:0}).attr("r",lr.dotsRadius);var h=t.fullDataNormalized.filter(function(p){return p[n]===a&&d.indexOf(p[f])!==-1});t.services.events.dispatchEvent(E.Tooltip.SHOW,{event:o,hoveredElement:i,items:h.filter(function(p){return typeof p[u]=="number"}).map(function(p){return{label:p[f],value:p[u],color:t.model.getFillColor(p[f]),class:t.model.getColorClassName({classNameTypes:[ie.TOOLTIP],dataGroupName:p[f]})}})})}).on("mousemove",function(o,a){var i=R(this);t.services.events.dispatchEvent(E.Radar.X_AXIS_MOUSEMOVE,{event:o,element:i,datum:a}),t.services.events.dispatchEvent(E.Tooltip.MOVE,{event:o})}).on("click",function(o,a){t.services.events.dispatchEvent(E.Radar.X_AXIS_CLICK,{event:o,element:R(this),datum:a})}).on("mouseout",function(o,a){var i=R(this),s=t.parent.select(".x-axes .x-axis-"+v.kebabCase(a)),c=t.parent.selectAll(".dots circle."+v.kebabCase(a));s.classed("hovered",!1).attr("stroke-dasharray","0"),c.classed("hovered",!1).attr("opacity",0).attr("r",0),t.services.events.dispatchEvent(E.Radar.X_AXIS_MOUSEOUT,{event:o,element:i,datum:a}),t.services.events.dispatchEvent(E.Tooltip.HIDE)})},r}(me),S9=globalThis&&globalThis.__extends||function(){var e=function(r,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var a in o)o.hasOwnProperty(a)&&(n[a]=o[a])},e(r,t)};return function(r,t){e(r,t);function n(){this.constructor=r}r.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),M9=globalThis&&globalThis.__spreadArrays||function(){for(var e=0,r=0,t=arguments.length;r<t;r++)e+=arguments[r].length;for(var n=Array(e),o=0,r=0;r<t;r++)for(var a=arguments[r],i=0,s=a.length;i<s;i++,o++)n[o]=a[i];return n},E9=function(e){S9(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.type="circle-pack",t.renderType=oe.SVG,t.handleLegendOnHover=function(n){var o=n.detail.hoveredElement;t.parent.selectAll("circle.node").transition("legend-hover-circlepack").call(function(a){return t.services.transitions.setupTransition({transition:a,name:"legend-hover-circlepack"})}).attr("opacity",function(a){return a.data.dataGroupName===o.datum().name?1:kr.circles.fillOpacity})},t.handleLegendMouseOut=function(n){t.parent.selectAll("circle.node").transition("legend-mouseout-circlepack").call(function(o){return t.services.transitions.setupTransition({transition:o,name:"legend-mouseout-circlepack"})}).attr("opacity",1)},t}return r.prototype.render=function(t){var n=this,o=this.getComponentContainer({withinChartClip:!0}),a=D.getSVGElementSize(this.parent,{useAttrs:!0}),i=a.width,s=a.height;if(!(i<1||s<1)){var c=this.model.getDisplayData(),d=this.model.hasParentNode(),l=this.model.getHierarchyLevel(),f=this.getOptions(),u=v.getProperty(f,"canvasZoom","enabled");d&&v.getProperty(c,0,"children")&&(c=v.getProperty(c,0,"children"));var h=Bo({children:c}).sum(function(g){return g.value}).sort(function(g,w){return w.value-g.value}),p=OE().size([i,s]).padding(function(g){return g.depth>=1?kr.padding.children+3:kr.padding.mainGroup+3}),m=p(h).descendants().splice(1).filter(function(g){return g.depth<=l}),b=o.selectAll("circle.node").data(m);b.exit().attr("width",0).attr("height",0).remove();var y=b.enter().append("circle").classed("node",!0);y.merge(b).attr("class",function(g){var w=u&&l===3?n.getZoomClass(g):"";return n.model.getColorClassName({classNameTypes:[ie.FILL,ie.STROKE],dataGroupName:g.data.dataGroupName,originalClassName:g.children?"node "+w:"node node-leaf "+w})}).style("fill",function(g){return n.model.getFillColor(g.data.dataGroupName)}).style("stroke",function(g){return n.model.getFillColor(g.data.dataGroupName)}).attr("cx",function(g){return g.x}).attr("cy",function(g){return g.y}).transition("circlepack-leaf-update-enter").call(function(g){return n.services.transitions.setupTransition({transition:g,name:"circlepack-leaf-update-enter"})}).attr("r",function(g){return g.r}).attr("opacity",1).attr("fill-opacity",kr.circles.fillOpacity),u===!0&&this.focal&&(this.services.canvasZoom.zoomIn(this.focal,y,fn),this.setBackgroundListeners()),d||this.addLegendListeners(),this.addEventListeners()}},r.prototype.unhighlightChildren=function(t){var n=this,o=t.map(function(a){return a.data});this.parent.selectAll("circle.node").filter(function(a){return o.some(function(i){return i===a.data})&&a.depth>1}).style("stroke",function(a){return n.model.getFillColor(a.data.dataGroupName)})},r.prototype.highlightChildren=function(t){var n=t.map(function(o){return o.data});this.parent.selectAll("circle.node").filter(function(o){return n.some(function(a){return a===o.data})&&o.depth>1}).style("stroke",kr.circles.hover.stroke)},r.prototype.getZoomClass=function(t){return this.model.getHierarchyLevel()===3&&this.focal&&(t.data===this.focal.data||this.focal.children.some(function(n){return n.data===t.data}))?"focal":"non-focal"},r.prototype.addLegendListeners=function(){var t=this.services.events;t.addEventListener(E.Legend.ITEM_HOVER,this.handleLegendOnHover),t.addEventListener(E.Legend.ITEM_MOUSEOUT,this.handleLegendMouseOut)},r.prototype.removeBackgroundListeners=function(){var t=R(this.services.domUtils.getMainContainer());t.on("click",function(){return null})},r.prototype.setBackgroundListeners=function(){var t=R(this.services.domUtils.getMainContainer()),n=this,o=this.parent.selectAll("circle.node"),a=v.getProperty(fh,"canvasZoomSettings");t.on("click",function(){n.focal=null,n.model.updateHierarchyLevel(2),t.classed("zoomed-in",!1),n.services.canvasZoom.zoomOut(o,a)})},r.prototype.getZoomIcon=function(){return`
		<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 10 10">
			<polygon points="5.93 3.71 4.45 3.71 4.45 2.23 3.71 2.23 3.71 3.71 2.23 3.71 2.23 4.45 3.71 4.45 3.71 5.93 4.45 5.93 4.45 4.45 5.93 4.45 5.93 3.71"/>
			<path d="M7.2,6.67a4,4,0,0,0,1-2.59A4.08,4.08,0,1,0,4.07,8.15h0a4,4,0,0,0,2.59-1L9.48,10,10,9.48Zm-3.12.77A3.34,3.34,0,1,1,7.41,4.08,3.34,3.34,0,0,1,4.08,7.44Z"/>
		</svg>`},r.prototype.addEventListeners=function(){var t=this;this.parent.selectAll("circle.node").on("mouseover",function(n,o){var a=R(this);a.classed("hovered",!0);var i=t.model.getHierarchyLevel(),s=i>2&&!a.classed("focal"),c=v.getProperty(t.model.getOptions(),"canvasZoom","enabled"),d=!1;if(!s){var l=[],f=[],u=null;if(o.children){o.depth>1&&c&&(d=!0,a.classed("clickable",!0)),l=o.children.map(function(m){if(m!==null)return typeof m.data.value=="number"?{label:m.data.name,value:m.data.value}:{label:m.data.name,labelIcon:c&&i<=2?t.getZoomIcon():null,value:m.value}});var h=t.model.getOptions();f=[{label:Te(h,"tooltip.totalLabel")||"Total",value:o.value,bold:!0}],t.highlightChildren(o.children)}else u=o.value;var p=getComputedStyle(this,null).getPropertyValue("fill");t.services.events.dispatchEvent(E.Tooltip.SHOW,{event:n,hoveredElement:a,items:M9([{color:p,label:o.data.name,labelIcon:d&&c&&i<=2?t.getZoomIcon():null,value:u}],l,f)})}t.services.events.dispatchEvent(E.CirclePack.CIRCLE_MOUSEOVER,{event:n,element:a,datum:o})}).on("mousemove",function(n,o){var a=R(this);t.services.events.dispatchEvent(E.CirclePack.CIRCLE_MOUSEMOVE,{event:n,element:a,datum:o}),t.services.events.dispatchEvent(E.Tooltip.MOVE,{event:n})}).on("mouseout",function(n,o){var a=R(this);a.classed("hovered",!1),o.children&&t.unhighlightChildren(o.children),t.services.events.dispatchEvent(E.CirclePack.CIRCLE_MOUSEOUT,{event:n,element:a,datum:o}),t.services.events.dispatchEvent(E.Tooltip.HIDE,{hoveredElement:a})}).on("click",function(n,o){var a=R(this),i=a.classed("non-focal"),s=v.getProperty(t.model.getOptions(),"canvasZoom","enabled");if(s&&t.model.getHierarchyLevel()>2){var c=t.parent.selectAll("circle.node"),d=R(t.services.domUtils.getMainContainer());d.classed("zoomed-in",!1),t.focal=null,t.model.updateHierarchyLevel(2),t.services.canvasZoom.zoomOut(c,fn)}else if(o.depth===2&&o.children&&!i&&s){var c=t.parent.selectAll("circle.node"),d=R(t.services.domUtils.getMainContainer());d.classed("zoomed-in",!0),t.focal=o,t.model.updateHierarchyLevel(3),t.services.canvasZoom.zoomIn(o,c,fn),n.stopPropagation()}t.services.events.dispatchEvent(E.CirclePack.CIRCLE_CLICK,{event:n,element:a,datum:o})})},r.prototype.destroy=function(){this.parent.selectAll("circle.node").on("mouseover",null).on("mousemove",null).on("mouseout",null).on("click",null);var t=this.services.events;t.removeEventListener(E.Legend.ITEM_HOVER,this.handleLegendOnHover),t.removeEventListener(E.Legend.ITEM_MOUSEOUT,this.handleLegendMouseOut),this.removeBackgroundListeners()},r}(me),T9={value:function(){}};function Rg(){for(var e=0,r=arguments.length,t={},n;e<r;++e){if(!(n=arguments[e]+"")||n in t||/[\s.]/.test(n))throw new Error("illegal type: "+n);t[n]=[]}return new da(t)}function da(e){this._=e}function O9(e,r){return e.trim().split(/^|\s+/).map(function(t){var n="",o=t.indexOf(".");if(o>=0&&(n=t.slice(o+1),t=t.slice(0,o)),t&&!r.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:n}})}da.prototype=Rg.prototype={constructor:da,on:function(e,r){var t=this._,n=O9(e+"",t),o,a=-1,i=n.length;if(arguments.length<2){for(;++a<i;)if((o=(e=n[a]).type)&&(o=A9(t[o],e.name)))return o;return}if(r!=null&&typeof r!="function")throw new Error("invalid callback: "+r);for(;++a<i;)if(o=(e=n[a]).type)t[o]=tu(t[o],e.name,r);else if(r==null)for(o in t)t[o]=tu(t[o],e.name,null);return this},copy:function(){var e={},r=this._;for(var t in r)e[t]=r[t].slice();return new da(e)},call:function(e,r){if((o=arguments.length-2)>0)for(var t=new Array(o),n=0,o,a;n<o;++n)t[n]=arguments[n+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(a=this._[e],n=0,o=a.length;n<o;++n)a[n].value.apply(r,t)},apply:function(e,r,t){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var n=this._[e],o=0,a=n.length;o<a;++o)n[o].value.apply(r,t)}};function A9(e,r){for(var t=0,n=e.length,o;t<n;++t)if((o=e[t]).name===r)return o.value}function tu(e,r,t){for(var n=0,o=e.length;n<o;++n)if(e[n].name===r){e[n]=T9,e=e.slice(0,n).concat(e.slice(n+1));break}return t!=null&&e.push({name:r,value:t}),e}var P9=Object.freeze(Object.defineProperty({__proto__:null,dispatch:Rg},Symbol.toStringTag,{value:"Module"})),U9=Lx(P9),C9=U9.dispatch,Zi=Math.PI/180,Yn=1<<11>>5,la=1<<11,B9=function(){var e=[256,256],r=I9,t=z9,n=L9,o=ru,a=ru,i=D9,s=R9,c=Fg,d=[],l=1/0,f=C9("word","end"),u=null,h=Math.random,p={},m=j9;p.canvas=function(g){return arguments.length?(m=cr(g),p):m},p.start=function(){var g=b(m()),w=G9((e[0]>>5)*e[1]),k=null,_=d.length,x=-1,O=[],M=d.map(function(A,S){return A.text=r.call(this,A,S),A.font=t.call(this,A,S),A.style=o.call(this,A,S),A.weight=a.call(this,A,S),A.rotate=i.call(this,A,S),A.size=~~n.call(this,A,S),A.padding=s.call(this,A,S),A}).sort(function(A,S){return S.size-A.size});return u&&clearInterval(u),u=setInterval(T,0),T(),p;function T(){for(var A=Date.now();Date.now()-A<l&&++x<_&&u;){var S=M[x];S.x=e[0]*(h()+.5)>>1,S.y=e[1]*(h()+.5)>>1,F9(g,S,M,x),S.hasText&&y(w,S,k)&&(O.push(S),f.call("word",p,S),k?V9(k,S):k=[{x:S.x+S.x0,y:S.y+S.y0},{x:S.x+S.x1,y:S.y+S.y1}],S.x-=e[0]>>1,S.y-=e[1]>>1)}x>=_&&(p.stop(),f.call("end",p,O,k))}},p.stop=function(){return u&&(clearInterval(u),u=null),p};function b(g){g.width=g.height=1;var w=Math.sqrt(g.getContext("2d").getImageData(0,0,1,1).data.length>>2);g.width=(Yn<<5)/w,g.height=la/w;var k=g.getContext("2d");return k.fillStyle=k.strokeStyle="red",k.textAlign="center",{context:k,ratio:w}}function y(g,w,k){e[0],e[1];for(var _=w.x,x=w.y,O=Math.sqrt(e[0]*e[0]+e[1]*e[1]),M=c(e),T=h()<.5?1:-1,A=-T,S,P,I;(S=M(A+=T))&&(P=~~S[0],I=~~S[1],!(Math.min(Math.abs(P),Math.abs(I))>=O));)if(w.x=_+P,w.y=x+I,!(w.x+w.x0<0||w.y+w.y0<0||w.x+w.x1>e[0]||w.y+w.y1>e[1])&&(!k||!N9(w,g,e[0]))&&(!k||$9(w,k))){for(var L=w.sprite,B=w.width>>5,C=e[0]>>5,z=w.x-(B<<4),F=z&127,U=32-F,N=w.y1-w.y0,V=(w.y+w.y0)*C+(z>>5),X,de=0;de<N;de++){X=0;for(var ae=0;ae<=B;ae++)g[V+ae]|=X<<U|(ae<B?(X=L[de*B+ae])>>>F:0);V+=C}return delete w.sprite,!0}return!1}return p.timeInterval=function(g){return arguments.length?(l=g==null?1/0:g,p):l},p.words=function(g){return arguments.length?(d=g,p):d},p.size=function(g){return arguments.length?(e=[+g[0],+g[1]],p):e},p.font=function(g){return arguments.length?(t=cr(g),p):t},p.fontStyle=function(g){return arguments.length?(o=cr(g),p):o},p.fontWeight=function(g){return arguments.length?(a=cr(g),p):a},p.rotate=function(g){return arguments.length?(i=cr(g),p):i},p.text=function(g){return arguments.length?(r=cr(g),p):r},p.spiral=function(g){return arguments.length?(c=q9[g]||g,p):c},p.fontSize=function(g){return arguments.length?(n=cr(g),p):n},p.padding=function(g){return arguments.length?(s=cr(g),p):s},p.random=function(g){return arguments.length?(h=g,p):h},p.on=function(){var g=f.on.apply(f,arguments);return g===f?p:g},p};function I9(e){return e.text}function z9(){return"serif"}function ru(){return"normal"}function L9(e){return Math.sqrt(e.value)}function D9(){return(~~(Math.random()*6)-3)*30}function R9(){return 1}function F9(e,r,t,n){if(!r.sprite){var o=e.context,a=e.ratio;o.clearRect(0,0,(Yn<<5)/a,la/a);var i=0,s=0,c=0,d=t.length;for(--n;++n<d;){r=t[n],o.save(),o.font=r.style+" "+r.weight+" "+~~((r.size+1)/a)+"px "+r.font;var l=o.measureText(r.text+"m").width*a,f=r.size<<1;if(r.rotate){var u=Math.sin(r.rotate*Zi),h=Math.cos(r.rotate*Zi),p=l*h,m=l*u,b=f*h,y=f*u;l=Math.max(Math.abs(p+y),Math.abs(p-y))+31>>5<<5,f=~~Math.max(Math.abs(m+b),Math.abs(m-b))}else l=l+31>>5<<5;if(f>c&&(c=f),i+l>=Yn<<5&&(i=0,s+=c,c=0),s+f>=la)break;o.translate((i+(l>>1))/a,(s+(f>>1))/a),r.rotate&&o.rotate(r.rotate*Zi),o.fillText(r.text,0,0),r.padding&&(o.lineWidth=2*r.padding,o.strokeText(r.text,0,0)),o.restore(),r.width=l,r.height=f,r.xoff=i,r.yoff=s,r.x1=l>>1,r.y1=f>>1,r.x0=-r.x1,r.y0=-r.y1,r.hasText=!0,i+=l}for(var g=o.getImageData(0,0,(Yn<<5)/a,la/a).data,w=[];--n>=0;)if(r=t[n],!!r.hasText){for(var l=r.width,k=l>>5,f=r.y1-r.y0,_=0;_<f*k;_++)w[_]=0;if(i=r.xoff,i==null)return;s=r.yoff;for(var x=0,O=-1,M=0;M<f;M++){for(var _=0;_<l;_++){var T=k*M+(_>>5),A=g[(s+M)*(Yn<<5)+(i+_)<<2]?1<<31-_%32:0;w[T]|=A,x|=A}x?O=M:(r.y0++,f--,M--,s++)}r.y1=r.y0+O,r.sprite=w.slice(0,(r.y1-r.y0)*k)}}}function N9(e,r,t){t>>=5;for(var n=e.sprite,o=e.width>>5,a=e.x-(o<<4),i=a&127,s=32-i,c=e.y1-e.y0,d=(e.y+e.y0)*t+(a>>5),l,f=0;f<c;f++){l=0;for(var u=0;u<=o;u++)if((l<<s|(u<o?(l=n[f*o+u])>>>i:0))&r[d+u])return!0;d+=t}return!1}function V9(e,r){var t=e[0],n=e[1];r.x+r.x0<t.x&&(t.x=r.x+r.x0),r.y+r.y0<t.y&&(t.y=r.y+r.y0),r.x+r.x1>n.x&&(n.x=r.x+r.x1),r.y+r.y1>n.y&&(n.y=r.y+r.y1)}function $9(e,r){return e.x+e.x1>r[0].x&&e.x+e.x0<r[1].x&&e.y+e.y1>r[0].y&&e.y+e.y0<r[1].y}function Fg(e){var r=e[0]/e[1];return function(t){return[r*(t*=.1)*Math.cos(t),t*Math.sin(t)]}}function H9(e){var r=4,t=r*e[0]/e[1],n=0,o=0;return function(a){var i=a<0?-1:1;switch(Math.sqrt(1+4*i*a)-i&3){case 0:n+=t;break;case 1:o+=r;break;case 2:n-=t;break;default:o-=r;break}return[n,o]}}function G9(e){for(var r=[],t=-1;++t<e;)r[t]=0;return r}function j9(){return document.createElement("canvas")}function cr(e){return typeof e=="function"?e:function(){return e}}var q9={archimedean:Fg,rectangular:H9},W9=globalThis&&globalThis.__extends||function(){var e=function(r,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var a in o)o.hasOwnProperty(a)&&(n[a]=o[a])},e(r,t)};return function(r,t){e(r,t);function n(){this.constructor=r}r.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Y9=function(e){W9(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.type="wordcloud",t.renderType=oe.SVG,t.handleLegendOnHover=function(n){var o=n.detail.hoveredElement,a=t.getOptions().data.groupMapsTo;t.parent.selectAll("text.word").transition("legend-hover-wordcloud").call(function(i){return t.services.transitions.setupTransition({transition:i,name:"legend-hover-wordcloud"})}).attr("opacity",function(i){return i[a]!==o.datum().name?.3:1})},t.handleLegendMouseOut=function(n){t.parent.selectAll("text.word").transition("legend-mouseout-wordcloud").call(function(o){return t.services.transitions.setupTransition({transition:o,name:"legend-mouseout-wordcloud"})}).attr("opacity",1)},t}return r.prototype.init=function(){var t=this.services.events;t.addEventListener(E.Legend.ITEM_HOVER,this.handleLegendOnHover),t.addEventListener(E.Legend.ITEM_MOUSEOUT,this.handleLegendMouseOut)},r.prototype.render=function(t){t===void 0&&(t=!0);var n=this,o=this.getComponentContainer().attr("width","100%").attr("height","100%"),a=this.model.getDisplayData(),i=this.getFontSizeScale(a),s=this.getOptions(),c=s.wordCloud,d=c.fontSizeMapsTo,l=c.wordMapsTo,f=s.data.groupMapsTo,u=D.getSVGElementSize(o,{useAttrs:!0}),h=u.width,p=u.height;if(h===0||p===0)return;var m=B9().size([h,p]).words(a.map(function(y){var g;return g={},g[f]=y[f],g.text=y[l],g.size=y[d],g.value=y[d],g})).padding(5).rotate(0).fontSize(function(y){return i(y.size)}).on("end",b);m.start();function b(y){var g=D.appendOrSelect(o,"g.words");g.attr("transform","translate("+m.size()[0]/2+", "+m.size()[1]/2+")");var w=g.selectAll("text").data(y,function(_){return _[f]+"-"+_.text});w.exit().attr("opacity",0).remove();var k=w.enter().append("text").attr("opacity",0);k.merge(w).style("font-size",function(_){return _.size+"px"}).text(function(_){return _.text}).attr("class",function(_){return n.model.getColorClassName({classNameTypes:[ie.FILL],dataGroupName:_[f],originalClassName:"word "+(_.size>32?"light":"")})}).style("fill",function(_){return n.model.getFillColor(_[f],_.text,_)}).attr("text-anchor","middle").transition().call(function(_){return n.services.transitions.setupTransition({transition:_,name:"wordcloud-text-update-enter",animate:t})}).attr("transform",function(_){return"translate("+_.x+", "+_.y+")"}).attr("opacity",1)}this.addEventListeners()},r.prototype.getFontSizeScale=function(t){var n=this.getOptions(),o=n.wordCloud.fontSizeMapsTo,a=t.map(function(d){return d[o]}).filter(function(d){return d}),i=D.getHTMLElementSize(this.services.domUtils.getMainContainer()),s=a.length>0,c=s?zt(a):[1,1];return Nt().domain(c).range(s?n.wordCloud.fontSizeRange(i,t):[4,4])},r.prototype.addEventListeners=function(){var t=this.getOptions(),n=t.data.groupMapsTo,o=this,a=v.debounce(function(i){var s=o.parent.selectAll("text.word").transition("wordcloud-word-mouse-highlight").call(function(c){return o.services.transitions.setupTransition({transition:c,name:"wordcloud-word-mouse-highlight"})});i===null?s.attr("opacity",1):s.attr("opacity",function(){return i===this?1:.3})},6);this.parent.selectAll("text.word").on("mouseover",function(i,s){var c=this;a(c),o.services.events.dispatchEvent(E.WordCloud.WORD_MOUSEOVER,{event:i,element:R(this),datum:s}),o.services.events.dispatchEvent(E.Tooltip.SHOW,{event:i,hoveredElement:c,items:[{label:t.tooltip.wordLabel,value:s.text},{label:t.tooltip.valueLabel,value:s.value},{label:t.tooltip.groupLabel,value:s[n],class:o.model.getColorClassName({classNameTypes:[ie.TOOLTIP],dataGroupName:s[n]})}]})}).on("mousemove",function(i,s){var c=R(this);o.services.events.dispatchEvent(E.WordCloud.WORD_MOUSEMOVE,{element:c,datum:s}),o.services.events.dispatchEvent(E.Tooltip.MOVE,{event:i})}).on("click",function(i,s){o.services.events.dispatchEvent(E.WordCloud.WORD_CLICK,{event:i,element:R(this),datum:s})}).on("mouseout",function(i,s){var c=R(this);a(null),o.services.events.dispatchEvent(E.WordCloud.WORD_MOUSEOUT,{event:i,element:c,datum:s}),o.services.events.dispatchEvent(E.Tooltip.HIDE,{hoveredElement:c})})},r}(me);function nu(e,r){let t;if(r===void 0)for(const n of e)n!=null&&(t<n||t===void 0&&n>=n)&&(t=n);else{let n=-1;for(let o of e)(o=r(o,++n,e))!=null&&(t<o||t===void 0&&o>=o)&&(t=o)}return t}function X9(e,r){let t;if(r===void 0)for(const n of e)n!=null&&(t>n||t===void 0&&n>=n)&&(t=n);else{let n=-1;for(let o of e)(o=r(o,++n,e))!=null&&(t>o||t===void 0&&o>=o)&&(t=o)}return t}function Ki(e,r){let t=0;if(r===void 0)for(let n of e)(n=+n)&&(t+=n);else{let n=-1;for(let o of e)(o=+r(o,++n,e))&&(t+=o)}return t}function Z9(e){return e.depth}function K9(e,r){return r-1-e.height}function Ng(e,r){return e.sourceLinks.length?e.depth:r-1}function ea(e){return function(){return e}}function ou(e,r){return ja(e.source,r.source)||e.index-r.index}function au(e,r){return ja(e.target,r.target)||e.index-r.index}function ja(e,r){return e.y0-r.y0}function Qi(e){return e.value}function Q9(e){return e.index}function J9(e){return e.nodes}function eA(e){return e.links}function iu(e,r){const t=e.get(r);if(!t)throw new Error("missing: "+r);return t}function su({nodes:e}){for(const r of e){let t=r.y0,n=t;for(const o of r.sourceLinks)o.y0=t+o.width/2,t+=o.width;for(const o of r.targetLinks)o.y1=n+o.width/2,n+=o.width}}function tA(){let e=0,r=0,t=1,n=1,o=24,a=8,i,s=Q9,c=Ng,d,l,f=J9,u=eA,h=6;function p(){const B={nodes:f.apply(null,arguments),links:u.apply(null,arguments)};return m(B),b(B),y(B),g(B),_(B),su(B),B}p.update=function(B){return su(B),B},p.nodeId=function(B){return arguments.length?(s=typeof B=="function"?B:ea(B),p):s},p.nodeAlign=function(B){return arguments.length?(c=typeof B=="function"?B:ea(B),p):c},p.nodeSort=function(B){return arguments.length?(d=B,p):d},p.nodeWidth=function(B){return arguments.length?(o=+B,p):o},p.nodePadding=function(B){return arguments.length?(a=i=+B,p):a},p.nodes=function(B){return arguments.length?(f=typeof B=="function"?B:ea(B),p):f},p.links=function(B){return arguments.length?(u=typeof B=="function"?B:ea(B),p):u},p.linkSort=function(B){return arguments.length?(l=B,p):l},p.size=function(B){return arguments.length?(e=r=0,t=+B[0],n=+B[1],p):[t-e,n-r]},p.extent=function(B){return arguments.length?(e=+B[0][0],t=+B[1][0],r=+B[0][1],n=+B[1][1],p):[[e,r],[t,n]]},p.iterations=function(B){return arguments.length?(h=+B,p):h};function m({nodes:B,links:C}){for(const[F,U]of B.entries())U.index=F,U.sourceLinks=[],U.targetLinks=[];const z=new Map(B.map((F,U)=>[s(F,U,B),F]));for(const[F,U]of C.entries()){U.index=F;let{source:N,target:V}=U;typeof N!="object"&&(N=U.source=iu(z,N)),typeof V!="object"&&(V=U.target=iu(z,V)),N.sourceLinks.push(U),V.targetLinks.push(U)}if(l!=null)for(const{sourceLinks:F,targetLinks:U}of B)F.sort(l),U.sort(l)}function b({nodes:B}){for(const C of B)C.value=C.fixedValue===void 0?Math.max(Ki(C.sourceLinks,Qi),Ki(C.targetLinks,Qi)):C.fixedValue}function y({nodes:B}){const C=B.length;let z=new Set(B),F=new Set,U=0;for(;z.size;){for(const N of z){N.depth=U;for(const{target:V}of N.sourceLinks)F.add(V)}if(++U>C)throw new Error("circular link");z=F,F=new Set}}function g({nodes:B}){const C=B.length;let z=new Set(B),F=new Set,U=0;for(;z.size;){for(const N of z){N.height=U;for(const{source:V}of N.targetLinks)F.add(V)}if(++U>C)throw new Error("circular link");z=F,F=new Set}}function w({nodes:B}){const C=nu(B,U=>U.depth)+1,z=(t-e-o)/(C-1),F=new Array(C);for(const U of B){const N=Math.max(0,Math.min(C-1,Math.floor(c.call(null,U,C))));U.layer=N,U.x0=e+N*z,U.x1=U.x0+o,F[N]?F[N].push(U):F[N]=[U]}if(d)for(const U of F)U.sort(d);return F}function k(B){const C=X9(B,z=>(n-r-(z.length-1)*i)/Ki(z,Qi));for(const z of B){let F=r;for(const U of z){U.y0=F,U.y1=F+U.value*C,F=U.y1+i;for(const N of U.sourceLinks)N.width=N.value*C}F=(n-F+i)/(z.length+1);for(let U=0;U<z.length;++U){const N=z[U];N.y0+=F*(U+1),N.y1+=F*(U+1)}P(z)}}function _(B){const C=w(B);i=Math.min(a,(n-r)/(nu(C,z=>z.length)-1)),k(C);for(let z=0;z<h;++z){const F=Math.pow(.99,z),U=Math.max(1-F,(z+1)/h);O(C,F,U),x(C,F,U)}}function x(B,C,z){for(let F=1,U=B.length;F<U;++F){const N=B[F];for(const V of N){let X=0,de=0;for(const{source:Y,value:te}of V.targetLinks){let J=te*(V.layer-Y.layer);X+=I(Y,V)*J,de+=J}if(!(de>0))continue;let ae=(X/de-V.y0)*C;V.y0+=ae,V.y1+=ae,S(V)}d===void 0&&N.sort(ja),M(N,z)}}function O(B,C,z){for(let F=B.length,U=F-2;U>=0;--U){const N=B[U];for(const V of N){let X=0,de=0;for(const{target:Y,value:te}of V.sourceLinks){let J=te*(Y.layer-V.layer);X+=L(V,Y)*J,de+=J}if(!(de>0))continue;let ae=(X/de-V.y0)*C;V.y0+=ae,V.y1+=ae,S(V)}d===void 0&&N.sort(ja),M(N,z)}}function M(B,C){const z=B.length>>1,F=B[z];A(B,F.y0-i,z-1,C),T(B,F.y1+i,z+1,C),A(B,n,B.length-1,C),T(B,r,0,C)}function T(B,C,z,F){for(;z<B.length;++z){const U=B[z],N=(C-U.y0)*F;N>1e-6&&(U.y0+=N,U.y1+=N),C=U.y1+i}}function A(B,C,z,F){for(;z>=0;--z){const U=B[z],N=(U.y1-C)*F;N>1e-6&&(U.y0-=N,U.y1-=N),C=U.y0-i}}function S({sourceLinks:B,targetLinks:C}){if(l===void 0){for(const{source:{sourceLinks:z}}of C)z.sort(au);for(const{target:{targetLinks:z}}of B)z.sort(ou)}}function P(B){if(l===void 0)for(const{sourceLinks:C,targetLinks:z}of B)C.sort(au),z.sort(ou)}function I(B,C){let z=B.y0-(B.sourceLinks.length-1)*i/2;for(const{target:F,width:U}of B.sourceLinks){if(F===C)break;z+=U+i}for(const{source:F,width:U}of C.targetLinks){if(F===B)break;z-=U}return z}function L(B,C){let z=C.y0-(C.targetLinks.length-1)*i/2;for(const{source:F,width:U}of C.targetLinks){if(F===B)break;z+=U+i}for(const{target:F,width:U}of B.sourceLinks){if(F===C)break;z-=U}return z}return p}var Fc=Math.PI,Nc=2*Fc,xr=1e-6,rA=Nc-xr;function Vc(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function Vg(){return new Vc}Vc.prototype=Vg.prototype={constructor:Vc,moveTo:function(e,r){this._+="M"+(this._x0=this._x1=+e)+","+(this._y0=this._y1=+r)},closePath:function(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(e,r){this._+="L"+(this._x1=+e)+","+(this._y1=+r)},quadraticCurveTo:function(e,r,t,n){this._+="Q"+ +e+","+ +r+","+(this._x1=+t)+","+(this._y1=+n)},bezierCurveTo:function(e,r,t,n,o,a){this._+="C"+ +e+","+ +r+","+ +t+","+ +n+","+(this._x1=+o)+","+(this._y1=+a)},arcTo:function(e,r,t,n,o){e=+e,r=+r,t=+t,n=+n,o=+o;var a=this._x1,i=this._y1,s=t-e,c=n-r,d=a-e,l=i-r,f=d*d+l*l;if(o<0)throw new Error("negative radius: "+o);if(this._x1===null)this._+="M"+(this._x1=e)+","+(this._y1=r);else if(f>xr)if(!(Math.abs(l*s-c*d)>xr)||!o)this._+="L"+(this._x1=e)+","+(this._y1=r);else{var u=t-a,h=n-i,p=s*s+c*c,m=u*u+h*h,b=Math.sqrt(p),y=Math.sqrt(f),g=o*Math.tan((Fc-Math.acos((p+f-m)/(2*b*y)))/2),w=g/y,k=g/b;Math.abs(w-1)>xr&&(this._+="L"+(e+w*d)+","+(r+w*l)),this._+="A"+o+","+o+",0,0,"+ +(l*u>d*h)+","+(this._x1=e+k*s)+","+(this._y1=r+k*c)}},arc:function(e,r,t,n,o,a){e=+e,r=+r,t=+t,a=!!a;var i=t*Math.cos(n),s=t*Math.sin(n),c=e+i,d=r+s,l=1^a,f=a?n-o:o-n;if(t<0)throw new Error("negative radius: "+t);this._x1===null?this._+="M"+c+","+d:(Math.abs(this._x1-c)>xr||Math.abs(this._y1-d)>xr)&&(this._+="L"+c+","+d),t&&(f<0&&(f=f%Nc+Nc),f>rA?this._+="A"+t+","+t+",0,1,"+l+","+(e-i)+","+(r-s)+"A"+t+","+t+",0,1,"+l+","+(this._x1=c)+","+(this._y1=d):f>xr&&(this._+="A"+t+","+t+",0,"+ +(f>=Fc)+","+l+","+(this._x1=e+t*Math.cos(o))+","+(this._y1=r+t*Math.sin(o))))},rect:function(e,r,t,n){this._+="M"+(this._x0=this._x1=+e)+","+(this._y0=this._y1=+r)+"h"+ +t+"v"+ +n+"h"+-t+"Z"},toString:function(){return this._}};function cu(e){return function(){return e}}function nA(e){return e[0]}function oA(e){return e[1]}var aA=Array.prototype.slice;function iA(e){return e.source}function sA(e){return e.target}function cA(e){var r=iA,t=sA,n=nA,o=oA,a=null;function i(){var s,c=aA.call(arguments),d=r.apply(this,c),l=t.apply(this,c);if(a||(a=s=Vg()),e(a,+n.apply(this,(c[0]=d,c)),+o.apply(this,c),+n.apply(this,(c[0]=l,c)),+o.apply(this,c)),s)return a=null,s+""||null}return i.source=function(s){return arguments.length?(r=s,i):r},i.target=function(s){return arguments.length?(t=s,i):t},i.x=function(s){return arguments.length?(n=typeof s=="function"?s:cu(+s),i):n},i.y=function(s){return arguments.length?(o=typeof s=="function"?s:cu(+s),i):o},i.context=function(s){return arguments.length?(a=s==null?null:s,i):a},i}function dA(e,r,t,n,o){e.moveTo(r,t),e.bezierCurveTo(r=(r+n)/2,t,r,o,n,o)}function lA(){return cA(dA)}function fA(e){return[e.source.x1,e.y0]}function uA(e){return[e.target.x0,e.y1]}function pA(){return lA().source(fA).target(uA)}var hA=globalThis&&globalThis.__extends||function(){var e=function(r,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var a in o)o.hasOwnProperty(a)&&(n[a]=o[a])},e(r,t)};return function(r,t){e(r,t);function n(){this.constructor=r}r.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),gA=function(e){hA(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.type="alluvial",t.renderType=oe.SVG,t.gradient_id="gradient-id-"+Math.floor(Math.random()*99999999999),t}return r.prototype.render=function(t){var n=this,o=this.getComponentContainer({withinChartClip:!0});o.html("");var a=D.getSVGElementSize(o,{useAttrs:!0}),i=a.width,s=a.height;if(!(i<1||s<1)){var c=this.model.getOptions(),d=this.model.getDisplayData(),l=v.getProperty(this.getOptions(),"color","gradient","enabled"),f=yt.minNodePadding;c.alluvial.nodePadding>yt.minNodePadding&&(f=c.alluvial.nodePadding);var u=v.getProperty(c,"alluvial","nodeAlignment"),h=Ng;u===Ve.LEFT?h=Z9:u===Ve.RIGHT&&(h=K9);var p=tA().nodeId(function(_){return _.name}).nodeWidth(yt.nodeWidth).nodePadding(f).nodeAlign(h).extent([[2,30],[i-2,s]]);this.graph=p({nodes:c.alluvial.nodes.map(function(_){return Object.assign({},_)}),links:d.map(function(_){return Object.assign({},_)})}),this.graph.nodes=this.graph.nodes.filter(function(_){return _.value!==0});var m={};this.graph.nodes.forEach(function(_){var x,O=_.x0;_.category&&(m[O]=(x=_)===null||x===void 0?void 0:x.category)});var b=o.append("g").classed("header-arrows",!0).selectAll("g").data(Object.keys(m)).join("g").attr("transform",function(_){return"translate("+_+", 0)"});b.append("text").attr("id",function(_,x){return n.services.domUtils.generateElementIDString("alluvial-category-"+x)}).style("font-size","14px").text(function(_){return m[_]?m[_]:""}).attr("y",20).attr("x",function(_,x){var O=n.services.domUtils.generateElementIDString("alluvial-category-"+x),M=D.getSVGElementSize(R("text#"+O),{useBBox:!0}).width,T=0;return _+T>=M&&(T=-M+4),T});var y=o.append("g").attr("fill","none").selectAll("g").data(this.graph.links);if(y.exit().remove(),l){var g=v.getProperty(this.getOptions(),"color","scale");g&&y.enter().append("linearGradient").attr("id",function(_){return n.gradient_id+"-link-"+_.index}).attr("gradientUnits","userSpaceOnUse").call(function(_){return _.append("stop").attr("offset","0%").attr("stop-color",function(x){return g[x.source.name]})}).call(function(_){return _.append("stop").attr("offset","100%").attr("stop-color",function(x){return g[x.target.name]})}),y.exit().remove()}y.enter().append("path").classed("link",!0).attr("d",pA()).attr("id",function(_){return n.services.domUtils.generateElementIDString("alluvial-line-"+_.index)}).attr("class",function(_){return c.alluvial.monochrome?n.model.getColorClassName({classNameTypes:[ie.STROKE],dataGroupName:0,originalClassName:"link"}):n.model.getColorClassName({classNameTypes:[ie.STROKE],dataGroupName:_.source.index,originalClassName:"link"})}).style("stroke",function(_){return l?"url(#"+n.gradient_id+"-link-"+_.index+")":n.model.getFillColor(_.source.name)}).attr("stroke-width",function(_){return Math.max(1,_.width)}).style("stroke-opacity",yt.opacity.default).attr("aria-label",function(_){return _.source.name+" \u2192 "+_.target.name+" ("+_.value+(c.alluvial.units?" "+c.alluvial.units:"")+")"});var w=o.append("g").selectAll("g").data(this.graph.nodes).enter().append("g").attr("id",function(_){return n.services.domUtils.generateElementIDString("alluvial-node-"+_.index)}).classed("node-group",!0).attr("transform",function(_){return"translate("+_.x0+", "+_.y0+")"});w.append("rect").classed("node",!0).attr("height",function(_){return _.y1-_.y0}).attr("width",function(_){return _.x1-_.x0}).attr("fill","black");var k=w.append("g").attr("id",function(_){return n.services.domUtils.generateElementIDString("alluvial-node-title-"+_.index)});k.append("text").attr("id",function(_){return n.services.domUtils.generateElementIDString("alluvial-node-text-"+_.index)}).attr("class","node-text").style("font-size","12px").attr("text-anchor","start").attr("fill","white").attr("x",4).attr("dy",13).text(function(_){return _.name+" ("+_.value+")"}).attr("aria-label",function(_){return _.name+" ("+_.value+")"}),k.append("rect").classed("node-text-bg",!0).attr("width",function(_,x){var O=n.services.domUtils.generateElementIDString("alluvial-node-text-"+x),M=D.getSVGElementSize(R("text#"+O),{useBBox:!0}).width;return M+8}).attr("height",18).attr("stroke-width",2).lower(),k.attr("transform",function(_,x){var O=n.services.domUtils.generateElementIDString("alluvial-node-text-"+x),M=D.getSVGElementSize(R("text#"+O),{useBBox:!0}).width,T=(_.y1-_.y0)/2-9,A=_.x1-_.x0;return _.x1>=M?A=A-(M+16):A+=4,"translate("+A+", "+T+")"}),this.addLineEventListener(),this.addNodeEventListener()}},r.prototype.addLineEventListener=function(){var t=this.getOptions(),n=this,o=v.debounce(function(a,i){i===void 0&&(i="mouseover");var s=n.parent.selectAll("path.link").transition().call(function(c){return n.services.transitions.setupTransition({transition:c,name:"alluvial-links-mouse-highlight"})});i==="mouseout"?(R(a).lower(),s.style("stroke-opacity",yt.opacity.default)):s.style("stroke-opacity",function(){return a===this?(R(this).raise(),yt.opacity.selected):yt.opacity.unfocus})},33);this.parent.selectAll("path.link").on("mouseover",function(a,i){var s=R(this);o(this,"mouseover"),s.classed("link-hovered",!0);var c=getComputedStyle(this).getPropertyValue("stroke");n.services.events.dispatchEvent(E.Alluvial.LINE_MOUSEOVER,{event:a,element:s,datum:i}),n.services.events.dispatchEvent(E.Tooltip.SHOW,{event:a,hoveredElement:s,items:[{label:i.target.name,value:i.value+(t.alluvial.units?" "+t.alluvial.units:""),color:c,labelIcon:n.getRightArrowIcon()}]})}).on("mousemove",function(a,i){n.services.events.dispatchEvent(E.Alluvial.LINE_MOUSEMOVE,{event:a,element:R(this),datum:i}),n.services.events.dispatchEvent(E.Tooltip.MOVE,{event:a})}).on("click",function(a,i){n.services.events.dispatchEvent(E.Alluvial.LINE_CLICK,{event:a,element:R(this),datum:i})}).on("mouseout",function(a,i){var s=R(this);o(this,"mouseout"),s.classed("link-hovered",!1),n.services.events.dispatchEvent(E.Alluvial.LINE_MOUSEOUT,{event:a,element:s,datum:i}),n.services.events.dispatchEvent(E.Tooltip.HIDE,{event:a,hoveredElement:s})})},r.prototype.addNodeEventListener=function(){var t=this,n=this,o=v.debounce(function(a,i){if(a===void 0&&(a=[]),i===void 0&&(i="mouseover"),i==="mouseout"||a.length===0){n.parent.selectAll("path.link").classed("link-hovered",!1).data(t.graph.links,function(c){return c.index}).order().style("stroke-opacity",yt.opacity.default);return}var s=n.parent.selectAll("path.link").transition().call(function(c){return t.services.transitions.setupTransition({transition:c,name:"alluvial-link-mouse-highlight"})});s.style("stroke-opacity",function(c){return a.some(function(d){return d===c.index})?(R(this).classed("link-hovered",!0).raise(),yt.opacity.selected):yt.opacity.unfocus})},66);n.parent.selectAll(".node-group").on("mouseover",function(a,i){var s=R(this),c=[];if(n.traverse({link:"sourceLinks",node:"target"},i,c),n.traverse({link:"targetLinks",node:"source"},i,c),c.length){var d=v.getTranformOffsets(s.attr("transform"));if(s.attr("transform","translate("+(d.x-2)+", "+d.y+")"),s.classed("node-hovered",!0).selectAll("rect.node").attr("width",8),i.x0-2===0){var l=n.services.domUtils.generateElementIDString("alluvial-node-title-"+i.index),f=n.parent.select("g#"+l),u=v.getTranformOffsets(f.attr("transform"));f.attr("transform","translate("+(u.x+4)+","+u.y+")")}var h=n.services.domUtils.generateElementIDString("alluvial-node-text-"+i.index);n.parent.select("text#"+h).style("font-weight","bold"),o(c,"mouseover"),n.services.events.dispatchEvent(E.Alluvial.NODE_MOUSEOVER,{event:a,element:s,datum:i})}}).on("mousemove",function(a,i){n.services.events.dispatchEvent(E.Alluvial.NODE_MOUSEMOVE,{event:a,element:R(this),datum:i}),n.services.events.dispatchEvent(E.Tooltip.MOVE,{event:a})}).on("click",function(a,i){n.services.events.dispatchEvent(E.Alluvial.NODE_CLICK,{event:a,element:R(this),datum:i})}).on("mouseout",function(a,i){var s=R(this),c=v.getTranformOffsets(s.attr("transform"));if(s.classed("node-hovered",!1).attr("transform","translate("+(c.x+2)+", "+c.y+")").select("rect.node").attr("width",yt.nodeWidth),i.x0-2===0){var d=n.services.domUtils.generateElementIDString("alluvial-node-title-"+i.index),l=n.parent.select("g#"+d),f=v.getTranformOffsets(l.attr("transform"));l.attr("transform","translate("+(f.x-4)+","+f.y+")")}var u=n.services.domUtils.generateElementIDString("alluvial-node-text-"+i.index);n.parent.select("text#"+u).style("font-weight","normal"),o([],"mouseout"),n.services.events.dispatchEvent(E.Alluvial.NODE_MOUSEOUT,{event:a,element:s,datum:i}),n.services.events.dispatchEvent(E.Tooltip.HIDE,{hoveredElement:s})})},r.prototype.traverse=function(t,n,o){var a=this;o===void 0&&(o=[]);var i=n[t.link].map(function(s){return o.push(s.index),s[t.node]});i.forEach(function(s){return a.traverse(t,s,o)})},r.prototype.getRightArrowIcon=function(){return`
		<svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 32 32">
			<polygon points="18 6 16.57 7.393 24.15 15 4 15 4 17 24.15 17 16.57 24.573 18 26 28 16 18 6"/>
			<rect  data-name="&lt;Transparent Rectangle&gt;" style="fill: none;" width="32" height="32"/>
		</svg>`},r.prototype.destroy=function(){this.parent.selectAll("path.line,.node-group").on("mouseover",null).on("mousemove",null).on("click",null).on("mouseout",null)},r}(me),mA=globalThis&&globalThis.__extends||function(){var e=function(r,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var a in o)o.hasOwnProperty(a)&&(n[a]=o[a])},e(r,t)};return function(r,t){e(r,t);function n(){this.constructor=r}r.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),vA=function(e){mA(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.type="heatmap",t.renderType=oe.SVG,t.matrix={},t.xBandwidth=0,t.yBandwidth=0,t.translationUnits={x:0,y:0},t.handleAxisOnHover=function(n){var o=n.detail,a=o.datum,i=t.model.getUniqueRanges(),s=t.model.getUniqueDomain(),c=t.services.cartesianScales.getDomainLabel(),d=t.services.cartesianScales.getRangeLabel(),l=t.services.cartesianScales.getMainXScale(),f=t.services.cartesianScales.getMainYScale(),u="",h=0,p=0,m=0;t.matrix[a]!==void 0?(u=c,i.forEach(function(b){var y=t.matrix[a][b].value||0;h+=y,p=y<p?y:p,m=y>m?y:m})):(u=d,s.forEach(function(b){var y=t.matrix[b][a].value||0;h+=y,p=y<p?y:p,m=y>m?y:m})),l(a)!==void 0?t.parent.select("g.multi-cell.column-highlight").classed("highlighter-hidden",!1).attr("transform","translate("+l(a)+", "+ur(f.range())+")"):f(a)!==void 0&&t.parent.select("g.multi-cell.row-highlight").classed("highlighter-hidden",!1).attr("transform","translate("+ur(l.range())+","+f(a)+")"),t.services.events.dispatchEvent(E.Tooltip.SHOW,{event:o.event,hoveredElement:R(n.detail.element),items:[{label:u,value:a,bold:!0},{label:"Min",value:p},{label:"Max",value:m},{label:"Average",value:h/s.length}]})},t.handleAxisMouseOut=function(n){t.parent.selectAll("g.multi-cell").classed("highlighter-hidden",!0),t.services.events.dispatchEvent(E.Tooltip.HIDE,{event:n})},t}return r.prototype.init=function(){var t=this.services.events;t.addEventListener(E.Axis.LABEL_MOUSEOVER,this.handleAxisOnHover),t.addEventListener(E.Axis.LABEL_MOUSEOUT,this.handleAxisMouseOut),t.addEventListener(E.Axis.LABEL_FOCUS,this.handleAxisOnHover),t.addEventListener(E.Axis.LABEL_BLUR,this.handleAxisMouseOut)},r.prototype.render=function(t){var n=this,o=this.getComponentContainer({withinChartClip:!0});o.lower();var a=this.services.cartesianScales;if(this.matrix=this.model.getMatrix(),o.html(""),!v.getProperty(this.getOptions(),"data","loading")){var i=a.getMainXScale(),s=a.getMainYScale(),c=a.getDomainIdentifier(),d=a.getRangeIdentifier(),l=this.model.getUniqueDomain(),f=this.model.getUniqueRanges(),u=this.model.getMatrixAsArray(),h=i.range(),p=s.range();this.xBandwidth=Math.abs((h[1]-h[0])/l.length),this.yBandwidth=Math.abs((p[1]-p[0])/f.length);var m=this.services.domUtils.generateElementIDString("heatmap-pattern-stripes");o.append("defs").append("pattern").attr("id",m).attr("width",3).attr("height",3).attr("patternUnits","userSpaceOnUse").attr("patternTransform","rotate(45)").append("rect").classed("pattern-fill",!0).attr("width",.5).attr("height",8);var b=o.selectAll().data(u).enter().append("g").attr("class",function(y){return"heat-"+y.index}).classed("cell",!0).attr("transform",function(y){return"translate("+i(y[c])+", "+s(y[d])+")"}).append("rect").attr("class",function(y){return n.model.getColorClassName({value:y.value,originalClassName:"heat-"+y.index})}).classed("heat",!0).classed("null-state",function(y){return y.index===-1||y.value===null}).attr("width",this.xBandwidth).attr("height",this.yBandwidth).style("fill",function(y){return y.index===-1||y.value===null?"url(#"+m+")":n.model.getFillColor(Number(y.value))}).attr("aria-label",function(y){return y.value});this.createOuterBox("g.cell-highlight",this.xBandwidth,this.yBandwidth),this.createOuterBox("g.multi-cell.column-highlight",this.xBandwidth,Math.abs(p[1]-p[0])),this.createOuterBox("g.multi-cell.row-highlight",Math.abs(h[1]-h[0]),this.yBandwidth),this.determineDividerStatus()&&(b.style("stroke-width","1px"),this.parent.select("g.cell-highlight").classed("cell-2",!0)),this.addEventListener()}},r.prototype.createOuterBox=function(t,n,o){var a=D.appendOrSelect(this.parent,t).classed("shadows",!0).classed("highlighter-hidden",!0);D.appendOrSelect(a,"line.top").attr("x1",-1).attr("x2",n+1),D.appendOrSelect(a,"line.left").attr("x1",0).attr("y1",-1).attr("x2",0).attr("y2",o+1),D.appendOrSelect(a,"line.down").attr("x1",-1).attr("x2",n+1).attr("y1",o).attr("y2",o),D.appendOrSelect(a,"line.right").attr("x1",n).attr("x2",n).attr("y1",-1).attr("y2",o+1)},r.prototype.determineDividerStatus=function(){var t=v.getProperty(this.getOptions(),"heatmap","divider","state");return t!==ln.OFF&&(t===ln.AUTO&&Ds.minCellDividerDimension<=this.xBandwidth&&Ds.minCellDividerDimension<=this.yBandwidth||t===ln.ON)},r.prototype.addEventListener=function(){var t=this,n=this.services.cartesianScales,o=this.getOptions(),a=Te(o,"tooltip.totalLabel"),i=n.getDomainIdentifier(),s=n.getRangeIdentifier(),c=n.getDomainLabel(),d=n.getRangeLabel();this.parent.selectAll("g.cell").on("mouseover",function(l,f){var u=R(this),h=u.select("rect.heat"),p=h.classed("null-state");if(!p){var m=v.getTranformOffsets(u.attr("transform"));R("g.cell-highlight").attr("transform","translate("+(m.x+t.translationUnits.x)+", "+(m.y+t.translationUnits.y)+")").classed("highlighter-hidden",!1),t.services.events.dispatchEvent(E.Heatmap.HEATMAP_MOUSEOVER,{event:l,element:h,datum:f}),t.services.events.dispatchEvent(E.Tooltip.SHOW,{event:l,items:[{label:c,value:f[i]},{label:d,value:f[s]},{label:a||"Total",value:f.value,color:h.style("fill")}]})}}).on("mousemove",function(l,f){t.services.events.dispatchEvent(E.Heatmap.HEATMAP_MOUSEMOVE,{event:l,element:R(this),datum:f}),t.services.events.dispatchEvent(E.Tooltip.MOVE,{event:l})}).on("click",function(l,f){t.services.events.dispatchEvent(E.Heatmap.HEATMAP_CLICK,{event:l,element:R(this),datum:f})}).on("mouseout",function(l,f){var u=R(this),h=u.select("rect.heat"),p=h.classed("null-state");R("g.cell-highlight").classed("highlighter-hidden",!0),p||(t.services.events.dispatchEvent(E.Heatmap.HEATMAP_MOUSEOUT,{event:l,element:h,datum:f}),t.services.events.dispatchEvent(E.Tooltip.HIDE,{event:l,hoveredElement:h}))})},r.prototype.destroy=function(){this.parent.selectAll("rect.heat").on("mouseover",null).on("mousemove",null).on("click",null).on("mouseout",null);var t=this.services.events;t.removeEventListener(E.Legend.ITEM_HOVER,this.handleAxisOnHover),t.removeEventListener(E.Legend.ITEM_MOUSEOUT,this.handleAxisMouseOut)},r}(me),bA=globalThis&&globalThis.__extends||function(){var e=function(r,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var a in o)o.hasOwnProperty(a)&&(n[a]=o[a])},e(r,t)};return function(r,t){e(r,t);function n(){this.constructor=r}r.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Lr=function(e){bA(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.type="spacer",t}return r.prototype.render=function(){this.getComponentContainer().style("width",(this.configs.size||Rs.default.size)+"px").style("height",(this.configs.size||Rs.default.size)+"px").attr("opacity",0)},r}(me),yA=globalThis&&globalThis.__extends||function(){var e=function(r,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var a in o)o.hasOwnProperty(a)&&(n[a]=o[a])},e(r,t)};return function(r,t){e(r,t);function n(){this.constructor=r}r.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Rt=function(e){yA(r,e);function r(t,n,o,a){var i=e.call(this,t,n,a)||this;return i.type="layout",i.configs=a,i.children=o,i._instanceID=r.instanceID++,i.init(),i}return r.prototype.init=function(){this.children.forEach(function(t){t.components.forEach(function(n){n.init()})})},r.prototype.getPreferedAndFixedSizeSum=function(){var t=this.parent,n=0;return t.selectAll("div.layout-child-"+this._instanceID).filter(function(o){var a=v.getProperty(o,"growth");return a===ge.PREFERRED||a===ge.FIXED}).each(function(o){n+=o.size}),n},r.prototype.getNumOfStretchChildren=function(){var t=this.parent;return t.selectAll("div.layout-child-"+this._instanceID).filter(function(n){return v.getProperty(n,"growth")===ge.STRETCH}).size()},r.prototype.render=function(t){var n=this;t===void 0&&(t=!0);var o=this.parent,a=D.getHTMLElementSize(o.node()),i=a.width,s=a.height,c=this.configs.direction===Be.ROW||this.configs.direction===Be.ROW_REVERSE,d=v.getProperty(this.model.getOptions(),"style","prefix"),l=o.classed(tt+"--"+d+"--layout-row",this.configs.direction===Be.ROW).classed(tt+"--"+d+"--layout-row-reverse",this.configs.direction===Be.ROW_REVERSE).classed(tt+"--"+d+"--layout-column",this.configs.direction===Be.COLUMN).classed(tt+"--"+d+"--layout-column-reverse",this.configs.direction===Be.COLUMN_REVERSE).classed(tt+"--"+d+"--layout-alignitems-center",this.configs.alignItems===vn.CENTER).selectAll("div.layout-child-"+this._instanceID).data(this.children,function(h){return h.id}),f=l.enter().append("div");f.merge(o.selectAll("div.layout-child-"+this._instanceID)).attr("class",function(h){return"layout-child layout-child-"+n._instanceID+" "+h.id}).each(function(h){var p=this;h.components.forEach(function(m){var b=R(p),y=v.getProperty(h,"renderType"),g=y===oe.SVG;m.setParent(g?D.appendOrSelect(b,"svg.layout-svg-wrapper").attr("width","100%").attr("height","100%"):b);var w=v.getProperty(h,"growth");(w===ge.PREFERRED||w===ge.FIXED)&&m.render(t)})}),o.selectAll("div.layout-child-"+this._instanceID).style("height",null).style("width",null).each(function(h){var p=v.getProperty(h,"growth"),m=v.getProperty(h,"renderType"),b=m===oe.SVG?D.getSVGElementSize(R(this).select("svg.layout-svg-wrapper"),{useBBox:!0}):D.getHTMLElementSize(this);if(p===ge.PREFERRED){var y=c?b.width:b.height,g=c?i:s;h.size=y/g*100}}),l.exit().remove(),this.children.filter(function(h){var p=v.getProperty(h,"growth");return p===ge.STRETCH}).forEach(function(h,p){h.size=(100-+n.getPreferedAndFixedSizeSum())/+n.getNumOfStretchChildren()});var u=o.selectAll("div.layout-child-"+this._instanceID).data(this.children,function(h){return h.id});c?u.style("width",function(h){return h.size/100*i+"px"}).style("height","100%"):u.style("height",function(h){return h.size/100*s+"px"}).style("width","100%"),u.each(function(h,p){h.components.forEach(function(m){var b=v.getProperty(h,"growth");b===ge.STRETCH&&m.render(t)})})},r.prototype.setModel=function(t){e.prototype.setModel.call(this,t),this.children.forEach(function(n){n.components.forEach(function(o){return o.setModel(t)})})},r.prototype.setServices=function(t){e.prototype.setServices.call(this,t),this.children.forEach(function(n){n.components.forEach(function(o){return o.setServices(t)})})},r.prototype.destroy=function(){this.children.forEach(function(t){t.components.forEach(function(n){return n.destroy()})})},r.instanceID=Math.floor(Math.random()*99999999999),r}(me),wA=globalThis&&globalThis.__extends||function(){var e=function(r,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var a in o)o.hasOwnProperty(a)&&(n[a]=o[a])},e(r,t)};return function(r,t){e(r,t);function n(){this.constructor=r}r.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),$g=function(e){wA(r,e);function r(t,n,o){var a,i=e.call(this,t,n,o)||this;return i.type="axes",i.renderType=oe.SVG,i.truncation=(a={},a[q.LEFT]=!1,a[q.RIGHT]=!1,a[q.TOP]=!1,a[q.BOTTOM]=!1,a),o&&(i.configs=o),i.margins=i.configs.margins,i}return r.prototype.render=function(t){var n=this;t===void 0&&(t=!0);var o=this.configs.position,a=this.getOptions(),i=v.getProperty(a,"axes",o,"visible"),s=this.getComponentContainer(),c=D.getSVGElementSize(s,{useAttrs:!0}),d=c.width,l=c.height,f=D.appendOrSelect(s,"g.axis."+o),u,h;o===q.BOTTOM||o===q.TOP?(u=this.configs.axes[q.LEFT]?this.margins.left:0,h=this.configs.axes[q.RIGHT]?d-this.margins.right:d):(u=l-this.margins.bottom,h=this.margins.top);var p=this.services.cartesianScales.getScaleByPosition(o);this.scaleType===ne.LABELS||this.scaleType===ne.LABELS_RATIO?p.rangeRound([u,h]):p.range([u,h]);var m;switch(o){case q.LEFT:m=wg;break;case q.BOTTOM:m=Fd;break;case q.RIGHT:m=RS;break;case q.TOP:m=DS;break}f.attr("aria-label",o+" axis");var b=!f.select("g.ticks").empty(),y=D.appendOrSelect(f,"g.ticks");b||(y.attr("role",fe.GRAPHICS_OBJECT+" "+fe.GROUP),y.attr("aria-label",o+" ticks"));var g=D.appendOrSelect(f,"g.ticks.invisible").style("opacity","0").style("pointer-events","none").attr("aria-hidden",!0).attr("aria-label","invisible "+o+" ticks"),w=v.getProperty(a,"axes",o),k=this.scaleType===ne.TIME||w.scaleType===ne.TIME,_=o===q.LEFT||o===q.RIGHT,x=this.model.get("zoomDomain");if(x&&k&&!_&&p.domain(x),!i){y.attr("aria-hidden",!0);return}var O=v.getProperty(w,"scaleType"),M=v.getProperty(a,"data","loading"),T=v.getProperty(w,"ticks","number"),A=v.getProperty(w,"ticks","values"),S=v.getProperty(w,"truncation","type"),P=v.getProperty(w,"truncation","threshold"),I=v.getProperty(w,"truncation","numCharacter"),L=T!==null,B=v.getProperty(a,"timeScale"),C=D.appendOrSelect(g,"g.tick"),z=D.appendOrSelect(C,"text").text("0"),F=D.getSVGElementSize(z.node(),{useBBox:!0}).height;C.remove();var U=this.scaleType||w.scaleType||ne.LINEAR,N=m(p).tickSizeOuter(0);if(p.ticks){var V=void 0;if(L?V=T:(V=Yt.ticks.number,_&&(V=this.getNumberOfFittingTicks(l,F,Yt.ticks.verticalSpaceRatio))),p.ticks().length===1&&p.ticks()[0]===0&&(V=0),N.ticks(V),k)if(!p.ticks(V).length)N.tickValues([]);else{var X=v.getProperty(a,"timeScale","addSpaceOnEdges"),de=v.getProperty(a,"axes",o,"domain"),ae=void 0,Y=p.copy();X&&!de&&Y.nice(V),ae=Y.ticks(V),X&&ae.length>2&&!de&&(ae.splice(ae.length-1,1),ae.splice(0,1)),N.tickValues(ae)}}var te,J=v.getProperty(w,"ticks","formatter");if(k){var ce=Rc(N.tickValues());J===null?te=function(ue,$e){return Dc(ue,$e,N.tickValues(),ce,B)}:te=function(ue,$e){var Do=Dc(ue,$e,N.tickValues(),ce,B);return J(ue,$e,Do)}}else J===null?U===ne.LINEAR&&(te=function(ue){return ue.toLocaleString()}):te=J;N.tickFormat(te);var K=this.services.cartesianScales.getScaleByPosition(o).domain(),ee=K[0],le=K[1],W;if(A){if(k)A.forEach(function(ue,$e){ue.getTime===void 0&&(A[$e]=new Date(ue))}),W=A.filter(function(ue){var $e=ue.getTime();return $e>=new Date(ee).getTime()&&$e<=new Date(le).getTime()});else if(O===ne.LABELS){var pe=this.services.cartesianScales.getScaleByPosition(o).domain();W=A.filter(function(ue){return pe.includes(ue)})}else W=A.filter(function(ue){return ue>=ee&&ue<=le});N.tickValues(W)}switch(o){case q.LEFT:y.attr("transform","translate("+this.margins.left+", 0)");break;case q.BOTTOM:y.attr("transform","translate(0, "+(l-this.margins.bottom)+")");break;case q.RIGHT:y.attr("transform","translate("+(d-this.margins.right)+", 0)");break;case q.TOP:y.attr("transform","translate(0, "+this.margins.top+")");break}var se=this.model.isDataEmpty();if(w.title){var G=D.appendOrSelect(f,"text.axis-title").html(se||M?"":w.title),Z=v.getProperty(w,"titleOrientation");switch(o){case q.LEFT:Z===ba.RIGHT?G.attr("transform","rotate(90)").attr("y",0).attr("x",p.range()[0]/2).attr("dy","-0.5em").style("text-anchor","middle"):G.attr("transform","rotate(-90)").attr("y",0).attr("x",-(p.range()[0]/2)).attr("dy","0.75em").style("text-anchor","middle");break;case q.BOTTOM:G.attr("transform","translate("+(this.margins.left/2+p.range()[1]/2)+", "+(l+4)+")").style("text-anchor","middle");break;case q.RIGHT:Z===ba.LEFT?G.attr("transform","rotate(-90)").attr("y",d).attr("x",-(p.range()[0]/2)).style("text-anchor","middle"):G.attr("transform","rotate(90)").attr("y",-d).attr("x",p.range()[0]/2).attr("dy","0.75em").style("text-anchor","middle");break;case q.TOP:var $=D.getSVGElementSize(G,{useBBox:!0}).height;G.attr("transform","translate("+(this.margins.left/2+p.range()[1]/2)+", "+$/2+")").style("text-anchor","middle");break}}if(k){var ve=Rc(N.tickValues()),bt=B.showDayName,We=y;t&&(y=y.transition().call(function(ue){return n.services.transitions.setupTransition({transition:ue,name:"axis-update",animate:t})})),y=y.call(N);var Io=We.selectAll(".tick").data(N.tickValues(),p).order().select("text");Io.style("font-weight",function(ue,$e){return kg(ue,$e,N.tickValues(),ve,bt)?"bold":"normal"})}else!t||!b?y=y.call(N):y=y.transition().call(function(ue){return n.services.transitions.setupTransition({transition:ue,name:"axis-update",animate:t})}).call(N);if(g.call(N),o===q.BOTTOM||o===q.TOP){var Ht=!1,et=v.getProperty(w,"ticks","rotation");if(et===eo.ALWAYS)Ht=!0;else if(et===eo.NEVER)Ht=!1;else if(!et||et===eo.AUTO)if(p.step){var jr=g.selectAll("g.tick text").nodes();Ht=jr.some(function(ue){return D.getSVGElementSize(ue,{useBBox:!0}).width>=p.step()})}else{Ht=!1;var Gt=g.append("text").text("A"),zo=D.getSVGElementSize(Gt.node(),{useBBox:!0}).width,Bn;g.selectAll("g.tick").each(function(){var ue=R(this),$e=parseFloat(v.getProperty(v.getTranslationValues(this),"tx"));$e!==null&&Bn+ue.text().length*zo*.8>=$e&&(Ht=!0),Bn=$e}),Gt.remove()}Ht?(L||(N.ticks(this.getNumberOfFittingTicks(d,F,Yt.ticks.horizontalSpaceRatio)),g.call(N),y.call(N)),f.selectAll("g.ticks g.tick text").attr("transform","rotate(-45)").style("text-anchor",o===q.TOP?"start":"end")):f.selectAll("g.ticks g.tick text").attr("transform",null).style("text-anchor",null)}if(M?f.attr("opacity",0):f.attr("opacity",1),y.selectAll("g.tick").attr("aria-label",function(ue){return ue}),g.selectAll("g.tick").attr("aria-label",function(ue){return ue}),S!==Kt.NONE&&O===ne.LABELS&&!A){var or=this.services.cartesianScales.getScaleDomain(o);if(or.length>0){var Lo=s.select("g.axis."+o+" g.ticks g.tick").html();f.selectAll("g.ticks g.tick").html(Lo);var qr=this;f.selectAll("g.tick text").data(or).text(function(ue){return ue.length>P?(qr.truncation[o]=!0,v.truncateLabel(ue,S,I)):ue}),this.getInvisibleAxisRef().selectAll("g.tick text").data(or).text(function(ue){return ue.length>P?v.truncateLabel(ue,S,I):ue}),f.selectAll("g.ticks").html(this.getInvisibleAxisRef().html()),f.selectAll("g.tick text").data(or)}}this.addEventListeners()},r.prototype.addEventListeners=function(){var t=this.getComponentContainer(),n=this.configs.position,o=D.appendOrSelect(t,"g.axis."+n),a=this.getOptions(),i=v.getProperty(a,"axes",n),s=v.getProperty(i,"scaleType"),c=v.getProperty(i,"truncation","threshold"),d=this;o.selectAll("g.tick text").on("mouseover",function(l,f){d.services.events.dispatchEvent(E.Axis.LABEL_MOUSEOVER,{event:l,element:R(this),datum:f}),s===ne.LABELS&&f.length>c&&d.services.events.dispatchEvent(E.Tooltip.SHOW,{event:l,hoveredElement:R(this),content:f})}).on("mousemove",function(l,f){d.services.events.dispatchEvent(E.Axis.LABEL_MOUSEMOVE,{event:l,element:R(this),datum:f}),s===ne.LABELS&&f.length>c&&d.services.events.dispatchEvent(E.Tooltip.MOVE,{event:l})}).on("click",function(l,f){d.services.events.dispatchEvent(E.Axis.LABEL_CLICK,{event:l,element:R(this),datum:f})}).on("mouseout",function(l,f){d.services.events.dispatchEvent(E.Axis.LABEL_MOUSEOUT,{event:l,element:R(this),datum:f}),s===ne.LABELS&&d.services.events.dispatchEvent(E.Tooltip.HIDE)})},r.prototype.getInvisibleAxisRef=function(){var t=this.configs.position;return this.getComponentContainer().select("g.axis."+t+" g.ticks.invisible")},r.prototype.getTitleRef=function(){var t=this.configs.position;return this.getComponentContainer().select("g.axis."+t+" text.axis-title")},r.prototype.getNumberOfFittingTicks=function(t,n,o){var a=Math.floor(t/(n*o));return v.clamp(a,2,Yt.ticks.number)},r.prototype.destroy=function(){var t=this.getComponentContainer(),n=this.configs.position,o=D.appendOrSelect(t,"g.axis."+n);o.selectAll("g.tick text").on("mouseover",null).on("mousemove",null).on("mouseout",null)},r}(me),_A=globalThis&&globalThis.__extends||function(){var e=function(r,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var a in o)o.hasOwnProperty(a)&&(n[a]=o[a])},e(r,t)};return function(r,t){e(r,t);function n(){this.constructor=r}r.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),qa=globalThis&&globalThis.__assign||function(){return qa=Object.assign||function(e){for(var r,t=1,n=arguments.length;t<n;t++){r=arguments[t];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},qa.apply(this,arguments)},xA=function(e){_A(r,e);function r(t,n,o){return e.call(this,t,n,o)||this}return r.prototype.render=function(t){t===void 0&&(t=!0),e.prototype.render.call(this,t),e.prototype.destroy.call(this);var n=this.configs.position,o=this.getComponentContainer(),a=D.appendOrSelect(o,"g.axis."+n),i=this;a.selectAll("g.tick").each(function(s,c){var d=R(this);d.classed("tick-hover",!0).attr("tabindex",c===0?0:-1);var l=d.select("text"),f=D.getSVGElementSize(l,{useBBox:!0}),u=f.width,h=f.height,p=D.appendOrSelect(d,"rect.axis-holder"),m=0,b=0;switch(n){case q.LEFT:m=-u+Number(l.attr("x")),b=-(h/2);break;case q.RIGHT:m=Math.abs(Number(l.attr("x"))),b=-(h/2);break;case q.TOP:m=-(u/2),b=-h+Number(l.attr("y"))/2,i.truncation[n]&&(m=0,p.attr("transform","rotate(-45)"));break;case q.BOTTOM:m=-(u/2),b=h/2-2,i.truncation[n]&&(m=-u,p.attr("transform","rotate(-45)"));break}p.attr("x",m-Yt.hover.rectanglePadding).attr("y",b).attr("width",u+Yt.hover.rectanglePadding*2).attr("height",h).lower(),d.on("keydown",function(y){n===q.LEFT||n===q.RIGHT?y.key&&y.key==="ArrowUp"?i.goNext(this,y):y.key&&y.key==="ArrowDown"&&i.goPrevious(this,y):y.key&&y.key==="ArrowLeft"?i.goPrevious(this,y):y.key&&y.key==="ArrowRight"&&i.goNext(this,y)})}),this.addEventListeners()},r.prototype.addEventListeners=function(){var t=this.getComponentContainer(),n=this.configs.position,o=D.appendOrSelect(t,"g.axis."+n),a=this.getOptions(),i=v.getProperty(a,"axes",n),s=v.getProperty(i,"scaleType"),c=v.getProperty(i,"truncation","threshold"),d=this;o.selectAll("g.tick.tick-hover").on("mouseover",function(l){var f=R(this).select("text"),u=f.datum();d.services.events.dispatchEvent(E.Axis.LABEL_MOUSEOVER,{event:l,element:f,datum:u}),s===ne.LABELS&&u.length>c&&d.services.events.dispatchEvent(E.Tooltip.SHOW,{event:l,element:f,datum:u})}).on("mousemove",function(l){var f=R(this).select("text"),u=f.datum();d.services.events.dispatchEvent(E.Axis.LABEL_MOUSEMOVE,{event:l,element:f,datum:u}),d.services.events.dispatchEvent(E.Tooltip.MOVE,{event:l})}).on("click",function(l){d.services.events.dispatchEvent(E.Axis.LABEL_CLICK,{event:l,element:R(this).select("text"),datum:R(this).select("text").datum()})}).on("mouseout",function(l){d.services.events.dispatchEvent(E.Axis.LABEL_MOUSEOUT,{event:l,element:R(this).select("text"),datum:R(this).select("text").datum()}),s===ne.LABELS&&d.services.events.dispatchEvent(E.Tooltip.HIDE)}).on("focus",function(l){var f={clientX:0,clientY:0};if(l.target){l.target.focus();var u=l.target.getBoundingClientRect();f.clientX=u.x,f.clientY=u.y}d.services.events.dispatchEvent(E.Axis.LABEL_FOCUS,{event:qa(qa({},l),f),element:R(this),datum:R(this).select("text").datum()})}).on("blur",function(l){d.services.events.dispatchEvent(E.Axis.LABEL_BLUR,{event:l,element:R(this),datum:R(this).select("text").datum()})})},r.prototype.goNext=function(t,n){t.nextElementSibling&&t.nextElementSibling.tagName!=="path"&&t.nextElementSibling.dispatchEvent(new Event("focus")),n.preventDefault()},r.prototype.goPrevious=function(t,n){t.previousElementSibling&&t.previousElementSibling.tagName!=="path"&&t.previousElementSibling.dispatchEvent(new Event("focus")),n.preventDefault()},r.prototype.destroy=function(){var t=this.getComponentContainer(),n=this.configs.position,o=D.appendOrSelect(t,"g.axis."+n);o.selectAll("g.tick.tick-hover").on("mouseover",null).on("mousemove",null).on("mouseout",null).on("focus",null).on("blur",null)},r}($g),kA=globalThis&&globalThis.__extends||function(){var e=function(r,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var a in o)o.hasOwnProperty(a)&&(n[a]=o[a])},e(r,t)};return function(r,t){e(r,t);function n(){this.constructor=r}r.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),dt=function(e){kA(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.type="2D-axes",t.renderType=oe.SVG,t.children={},t.thresholds=[],t.margins={top:0,right:0,bottom:0,left:0},t}return r.prototype.render=function(t){var n=this;t===void 0&&(t=!1);var o={},a=Object.keys(q),i=v.getProperty(this.getOptions(),"axes");a.forEach(function(d){var l=i[q[d]];l&&(o[q[d]]=!0)}),this.configs.axes=o,a.forEach(function(d){var l=q[d];if(n.configs.axes[l]&&!n.children[l]){var f={position:l,axes:n.configs.axes,margins:n.margins},u=n.model.axisFlavor===io.DEFAULT?new $g(n.model,n.services,f):new xA(n.model,n.services,f);u.setModel(n.model),u.setServices(n.services),u.setParent(n.parent),n.children[l]=u}}),Object.keys(this.children).forEach(function(d){var l=n.children[d];l.render(t)});var s={};Object.keys(this.children).forEach(function(d){var l=n.children[d],f=l.configs.position,u=l.getInvisibleAxisRef(),h=D.getSVGElementSize(u,{useBBox:!0}),p=h.width,m=h.height,b;switch(l.getTitleRef().empty()?b=0:(b=D.getSVGElementSize(l.getTitleRef(),{useBBox:!0}).height,(f===q.LEFT||f===q.RIGHT)&&(b+=5)),f){case q.TOP:s.top=m+b;break;case q.BOTTOM:s.bottom=m+b;break;case q.LEFT:s.left=p+b;break;case q.RIGHT:s.right=p+b;break}}),this.services.events.dispatchEvent(E.Axis.RENDER_COMPLETE);var c=Object.keys(s).some(function(d){return n.margins[d]!==s[d]});c&&(this.margins=Object.assign(this.margins,s),this.model.set({axesMargins:this.margins},{skipUpdate:!0}),this.services.events.dispatchEvent(E.ZoomBar.UPDATE),Object.keys(this.children).forEach(function(d){var l=n.children[d];l.margins=n.margins}),this.render(!0))},r}(me),SA={value:()=>{}};function $d(){for(var e=0,r=arguments.length,t={},n;e<r;++e){if(!(n=arguments[e]+"")||n in t||/[\s.]/.test(n))throw new Error("illegal type: "+n);t[n]=[]}return new fa(t)}function fa(e){this._=e}function MA(e,r){return e.trim().split(/^|\s+/).map(function(t){var n="",o=t.indexOf(".");if(o>=0&&(n=t.slice(o+1),t=t.slice(0,o)),t&&!r.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:n}})}fa.prototype=$d.prototype={constructor:fa,on:function(e,r){var t=this._,n=MA(e+"",t),o,a=-1,i=n.length;if(arguments.length<2){for(;++a<i;)if((o=(e=n[a]).type)&&(o=EA(t[o],e.name)))return o;return}if(r!=null&&typeof r!="function")throw new Error("invalid callback: "+r);for(;++a<i;)if(o=(e=n[a]).type)t[o]=du(t[o],e.name,r);else if(r==null)for(o in t)t[o]=du(t[o],e.name,null);return this},copy:function(){var e={},r=this._;for(var t in r)e[t]=r[t].slice();return new fa(e)},call:function(e,r){if((o=arguments.length-2)>0)for(var t=new Array(o),n=0,o,a;n<o;++n)t[n]=arguments[n+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(a=this._[e],n=0,o=a.length;n<o;++n)a[n].value.apply(r,t)},apply:function(e,r,t){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var n=this._[e],o=0,a=n.length;o<a;++o)n[o].value.apply(r,t)}};function EA(e,r){for(var t=0,n=e.length,o;t<n;++t)if((o=e[t]).name===r)return o.value}function du(e,r,t){for(var n=0,o=e.length;n<o;++n)if(e[n].name===r){e[n]=SA,e=e.slice(0,n).concat(e.slice(n+1));break}return t!=null&&e.push({name:r,value:t}),e}const $c={capture:!0,passive:!1};function Hc(e){e.preventDefault(),e.stopImmediatePropagation()}function TA(e){var r=e.document.documentElement,t=R(e).on("dragstart.drag",Hc,$c);"onselectstart"in r?t.on("selectstart.drag",Hc,$c):(r.__noselect=r.style.MozUserSelect,r.style.MozUserSelect="none")}function OA(e,r){var t=e.document.documentElement,n=R(e).on("dragstart.drag",null);r&&(n.on("click.drag",Hc,$c),setTimeout(function(){n.on("click.drag",null)},0)),"onselectstart"in t?n.on("selectstart.drag",null):(t.style.MozUserSelect=t.__noselect,delete t.__noselect)}var Pn=0,Xn=0,$n=0,Hg=1e3,Wa,Zn,Ya=0,Dr=0,xi=0,yo=typeof performance=="object"&&performance.now?performance:Date,Gg=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function Hd(){return Dr||(Gg(AA),Dr=yo.now()+xi)}function AA(){Dr=0}function Xa(){this._call=this._time=this._next=null}Xa.prototype=jg.prototype={constructor:Xa,restart:function(e,r,t){if(typeof e!="function")throw new TypeError("callback is not a function");t=(t==null?Hd():+t)+(r==null?0:+r),!this._next&&Zn!==this&&(Zn?Zn._next=this:Wa=this,Zn=this),this._call=e,this._time=t,Gc()},stop:function(){this._call&&(this._call=null,this._time=1/0,Gc())}};function jg(e,r,t){var n=new Xa;return n.restart(e,r,t),n}function PA(){Hd(),++Pn;for(var e=Wa,r;e;)(r=Dr-e._time)>=0&&e._call.call(void 0,r),e=e._next;--Pn}function lu(){Dr=(Ya=yo.now())+xi,Pn=Xn=0;try{PA()}finally{Pn=0,CA(),Dr=0}}function UA(){var e=yo.now(),r=e-Ya;r>Hg&&(xi-=r,Ya=e)}function CA(){for(var e,r=Wa,t,n=1/0;r;)r._call?(n>r._time&&(n=r._time),e=r,r=r._next):(t=r._next,r._next=null,r=e?e._next=t:Wa=t);Zn=e,Gc(n)}function Gc(e){if(!Pn){Xn&&(Xn=clearTimeout(Xn));var r=e-Dr;r>24?(e<1/0&&(Xn=setTimeout(lu,e-yo.now()-xi)),$n&&($n=clearInterval($n))):($n||(Ya=yo.now(),$n=setInterval(UA,Hg)),Pn=1,Gg(lu))}}function fu(e,r,t){var n=new Xa;return r=r==null?0:+r,n.restart(o=>{n.stop(),e(o+r)},r,t),n}var BA=$d("start","end","cancel","interrupt"),IA=[],qg=0,uu=1,jc=2,ua=3,pu=4,qc=5,pa=6;function ki(e,r,t,n,o,a){var i=e.__transition;if(!i)e.__transition={};else if(t in i)return;zA(e,t,{name:r,index:n,group:o,on:BA,tween:IA,time:a.time,delay:a.delay,duration:a.duration,ease:a.ease,timer:null,state:qg})}function Gd(e,r){var t=At(e,r);if(t.state>qg)throw new Error("too late; already scheduled");return t}function Vt(e,r){var t=At(e,r);if(t.state>ua)throw new Error("too late; already running");return t}function At(e,r){var t=e.__transition;if(!t||!(t=t[r]))throw new Error("transition not found");return t}function zA(e,r,t){var n=e.__transition,o;n[r]=t,t.timer=jg(a,0,t.time);function a(d){t.state=uu,t.timer.restart(i,t.delay,t.time),t.delay<=d&&i(d-t.delay)}function i(d){var l,f,u,h;if(t.state!==uu)return c();for(l in n)if(h=n[l],h.name===t.name){if(h.state===ua)return fu(i);h.state===pu?(h.state=pa,h.timer.stop(),h.on.call("interrupt",e,e.__data__,h.index,h.group),delete n[l]):+l<r&&(h.state=pa,h.timer.stop(),h.on.call("cancel",e,e.__data__,h.index,h.group),delete n[l])}if(fu(function(){t.state===ua&&(t.state=pu,t.timer.restart(s,t.delay,t.time),s(d))}),t.state=jc,t.on.call("start",e,e.__data__,t.index,t.group),t.state===jc){for(t.state=ua,o=new Array(u=t.tween.length),l=0,f=-1;l<u;++l)(h=t.tween[l].value.call(e,e.__data__,t.index,t.group))&&(o[++f]=h);o.length=f+1}}function s(d){for(var l=d<t.duration?t.ease.call(null,d/t.duration):(t.timer.restart(c),t.state=qc,1),f=-1,u=o.length;++f<u;)o[f].call(e,l);t.state===qc&&(t.on.call("end",e,e.__data__,t.index,t.group),c())}function c(){t.state=pa,t.timer.stop(),delete n[r];for(var d in n)return;delete e.__transition}}function Wc(e,r){var t=e.__transition,n,o,a=!0,i;if(!!t){r=r==null?null:r+"";for(i in t){if((n=t[i]).name!==r){a=!1;continue}o=n.state>jc&&n.state<qc,n.state=pa,n.timer.stop(),n.on.call(o?"interrupt":"cancel",e,e.__data__,n.index,n.group),delete t[i]}a&&delete e.__transition}}function LA(e){return this.each(function(){Wc(this,e)})}function DA(e,r){var t,n;return function(){var o=Vt(this,e),a=o.tween;if(a!==t){n=t=a;for(var i=0,s=n.length;i<s;++i)if(n[i].name===r){n=n.slice(),n.splice(i,1);break}}o.tween=n}}function RA(e,r,t){var n,o;if(typeof t!="function")throw new Error;return function(){var a=Vt(this,e),i=a.tween;if(i!==n){o=(n=i).slice();for(var s={name:r,value:t},c=0,d=o.length;c<d;++c)if(o[c].name===r){o[c]=s;break}c===d&&o.push(s)}a.tween=o}}function FA(e,r){var t=this._id;if(e+="",arguments.length<2){for(var n=At(this.node(),t).tween,o=0,a=n.length,i;o<a;++o)if((i=n[o]).name===e)return i.value;return null}return this.each((r==null?DA:RA)(t,e,r))}function jd(e,r,t){var n=e._id;return e.each(function(){var o=Vt(this,n);(o.value||(o.value={}))[r]=t.apply(this,arguments)}),function(o){return At(o,n).value[r]}}function Wg(e,r){var t;return(typeof r=="number"?pt:r instanceof Qt?Ma:(t=Qt(r))?(r=t,Ma):vh)(e,r)}function NA(e){return function(){this.removeAttribute(e)}}function VA(e){return function(){this.removeAttributeNS(e.space,e.local)}}function $A(e,r,t){var n,o=t+"",a;return function(){var i=this.getAttribute(e);return i===o?null:i===n?a:a=r(n=i,t)}}function HA(e,r,t){var n,o=t+"",a;return function(){var i=this.getAttributeNS(e.space,e.local);return i===o?null:i===n?a:a=r(n=i,t)}}function GA(e,r,t){var n,o,a;return function(){var i,s=t(this),c;return s==null?void this.removeAttribute(e):(i=this.getAttribute(e),c=s+"",i===c?null:i===n&&c===o?a:(o=c,a=r(n=i,s)))}}function jA(e,r,t){var n,o,a;return function(){var i,s=t(this),c;return s==null?void this.removeAttributeNS(e.space,e.local):(i=this.getAttributeNS(e.space,e.local),c=s+"",i===c?null:i===n&&c===o?a:(o=c,a=r(n=i,s)))}}function qA(e,r){var t=ci(e),n=t==="transform"?Xk:Wg;return this.attrTween(e,typeof r=="function"?(t.local?jA:GA)(t,n,jd(this,"attr."+e,r)):r==null?(t.local?VA:NA)(t):(t.local?HA:$A)(t,n,r))}function WA(e,r){return function(t){this.setAttribute(e,r.call(this,t))}}function YA(e,r){return function(t){this.setAttributeNS(e.space,e.local,r.call(this,t))}}function XA(e,r){var t,n;function o(){var a=r.apply(this,arguments);return a!==n&&(t=(n=a)&&YA(e,a)),t}return o._value=r,o}function ZA(e,r){var t,n;function o(){var a=r.apply(this,arguments);return a!==n&&(t=(n=a)&&WA(e,a)),t}return o._value=r,o}function KA(e,r){var t="attr."+e;if(arguments.length<2)return(t=this.tween(t))&&t._value;if(r==null)return this.tween(t,null);if(typeof r!="function")throw new Error;var n=ci(e);return this.tween(t,(n.local?XA:ZA)(n,r))}function QA(e,r){return function(){Gd(this,e).delay=+r.apply(this,arguments)}}function JA(e,r){return r=+r,function(){Gd(this,e).delay=r}}function eP(e){var r=this._id;return arguments.length?this.each((typeof e=="function"?QA:JA)(r,e)):At(this.node(),r).delay}function tP(e,r){return function(){Vt(this,e).duration=+r.apply(this,arguments)}}function rP(e,r){return r=+r,function(){Vt(this,e).duration=r}}function nP(e){var r=this._id;return arguments.length?this.each((typeof e=="function"?tP:rP)(r,e)):At(this.node(),r).duration}function oP(e,r){if(typeof r!="function")throw new Error;return function(){Vt(this,e).ease=r}}function aP(e){var r=this._id;return arguments.length?this.each(oP(r,e)):At(this.node(),r).ease}function iP(e,r){return function(){var t=r.apply(this,arguments);if(typeof t!="function")throw new Error;Vt(this,e).ease=t}}function sP(e){if(typeof e!="function")throw new Error;return this.each(iP(this._id,e))}function cP(e){typeof e!="function"&&(e=Yp(e));for(var r=this._groups,t=r.length,n=new Array(t),o=0;o<t;++o)for(var a=r[o],i=a.length,s=n[o]=[],c,d=0;d<i;++d)(c=a[d])&&e.call(c,c.__data__,d,a)&&s.push(c);return new Jt(n,this._parents,this._name,this._id)}function dP(e){if(e._id!==this._id)throw new Error;for(var r=this._groups,t=e._groups,n=r.length,o=t.length,a=Math.min(n,o),i=new Array(n),s=0;s<a;++s)for(var c=r[s],d=t[s],l=c.length,f=i[s]=new Array(l),u,h=0;h<l;++h)(u=c[h]||d[h])&&(f[h]=u);for(;s<n;++s)i[s]=r[s];return new Jt(i,this._parents,this._name,this._id)}function lP(e){return(e+"").trim().split(/^|\s+/).every(function(r){var t=r.indexOf(".");return t>=0&&(r=r.slice(0,t)),!r||r==="start"})}function fP(e,r,t){var n,o,a=lP(r)?Gd:Vt;return function(){var i=a(this,e),s=i.on;s!==n&&(o=(n=s).copy()).on(r,t),i.on=o}}function uP(e,r){var t=this._id;return arguments.length<2?At(this.node(),t).on.on(e):this.each(fP(t,e,r))}function pP(e){return function(){var r=this.parentNode;for(var t in this.__transition)if(+t!==e)return;r&&r.removeChild(this)}}function hP(){return this.on("end.remove",pP(this._id))}function gP(e){var r=this._name,t=this._id;typeof e!="function"&&(e=dd(e));for(var n=this._groups,o=n.length,a=new Array(o),i=0;i<o;++i)for(var s=n[i],c=s.length,d=a[i]=new Array(c),l,f,u=0;u<c;++u)(l=s[u])&&(f=e.call(l,l.__data__,u,s))&&("__data__"in l&&(f.__data__=l.__data__),d[u]=f,ki(d[u],r,t,u,d,At(l,t)));return new Jt(a,this._parents,r,t)}function mP(e){var r=this._name,t=this._id;typeof e!="function"&&(e=Wp(e));for(var n=this._groups,o=n.length,a=[],i=[],s=0;s<o;++s)for(var c=n[s],d=c.length,l,f=0;f<d;++f)if(l=c[f]){for(var u=e.call(l,l.__data__,f,c),h,p=At(l,t),m=0,b=u.length;m<b;++m)(h=u[m])&&ki(h,r,t,m,u,p);a.push(u),i.push(l)}return new Jt(a,i,r,t)}var vP=Eo.prototype.constructor;function bP(){return new vP(this._groups,this._parents)}function yP(e,r){var t,n,o;return function(){var a=xn(this,e),i=(this.style.removeProperty(e),xn(this,e));return a===i?null:a===t&&i===n?o:o=r(t=a,n=i)}}function Yg(e){return function(){this.style.removeProperty(e)}}function wP(e,r,t){var n,o=t+"",a;return function(){var i=xn(this,e);return i===o?null:i===n?a:a=r(n=i,t)}}function _P(e,r,t){var n,o,a;return function(){var i=xn(this,e),s=t(this),c=s+"";return s==null&&(c=s=(this.style.removeProperty(e),xn(this,e))),i===c?null:i===n&&c===o?a:(o=c,a=r(n=i,s))}}function xP(e,r){var t,n,o,a="style."+r,i="end."+a,s;return function(){var c=Vt(this,e),d=c.on,l=c.value[a]==null?s||(s=Yg(r)):void 0;(d!==t||o!==l)&&(n=(t=d).copy()).on(i,o=l),c.on=n}}function kP(e,r,t){var n=(e+="")=="transform"?Yk:Wg;return r==null?this.styleTween(e,yP(e,n)).on("end.style."+e,Yg(e)):typeof r=="function"?this.styleTween(e,_P(e,n,jd(this,"style."+e,r))).each(xP(this._id,e)):this.styleTween(e,wP(e,n,r),t).on("end.style."+e,null)}function SP(e,r,t){return function(n){this.style.setProperty(e,r.call(this,n),t)}}function MP(e,r,t){var n,o;function a(){var i=r.apply(this,arguments);return i!==o&&(n=(o=i)&&SP(e,i,t)),n}return a._value=r,a}function EP(e,r,t){var n="style."+(e+="");if(arguments.length<2)return(n=this.tween(n))&&n._value;if(r==null)return this.tween(n,null);if(typeof r!="function")throw new Error;return this.tween(n,MP(e,r,t==null?"":t))}function TP(e){return function(){this.textContent=e}}function OP(e){return function(){var r=e(this);this.textContent=r==null?"":r}}function AP(e){return this.tween("text",typeof e=="function"?OP(jd(this,"text",e)):TP(e==null?"":e+""))}function PP(e){return function(r){this.textContent=e.call(this,r)}}function UP(e){var r,t;function n(){var o=e.apply(this,arguments);return o!==t&&(r=(t=o)&&PP(o)),r}return n._value=e,n}function CP(e){var r="text";if(arguments.length<1)return(r=this.tween(r))&&r._value;if(e==null)return this.tween(r,null);if(typeof e!="function")throw new Error;return this.tween(r,UP(e))}function BP(){for(var e=this._name,r=this._id,t=Xg(),n=this._groups,o=n.length,a=0;a<o;++a)for(var i=n[a],s=i.length,c,d=0;d<s;++d)if(c=i[d]){var l=At(c,r);ki(c,e,t,d,i,{time:l.time+l.delay+l.duration,delay:0,duration:l.duration,ease:l.ease})}return new Jt(n,this._parents,e,t)}function IP(){var e,r,t=this,n=t._id,o=t.size();return new Promise(function(a,i){var s={value:i},c={value:function(){--o===0&&a()}};t.each(function(){var d=Vt(this,n),l=d.on;l!==e&&(r=(e=l).copy(),r._.cancel.push(s),r._.interrupt.push(s),r._.end.push(c)),d.on=r}),o===0&&a()})}var zP=0;function Jt(e,r,t,n){this._groups=e,this._parents=r,this._name=t,this._id=n}function Xg(){return++zP}var jt=Eo.prototype;Jt.prototype={constructor:Jt,select:gP,selectAll:mP,selectChild:jt.selectChild,selectChildren:jt.selectChildren,filter:cP,merge:dP,selection:bP,transition:BP,call:jt.call,nodes:jt.nodes,node:jt.node,size:jt.size,empty:jt.empty,each:jt.each,on:uP,attr:qA,attrTween:KA,style:kP,styleTween:EP,text:AP,textTween:CP,remove:hP,tween:FA,delay:eP,duration:nP,ease:aP,easeVarying:sP,end:IP,[Symbol.iterator]:jt[Symbol.iterator]};var LP={time:null,delay:0,duration:250,ease:Nu};function DP(e,r){for(var t;!(t=e.__transition)||!(t=t[r]);)if(!(e=e.parentNode))throw new Error(`transition ${r} not found`);return t}function RP(e){var r,t;e instanceof Jt?(r=e._id,e=e._name):(r=Xg(),(t=LP).time=Hd(),e=e==null?null:e+"");for(var n=this._groups,o=n.length,a=0;a<o;++a)for(var i=n[a],s=i.length,c,d=0;d<s;++d)(c=i[d])&&ki(c,e,r,d,i,t||DP(c,r));return new Jt(n,this._parents,e,r)}Eo.prototype.interrupt=LA;Eo.prototype.transition=RP;var Ji=e=>()=>e;function FP(e,{sourceEvent:r,target:t,selection:n,mode:o,dispatch:a}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:r,enumerable:!0,configurable:!0},target:{value:t,enumerable:!0,configurable:!0},selection:{value:n,enumerable:!0,configurable:!0},mode:{value:o,enumerable:!0,configurable:!0},_:{value:a}})}function NP(e){e.stopImmediatePropagation()}function es(e){e.preventDefault(),e.stopImmediatePropagation()}var hu={name:"drag"},ts={name:"space"},Qr={name:"handle"},Jr={name:"center"};const{abs:gu,max:Ke,min:Qe}=Math;function mu(e){return[+e[0],+e[1]]}function vu(e){return[mu(e[0]),mu(e[1])]}var ha={name:"x",handles:["w","e"].map(Za),input:function(e,r){return e==null?null:[[+e[0],r[0][1]],[+e[1],r[1][1]]]},output:function(e){return e&&[e[0][0],e[1][0]]}},rs={name:"y",handles:["n","s"].map(Za),input:function(e,r){return e==null?null:[[r[0][0],+e[0]],[r[1][0],+e[1]]]},output:function(e){return e&&[e[0][1],e[1][1]]}},qt={overlay:"crosshair",selection:"move",n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},bu={e:"w",w:"e",nw:"ne",ne:"nw",se:"sw",sw:"se"},yu={n:"s",s:"n",nw:"sw",ne:"se",se:"ne",sw:"nw"},VP={overlay:1,selection:1,n:null,e:1,s:null,w:-1,nw:-1,ne:1,se:1,sw:-1},$P={overlay:1,selection:1,n:-1,e:null,s:1,w:null,nw:-1,ne:-1,se:1,sw:1};function Za(e){return{type:e}}function HP(e){return!e.ctrlKey&&!e.button}function GP(){var e=this.ownerSVGElement||this;return e.hasAttribute("viewBox")?(e=e.viewBox.baseVal,[[e.x,e.y],[e.x+e.width,e.y+e.height]]):[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]}function jP(){return navigator.maxTouchPoints||"ontouchstart"in this}function ns(e){for(;!e.__brush;)if(!(e=e.parentNode))return;return e.__brush}function qP(e){return e[0][0]===e[1][0]||e[0][1]===e[1][1]}function Zg(){return WP(ha)}function WP(e){var r=GP,t=HP,n=jP,o=!0,a=$d("start","brush","end"),i=6,s;function c(b){var y=b.property("__brush",m).selectAll(".overlay").data([Za("overlay")]);y.enter().append("rect").attr("class","overlay").attr("pointer-events","all").attr("cursor",qt.overlay).merge(y).each(function(){var w=ns(this).extent;R(this).attr("x",w[0][0]).attr("y",w[0][1]).attr("width",w[1][0]-w[0][0]).attr("height",w[1][1]-w[0][1])}),b.selectAll(".selection").data([Za("selection")]).enter().append("rect").attr("class","selection").attr("cursor",qt.selection).attr("fill","#777").attr("fill-opacity",.3).attr("stroke","#fff").attr("shape-rendering","crispEdges");var g=b.selectAll(".handle").data(e.handles,function(w){return w.type});g.exit().remove(),g.enter().append("rect").attr("class",function(w){return"handle handle--"+w.type}).attr("cursor",function(w){return qt[w.type]}),b.each(d).attr("fill","none").attr("pointer-events","all").on("mousedown.brush",u).filter(n).on("touchstart.brush",u).on("touchmove.brush",h).on("touchend.brush touchcancel.brush",p).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}c.move=function(b,y,g){b.tween?b.on("start.brush",function(w){l(this,arguments).beforestart().start(w)}).on("interrupt.brush end.brush",function(w){l(this,arguments).end(w)}).tween("brush",function(){var w=this,k=w.__brush,_=l(w,arguments),x=k.selection,O=e.input(typeof y=="function"?y.apply(this,arguments):y,k.extent),M=Uo(x,O);function T(A){k.selection=A===1&&O===null?null:M(A),d.call(w),_.brush()}return x!==null&&O!==null?T:T(1)}):b.each(function(){var w=this,k=arguments,_=w.__brush,x=e.input(typeof y=="function"?y.apply(w,k):y,_.extent),O=l(w,k).beforestart();Wc(w),_.selection=x===null?null:x,d.call(w),O.start(g).brush(g).end(g)})},c.clear=function(b,y){c.move(b,null,y)};function d(){var b=R(this),y=ns(this).selection;y?(b.selectAll(".selection").style("display",null).attr("x",y[0][0]).attr("y",y[0][1]).attr("width",y[1][0]-y[0][0]).attr("height",y[1][1]-y[0][1]),b.selectAll(".handle").style("display",null).attr("x",function(g){return g.type[g.type.length-1]==="e"?y[1][0]-i/2:y[0][0]-i/2}).attr("y",function(g){return g.type[0]==="s"?y[1][1]-i/2:y[0][1]-i/2}).attr("width",function(g){return g.type==="n"||g.type==="s"?y[1][0]-y[0][0]+i:i}).attr("height",function(g){return g.type==="e"||g.type==="w"?y[1][1]-y[0][1]+i:i})):b.selectAll(".selection,.handle").style("display","none").attr("x",null).attr("y",null).attr("width",null).attr("height",null)}function l(b,y,g){var w=b.__brush.emitter;return w&&(!g||!w.clean)?w:new f(b,y,g)}function f(b,y,g){this.that=b,this.args=y,this.state=b.__brush,this.active=0,this.clean=g}f.prototype={beforestart:function(){return++this.active===1&&(this.state.emitter=this,this.starting=!0),this},start:function(b,y){return this.starting?(this.starting=!1,this.emit("start",b,y)):this.emit("brush",b),this},brush:function(b,y){return this.emit("brush",b,y),this},end:function(b,y){return--this.active===0&&(delete this.state.emitter,this.emit("end",b,y)),this},emit:function(b,y,g){var w=R(this.that).datum();a.call(b,this.that,new FP(b,{sourceEvent:y,target:c,selection:e.output(this.state.selection),mode:g,dispatch:a}),w)}};function u(b){if(s&&!b.touches||!t.apply(this,arguments))return;var y=this,g=b.target.__data__.type,w=(o&&b.metaKey?g="overlay":g)==="selection"?hu:o&&b.altKey?Jr:Qr,k=e===rs?null:VP[g],_=e===ha?null:$P[g],x=ns(y),O=x.extent,M=x.selection,T=O[0][0],A,S,P=O[0][1],I,L,B=O[1][0],C,z,F=O[1][1],U,N,V=0,X=0,de,ae=k&&_&&o&&b.shiftKey,Y,te,J=Array.from(b.touches||[b],$=>{const ve=$.identifier;return $=Ur($,y),$.point0=$.slice(),$.identifier=ve,$});Wc(y);var ce=l(y,arguments,!0).beforestart();if(g==="overlay"){M&&(de=!0);const $=[J[0],J[1]||J[0]];x.selection=M=[[A=e===rs?T:Qe($[0][0],$[1][0]),I=e===ha?P:Qe($[0][1],$[1][1])],[C=e===rs?B:Ke($[0][0],$[1][0]),U=e===ha?F:Ke($[0][1],$[1][1])]],J.length>1&&pe(b)}else A=M[0][0],I=M[0][1],C=M[1][0],U=M[1][1];S=A,L=I,z=C,N=U;var K=R(y).attr("pointer-events","none"),ee=K.selectAll(".overlay").attr("cursor",qt[g]);if(b.touches)ce.moved=W,ce.ended=se;else{var le=R(b.view).on("mousemove.brush",W,!0).on("mouseup.brush",se,!0);o&&le.on("keydown.brush",G,!0).on("keyup.brush",Z,!0),TA(b.view)}d.call(y),ce.start(b,w.name);function W($){for(const ve of $.changedTouches||[$])for(const bt of J)bt.identifier===ve.identifier&&(bt.cur=Ur(ve,y));if(ae&&!Y&&!te&&J.length===1){const ve=J[0];gu(ve.cur[0]-ve[0])>gu(ve.cur[1]-ve[1])?te=!0:Y=!0}for(const ve of J)ve.cur&&(ve[0]=ve.cur[0],ve[1]=ve.cur[1]);de=!0,es($),pe($)}function pe($){const ve=J[0],bt=ve.point0;var We;switch(V=ve[0]-bt[0],X=ve[1]-bt[1],w){case ts:case hu:{k&&(V=Ke(T-A,Qe(B-C,V)),S=A+V,z=C+V),_&&(X=Ke(P-I,Qe(F-U,X)),L=I+X,N=U+X);break}case Qr:{J[1]?(k&&(S=Ke(T,Qe(B,J[0][0])),z=Ke(T,Qe(B,J[1][0])),k=1),_&&(L=Ke(P,Qe(F,J[0][1])),N=Ke(P,Qe(F,J[1][1])),_=1)):(k<0?(V=Ke(T-A,Qe(B-A,V)),S=A+V,z=C):k>0&&(V=Ke(T-C,Qe(B-C,V)),S=A,z=C+V),_<0?(X=Ke(P-I,Qe(F-I,X)),L=I+X,N=U):_>0&&(X=Ke(P-U,Qe(F-U,X)),L=I,N=U+X));break}case Jr:{k&&(S=Ke(T,Qe(B,A-V*k)),z=Ke(T,Qe(B,C+V*k))),_&&(L=Ke(P,Qe(F,I-X*_)),N=Ke(P,Qe(F,U+X*_)));break}}z<S&&(k*=-1,We=A,A=C,C=We,We=S,S=z,z=We,g in bu&&ee.attr("cursor",qt[g=bu[g]])),N<L&&(_*=-1,We=I,I=U,U=We,We=L,L=N,N=We,g in yu&&ee.attr("cursor",qt[g=yu[g]])),x.selection&&(M=x.selection),Y&&(S=M[0][0],z=M[1][0]),te&&(L=M[0][1],N=M[1][1]),(M[0][0]!==S||M[0][1]!==L||M[1][0]!==z||M[1][1]!==N)&&(x.selection=[[S,L],[z,N]],d.call(y),ce.brush($,w.name))}function se($){if(NP($),$.touches){if($.touches.length)return;s&&clearTimeout(s),s=setTimeout(function(){s=null},500)}else OA($.view,de),le.on("keydown.brush keyup.brush mousemove.brush mouseup.brush",null);K.attr("pointer-events","all"),ee.attr("cursor",qt.overlay),x.selection&&(M=x.selection),qP(M)&&(x.selection=null,d.call(y)),ce.end($,w.name)}function G($){switch($.keyCode){case 16:{ae=k&&_;break}case 18:{w===Qr&&(k&&(C=z-V*k,A=S+V*k),_&&(U=N-X*_,I=L+X*_),w=Jr,pe($));break}case 32:{(w===Qr||w===Jr)&&(k<0?C=z-V:k>0&&(A=S-V),_<0?U=N-X:_>0&&(I=L-X),w=ts,ee.attr("cursor",qt.selection),pe($));break}default:return}es($)}function Z($){switch($.keyCode){case 16:{ae&&(Y=te=ae=!1,pe($));break}case 18:{w===Jr&&(k<0?C=z:k>0&&(A=S),_<0?U=N:_>0&&(I=L),w=Qr,pe($));break}case 32:{w===ts&&($.altKey?(k&&(C=z-V*k,A=S+V*k),_&&(U=N-X*_,I=L+X*_),w=Jr):(k<0?C=z:k>0&&(A=S),_<0?U=N:_>0&&(I=L),w=Qr),ee.attr("cursor",qt[g]),pe($));break}default:return}es($)}}function h(b){l(this,arguments).moved(b)}function p(b){l(this,arguments).ended(b)}function m(){var b=this.__brush||{selection:null};return b.extent=vu(r.apply(this,arguments)),b.dim=e,b}return c.extent=function(b){return arguments.length?(r=typeof b=="function"?b:Ji(vu(b)),c):r},c.filter=function(b){return arguments.length?(t=typeof b=="function"?b:Ji(!!b),c):t},c.touchable=function(b){return arguments.length?(n=typeof b=="function"?b:Ji(!!b),c):n},c.handleSize=function(b){return arguments.length?(i=+b,c):i},c.keyModifiers=function(b){return arguments.length?(o=!!b,c):o},c.on=function(){var b=a.on.apply(a,arguments);return b===a?c:b},c}var YP=globalThis&&globalThis.__extends||function(){var e=function(r,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var a in o)o.hasOwnProperty(a)&&(n[a]=o[a])},e(r,t)};return function(r,t){e(r,t);function n(){this.constructor=r}r.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),XP=function(e){YP(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.type="grid-brush",t.renderType=oe.SVG,t.selectionSelector="rect.selection",t.frontSelectionSelector="rect.frontSelection",t}return r.prototype.render=function(t){var n=this,o=this.parent,a=this.getComponentContainer(),i=D.appendOrSelect(o,"svg.chart-grid-backdrop"),s=D.appendOrSelect(i,"g."+this.type),c=D.appendOrSelect(s,this.selectionSelector),d=D.getSVGElementSize(i,{useAttrs:!0}),l=d.width,f=d.height,u=this.services.cartesianScales,h=u.getMainXScaleType(),p=u.getMainXScale(),m=p.range(),b=m[0];m[1],a.attr("transform","translate("+b+",0)");var y=D.appendOrSelect(a,this.frontSelectionSelector);if(p&&h===ne.TIME){var g=this.model.get("zoomDomain");g===void 0&&(g=this.services.zoom.getDefaultZoomBarDomain(),g&&this.model.set({zoomDomain:g},{animate:!1}));var w=function(T){for(var A=T[1]-T[0],S="0,"+A.toString(),P=Math.floor(f/r.DASH_LENGTH),I=P*r.DASH_LENGTH,L=0;L<P;L++)S+=","+r.DASH_LENGTH;S+=","+(f-I),P%2===1&&(S+=",0"),S+=","+A.toString(),S+=","+f.toString(),y.attr("stroke-dasharray",S)},k=function(T){var A=T.selection;A===null||A[0]===A[1]||(y.attr("x",parseFloat(c.attr("x"))+parseFloat(i.attr("x"))).attr("y",c.attr("y")).attr("width",c.attr("width")).attr("height",c.attr("height")).style("cursor","pointer").style("display",null),w(A))},_=function(T,A){var S=Yh().range([0,l]).domain(g),P=[S.invert(T),S.invert(A)];P[0].valueOf()===P[1].valueOf()&&(P=n.services.zoom.getDefaultZoomBarDomain()),(g[0].valueOf()!==P[0].valueOf()||g[1].valueOf()!==P[1].valueOf())&&n.services.zoom.handleDomainChange(P)},x=function(T){var A=T.selection;A!==null&&(_(A[0],A[1]),s.call(O.move,null),y.style("display","none"))},O=Zg().extent([[0,0],[l-1,f]]).on("start brush end",k).on("end.brushed",x);s.call(O);var M=this.services.zoom.getZoomRatio();i.on("click",function(T){if(T.shiftKey){var A=this.services.domUtils.getHolder(),S=Ur(s.node(),A)[0],P=S-l*M/2;P<0&&(P=0);var I=S+l*M/2;I>l&&(I=l),_(P,I)}})}},r.DASH_LENGTH=4,r}(me),ZP=globalThis&&globalThis.__extends||function(){var e=function(r,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var a in o)o.hasOwnProperty(a)&&(n[a]=o[a])},e(r,t)};return function(r,t){e(r,t);function n(){this.constructor=r}r.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),vt=function(e){ZP(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.type="grid",t.renderType=oe.SVG,t}return r.prototype.render=function(t){t===void 0&&(t=!0);var n=v.getProperty(this.getOptions(),"grid","x","enabled"),o=v.getProperty(this.getOptions(),"grid","y","enabled");this.drawBackdrop(n,o),!(!n&&!o)&&(n&&(D.appendOrSelect(this.backdrop,"g.x.grid"),this.drawXGrid(t)),o&&(D.appendOrSelect(this.backdrop,"g.y.grid"),this.drawYGrid(t)))},r.prototype.drawXGrid=function(t){var n=this,o=this.parent,a=this.backdrop.attr("height"),i=this.services.cartesianScales.getMainXScale(),s=Fd(i).tickSizeInner(-a).tickSizeOuter(0),c=v.getProperty(this.getOptions(),"grid","x","alignWithAxisTicks");if(c){var d=this.services.cartesianScales.getDomainAxisPosition(),l=v.getProperty(this.getOptions(),"axes",d,"ticks","values");l&&s.tickValues(l)}else{var f=v.getProperty(this.getOptions(),"grid","x","numberOfTicks");s.ticks(f)}var u=o.select(".x.grid").attr("transform","translate("+-this.backdrop.attr("x")+", "+a+")");t?u.transition().call(function(h){return n.services.transitions.setupTransition({transition:h,name:"grid-update",animate:t})}).call(s):u.call(s),this.cleanGrid(u)},r.prototype.drawYGrid=function(t){var n=this,o=this.parent,a=this.backdrop.attr("width"),i=this.services.cartesianScales.getMainYScale(),s=wg(i).tickSizeInner(-a).tickSizeOuter(0),c=v.getProperty(this.getOptions(),"grid","y","alignWithAxisTicks");if(c){var d=this.services.cartesianScales.getRangeAxisPosition(),l=v.getProperty(this.getOptions(),"axes",d,"ticks","values");l&&s.tickValues(l)}else{var f=v.getProperty(this.getOptions(),"grid","y","numberOfTicks");s.ticks(f)}var u=o.select(".y.grid").attr("transform","translate(0, "+-this.backdrop.attr("y")+")");t?u.transition().call(function(h){return n.services.transitions.setupTransition({transition:h,name:"grid-update",animate:t})}).call(s):u.call(s),this.cleanGrid(u)},r.prototype.getGridlineThreshold=function(t){var n=this.parent,o=n.selectAll(".x.grid .tick").nodes().sort(function(h,p){return Number(v.getTranslationValues(h).tx)-Number(v.getTranslationValues(p).tx)}),a=-1,i;if(!!o.length){o.forEach(function(h,p){t[0]>=+v.getTranslationValues(h).tx&&a++}),i=a+1<o.length?a+1:o.length;var s=o[a],c=o[i],d;if(!s)d=+v.getTranslationValues(c).tx;else if(c)d=+v.getTranslationValues(c).tx-+v.getTranslationValues(s).tx;else{var l=n.select("rect.chart-grid-backdrop").node(),f=D.getSVGElementSize(l).width;d=f-+v.getTranslationValues(s).tx}var u=this.getOptions().tooltip.gridline.threshold;return d*u}},r.prototype.getActiveGridline=function(t){var n=v.getProperty(this.getOptions,"tooltip","gridline","threshold"),o=n||this.getGridlineThreshold(t),a=this.parent,i=a.selectAll(".x.grid .tick").filter(function(){var s=v.getTranslationValues(this),c={min:Number(s.tx)-o,max:Number(s.tx)+o};return c.min<=t[0]&&t[0]<=c.max});return i},r.prototype.drawBackdrop=function(t,n){var o=this.parent,a=this.services.cartesianScales.getMainXScale(),i=this.services.cartesianScales.getMainYScale(),s=a.range(),c=s[0],d=s[1],l=i.range(),f=l[0],u=l[1];this.backdrop=D.appendOrSelect(o,"svg.chart-grid-backdrop");var h=D.appendOrSelect(this.backdrop,t||n?"rect.chart-grid-backdrop.stroked":"rect.chart-grid-backdrop");this.backdrop.merge(h).attr("x",c).attr("y",u).attr("width",Math.abs(d-c)).attr("height",Math.abs(f-u)).lower(),h.attr("width","100%").attr("height","100%")},r.prototype.cleanGrid=function(t){t.selectAll("text").remove(),t.select(".domain").remove()},r}(me),KP=globalThis&&globalThis.__extends||function(){var e=function(r,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var a in o)o.hasOwnProperty(a)&&(n[a]=o[a])},e(r,t)};return function(r,t){e(r,t);function n(){this.constructor=r}r.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),wu=5;function QP(e,r){return e>r-wu&&e<r+wu}var gr=function(e){KP(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.type="ruler",t.renderType=oe.SVG,t.isXGridEnabled=v.getProperty(t.getOptions(),"grid","x","enabled"),t.isYGridEnabled=v.getProperty(t.getOptions(),"grid","y","enabled"),t.isEventListenerAdded=!1,t}return r.prototype.render=function(){var t=v.getProperty(this.getOptions(),"ruler","enabled");this.drawBackdrop(),t&&!this.isEventListenerAdded?this.addBackdropEventListeners():!t&&this.isEventListenerAdded&&this.removeBackdropEventListeners()},r.prototype.removeBackdropEventListeners=function(){this.isEventListenerAdded=!1,this.backdrop.on("mousemove mouseover mouseout",null)},r.prototype.formatTooltipData=function(t){return t},r.prototype.showRuler=function(t,n){var o=this,a=n[0],i=n[1],s=this.parent,c=this.services.cartesianScales.getOrientation(),d=this.model.getDisplayData(),l=this.services.cartesianScales.getRangeScale(),f=l.range(),u=f[0],h=f[1],p=c===He.HORIZONTAL?i:a,m=D.appendOrSelect(s,"g.ruler").attr("aria-label","ruler"),b=D.appendOrSelect(m,"line.ruler-line"),y=s.selectAll("[role=graphics-symbol]"),g=d.map(function(M){return{domainValue:o.services.cartesianScales.getDomainValue(M),originalData:M}}).filter(function(M){return QP(M.domainValue,p)});if(this.pointsWithinLine&&g.length===this.pointsWithinLine.length&&g.map(function(M){return M.domainValue}).join()===this.pointsWithinLine.map(function(M){return M.domainValue}).join())return this.pointsWithinLine=g,this.services.events.dispatchEvent(E.Tooltip.MOVE,{mousePosition:[a,i]});this.pointsWithinLine=g;var w=this.pointsWithinLine.reduce(function(M,T){if(M.length===0)return M.push(T),M;var A=M[0].domainValue,S=Math.abs(p-T.domainValue),P=Math.abs(p-A);return S>P||(S<P?M=[T]:M.push(T)),M},[]);if(w.length>0){var k=w.map(function(M){return M.originalData}).filter(function(M){var T=o.services.cartesianScales.getRangeIdentifier(M),A=M[T];return A!=null}),_=w.map(function(M){return M.domainValue}),x=y.filter(function(M){var T=o.services.cartesianScales.getDomainValue(M);return _.includes(T)});this.elementsToHighlight&&this.elementsToHighlight.size()>0&&!v.isEqual(this.elementsToHighlight,x)&&this.hideRuler(),x.dispatch("mouseover"),this.elementsToHighlight=x,this.services.events.dispatchEvent(E.Tooltip.SHOW,{mousePosition:[a,i],hoveredElement:b,data:this.formatTooltipData(k)}),m.attr("opacity",1);var O=w[0];c==="horizontal"?b.attr("x1",h).attr("x2",u).attr("y1",O.domainValue).attr("y2",O.domainValue):b.attr("y1",h).attr("y2",u).attr("x1",O.domainValue).attr("x2",O.domainValue)}else this.hideRuler()},r.prototype.hideRuler=function(){var t=this.parent,n=D.appendOrSelect(t,"g.ruler"),o=t.selectAll("[role=graphics-symbol]");o.dispatch("mouseout"),this.services.events.dispatchEvent(E.Tooltip.HIDE),n.attr("opacity",0)},r.prototype.addBackdropEventListeners=function(){this.isEventListenerAdded=!0;var t=this,n=this.services.domUtils.getHolder(),o=this.model.getDisplayData(),a=function(s){var c=Ur(s,t.parent.node());t.showRuler(s,c)};if(o.length>100){var i=o.length%50*12.5;a=v.debounceWithD3MousePosition(function(s){var c=this.mousePosition;t.showRuler(s,c)},i,n)}this.backdrop.on("mousemove mouseover",a).on("mouseout",this.hideRuler.bind(this))},r.prototype.drawBackdrop=function(){var t=this.parent;this.backdrop=D.appendOrSelect(t,"svg.chart-grid-backdrop")},r}(me),JP=globalThis&&globalThis.__extends||function(){var e=function(r,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var a in o)o.hasOwnProperty(a)&&(n[a]=o[a])},e(r,t)};return function(r,t){e(r,t);function n(){this.constructor=r}r.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),eU=globalThis&&globalThis.__spreadArrays||function(){for(var e=0,r=0,t=arguments.length;r<t;r++)e+=arguments[r].length;for(var n=Array(e),o=0,r=0;r<t;r++)for(var a=arguments[r],i=0,s=a.length;i<s;i++,o++)n[o]=a[i];return n},tU=function(e){JP(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.type="ruler-binned",t.renderType=oe.SVG,t}return r.prototype.showRuler=function(t,n){var o=this,a=n[0],i=n[1],s=this.parent,c=this.model.getOptions(),d=this.services.cartesianScales.getOrientation(),l=this.services.cartesianScales.getRangeScale(),f=l.range(),u=f[0],h=f[1],p=this.services.cartesianScales.getDomainScale(),m=p.invert(d===He.VERTICAL?a:i),b=D.appendOrSelect(s,"g.ruler").attr("aria-label","ruler"),y=D.appendOrSelect(b,"line.ruler-line"),g=s.selectAll("[role=graphics-symbol]"),w=g.filter(function(S){if(parseFloat(Te(S,"data.x0"))<=m&&parseFloat(Te(S,"data.x1"))>=m)return!0});if(w.size()>0){this.elementsToHighlight&&this.elementsToHighlight.size()>0&&!v.isEqual(this.elementsToHighlight,w)&&this.hideRuler(),w.dispatch("mouseover"),this.elementsToHighlight=w;var k=R(w.nodes()[0]).datum(),_=parseFloat(Te(k,"data.x0")),x=parseFloat(Te(k,"data.x1")),O=this.model.getActiveDataGroupNames(),M=O.reverse().map(function(S){return{label:S,value:Te(k,"data."+S),class:o.model.getColorClassName({classNameTypes:[ie.TOOLTIP],dataGroupName:S})}}).filter(function(S){return S.value!==0}),T=M.length>0;if(T){this.services.events.dispatchEvent(E.Tooltip.SHOW,{mousePosition:[a,i],hoveredElement:y,items:eU([{label:Te(c,"bins.rangeLabel")||"Range",value:_+" \u2013 "+x}],M,v.getProperty(c,"tooltip","showTotal")===!0?[{label:Te(c,"tooltip.totalLabel")||"Total",value:O.reduce(function(S,P){return S+parseFloat(Te(k,"data."+P))},0)}]:[])}),b.attr("opacity",1);var A=p((_+x)/2);d==="horizontal"?y.attr("x1",h).attr("x2",u).attr("y1",A).attr("y2",A):y.attr("y1",h).attr("y2",u).attr("x1",A).attr("x2",A)}else this.hideRuler()}else this.hideRuler()},r}(gr),rU=globalThis&&globalThis.__extends||function(){var e=function(r,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var a in o)o.hasOwnProperty(a)&&(n[a]=o[a])},e(r,t)};return function(r,t){e(r,t);function n(){this.constructor=r}r.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Ka=function(e){rU(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}return r.prototype.formatTooltipData=function(t){return t.reverse()},r}(gr),nU=globalThis&&globalThis.__extends||function(){var e=function(r,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var a in o)o.hasOwnProperty(a)&&(n[a]=o[a])},e(r,t)};return function(r,t){e(r,t);function n(){this.constructor=r}r.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),qd=function(e){nU(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.type="toolbar",t.renderType=oe.HTML,t}return r.prototype.init=function(){var t=this,n=function(){return t.updateOverflowMenu(!1)};this.services.events.addEventListener(E.Toolbar.SHOW_OVERFLOW_MENU,function(){t.renderOverflowMenu(),document.body.addEventListener("click",n)}),this.services.events.addEventListener(E.Toolbar.HIDE_OVERFLOW_MENU,function(){document.body.removeEventListener("click",n)})},r.prototype.render=function(t){var n=this,o=this.getComponentContainer().attr("role","toolbar").attr("aria-label","chart-"+this.services.domUtils.getChartID()+" toolbar"),a=v.getProperty(this.getOptions(),"data","loading");if(a)o.html(""),this.overflowMenu=null;else{this.overflowMenu||(this.overflowMenu=o.append("div").attr("class","cds--overflow-menu-options cds--overflow-menu--flip cds--overflow-menu-options cds--overflow-menu--flip").attr("tabindex",-1).attr("role","menu").html("<ul></ul>"));var i=this.getControlConfigs(),s=i.buttonList,c=i.overflowMenuItemList;c&&s.push(this.getOverflowButtonConfig());var d=o.selectAll("div.toolbar-control").data(s,function(u){return u.id});d.exit().remove();var l=d.enter().append("div").attr("class","toolbar-control cds--overflow-menu cds--overflow-menu").attr("role","button"),f=this;l.merge(d).classed("disabled",function(u){return u.shouldBeDisabled()}).attr("aria-disabled",function(u){return u.shouldBeDisabled()}).attr("aria-label",function(u){return u.title}).html(function(u){return`
			<button
				class="cds--overflow-menu__trigger cds--overflow-menu__trigger"
				aria-haspopup="true" aria-expanded="false" id="`+n.services.domUtils.generateElementIDString("control-"+u.id)+'" aria-label="'+u.title+`">
				<svg focusable="false" preserveAspectRatio="xMidYMid meet" style="will-change: transform; width: `+(u.iconSVG.width!==void 0?u.iconSVG.width:"20px")+"; height: "+(u.iconSVG.height!==void 0?u.iconSVG.height:"20px")+`" xmlns="http://www.w3.org/2000/svg" class="cds--overflow-menu__icon cds--overflow-menu__icon" viewBox="0 0 32 32" aria-hidden="true">
					`+u.iconSVG.content+`
				</svg>
			</button>`}).each(function(u,h){var p=this;R(this).select("button").on("click",function(m){u.shouldBeDisabled()||f.triggerFunctionAndEvent(u,m,p)}).on("keydown",function(m){m.key&&m.key==="Enter"||m.key===" "?(m.preventDefault(),f.triggerFunctionAndEvent(u,m,p)):m.key&&m.key==="ArrowLeft"?f.focusOnPreviousEnabledToolbarItem(h):m.key&&m.key==="ArrowRight"&&f.focusOnNextEnabledToolbarItem(h)})}),this.overflowButton=this.getComponentContainer().select("button.cds--overflow-menu__trigger#"+this.services.domUtils.generateElementIDString("control-toolbar-overflow-menu"))}},r.prototype.renderOverflowMenu=function(){var t=this,n=this.getControlConfigs().overflowMenuItemList,o=this.overflowMenu.select("ul").selectAll("li.cds--overflow-menu-options__option").data(n,function(i){return v.getProperty(i,"id")});o.exit().remove();var a=o.enter().append("li").attr("id",function(i){return t.services.domUtils.generateElementIDString("control-"+i.id)}).attr("class","cds--overflow-menu-options__option cds--overflow-menu-options__option").attr("role","menuitem");a.append("button").attr("class","cds--overflow-menu-options__btn cds--overflow-menu-options__btn"),a.merge(o).classed("cds--overflow-menu-options__option--disabled",function(i){return i.shouldBeDisabled()}).classed("cds--overflow-menu-options__option--disabled",function(i){return i.shouldBeDisabled()}).attr("aria-disabled",function(i){return i.shouldBeDisabled()}).selectAll("button").text(function(i){return i.text})},r.prototype.isOverflowMenuOpen=function(){return this.overflowMenu.classed("is-open")},r.prototype.updateOverflowMenu=function(t){!this.overflowMenu||(this.overflowMenu.classed("is-open",t),this.overflowButton&&(this.overflowButton.attr("aria-expanded",t),R(this.overflowButton.node().parentNode).classed("cds--overflow-menu--open",t).classed("cds--overflow-menu--open",t)),t?this.services.events.dispatchEvent(E.Toolbar.SHOW_OVERFLOW_MENU):this.services.events.dispatchEvent(E.Toolbar.HIDE_OVERFLOW_MENU))},r.prototype.focusOnPreviousEnabledToolbarItem=function(t){for(var n=this.getToolbarButtonItems(),o=n.length,a=t-1;a>=0;a--){var i=n[a];if(!i.shouldBeDisabled()){o=a;break}}if(o<n.length){var s=R("button#"+this.services.domUtils.generateElementIDString("control-"+n[o].id)).node();"focus"in s&&s.focus()}},r.prototype.focusOnNextEnabledToolbarItem=function(t){for(var n=this.getToolbarButtonItems(),o=-1,a=t+1;a<n.length;a++){var i=n[a];if(!i.shouldBeDisabled()){o=a;break}}if(o>-1){var s=R("button#"+this.services.domUtils.generateElementIDString("control-"+n[o].id)).node();"focus"in s&&s.focus()}},r.prototype.focusOnPreviousEnabledMenuItem=function(t){for(var n=this.getOverflowMenuItems(),o=n.length,a=t-1;a>=0;a--){var i=n[a];if(!i.shouldBeDisabled()){o=a;break}}if(o<n.length){var s=R("#"+this.services.domUtils.generateElementIDString("control-"+n[o].id)+" button").node();"focus"in s&&s.focus()}},r.prototype.focusOnNextEnabledMenuItem=function(t){for(var n=this.getOverflowMenuItems(),o=-1,a=t+1;a<n.length;a++){var i=n[a];if(!i.shouldBeDisabled()){o=a;break}}if(o>-1){var s=R("#"+this.services.domUtils.generateElementIDString("control-"+n[o].id)+" button").node();"focus"in s&&s.focus()}},r.prototype.toggleOverflowMenu=function(t){var n=this;if(this.isOverflowMenuOpen())this.updateOverflowMenu(!1);else{this.updateOverflowMenu(!0);var o=this,a=this.getOverflowMenuItems();a.forEach(function(i,s){var c=R("#"+n.services.domUtils.generateElementIDString("control-"+i.id));c!==null&&(c.on("click",function(){o.triggerFunctionAndEvent(i,t,c.node()),o.updateOverflowMenu(!1)}),c.on("keydown",function(d){d&&d.key==="Enter"?o.triggerFunctionAndEvent(i,t,c.node()):d&&d.key==="ArrowUp"?o.focusOnPreviousEnabledMenuItem(s):d&&d.key==="ArrowDown"?o.focusOnNextEnabledMenuItem(s):d&&d.key==="Escape"&&o.updateOverflowMenu(!1),d.preventDefault()}))}),o.focusOnNextEnabledMenuItem(-1)}t&&t.stopImmediatePropagation()},r.prototype.triggerFunctionAndEvent=function(t,n,o){typeof t.clickFunction=="function"&&t.clickFunction(n),this.services.events.dispatchEvent(E.Toolbar.BUTTON_CLICK,{control:t,event:n,element:o})},r.prototype.getControlConfigs=function(){var t=this,n=v.getProperty(this.getOptions(),"toolbar","numberOfIcons")-1,o=v.getProperty(this.getOptions(),"toolbar","controls"),a=[],i=[],s=[];return o.forEach(function(c){var d=null;c.type===Ae.CUSTOM?(v.getProperty(c,"id")===null&&(c.id="toolbar-button-"+r.buttonID++),v.getProperty(c,"shouldBeDisabled")===null&&(c.shouldBeDisabled=function(){return!1}),d=c):d=t.getControlConfigByType(c.type),d&&(d.text=c.text?c.text:c.type,d.id.indexOf("toolbar-export")!==-1?a.push(d):i.length<n?v.getProperty(d,"iconSVG","content")===null?s.push(d):i.push(d):s.push(d))}),s.push.apply(s,a),s.length?{buttonList:i,overflowMenuItemList:s}:{buttonList:i}},r.prototype.getToolbarButtonItems=function(){var t=this.getControlConfigs(),n=t.buttonList,o=t.overflowMenuItemList;return o&&n.push(this.getOverflowButtonConfig()),n||[]},r.prototype.getOverflowMenuItems=function(){var t=this.getControlConfigs().overflowMenuItemList;return t||[]},r.prototype.getOverflowButtonConfig=function(){var t=this;return{id:"toolbar-overflow-menu",title:"More options",shouldBeDisabled:function(){return!1},iconSVG:{content:`<circle cx="16" cy="8" r="2"></circle>
				<circle cx="16" cy="16" r="2"></circle>
				<circle cx="16" cy="24" r="2"></circle>`},clickFunction:function(n){return t.toggleOverflowMenu(n)}}},r.prototype.getControlConfigByType=function(t){var n=this,o=this.services.zoom&&this.services.zoom.isZoomBarEnabled()&&!this.services.zoom.isEmptyState(),a=this.model.getDisplayData(),i;switch(t){case Ae.ZOOM_IN:o&&(i={id:"toolbar-zoomIn",title:"Zoom in",shouldBeDisabled:function(){return n.services.zoom.isMinZoomDomain()},iconSVG:{content:this.getControlIconByType(t)},clickFunction:function(){return n.services.zoom.zoomIn()}});break;case Ae.ZOOM_OUT:o&&(i={id:"toolbar-zoomOut",title:"Zoom out",shouldBeDisabled:function(){return n.services.zoom.isMaxZoomDomain()},iconSVG:{content:this.getControlIconByType(t)},clickFunction:function(){return n.services.zoom.zoomOut()}});break;case Ae.RESET_ZOOM:o&&(i={id:"toolbar-resetZoom",title:"Reset zoom",shouldBeDisabled:function(){return n.services.zoom.isMaxZoomDomain()},iconSVG:{content:this.getControlIconByType(t)},clickFunction:function(){return n.services.zoom.resetZoomDomain()}});break;case Ae.MAKE_FULLSCREEN:i={id:"toolbar-makefullscreen",iconSVG:{content:this.getControlIconByType(t),width:"15px",height:"15px"},title:"Make fullscreen",shouldBeDisabled:function(){return!1},clickFunction:function(){n.services.domUtils.toggleFullscreen()}};break;case Ae.SHOW_AS_DATATABLE:i={id:"toolbar-showasdatatable",iconSVG:{content:this.getControlIconByType(t)},title:"Show as table",shouldBeDisabled:function(){return a.length===0},clickFunction:function(){return n.services.events.dispatchEvent(E.Modal.SHOW)}};break;case Ae.EXPORT_CSV:i={id:"toolbar-export-CSV",title:"Export as CSV",shouldBeDisabled:function(){return!1},iconSVG:{content:this.getControlIconByType(t)},clickFunction:function(){return n.model.exportToCSV()}};break;case Ae.EXPORT_PNG:i={id:"toolbar-export-PNG",title:"Export as PNG",shouldBeDisabled:function(){return!1},iconSVG:{content:this.getControlIconByType(t)},clickFunction:function(){return n.services.domUtils.exportToPNG()}};break;case Ae.EXPORT_JPG:i={id:"toolbar-export-JPG",title:"Export as JPG",shouldBeDisabled:function(){return!1},iconSVG:{content:this.getControlIconByType(t)},clickFunction:function(){return n.services.domUtils.exportToJPG()}};break;default:throw Error("Not supported toolbar control type: "+t)}return i},r.prototype.getControlIconByType=function(t){switch(t){case Ae.ZOOM_IN:return`<polygon points="19 13 15 13 15 9 13 9 13 13 9 13 9 15 13 15 13 19 15 19 15 15 19 15 19 13"/>
						<path d="M22.45,21A10.87,10.87,0,0,0,25,14,11,11,0,1,0,14,25a10.87,10.87,0,0,0,7-2.55L28.59,30,30,28.59ZM14,23a9,9,0,1,1,9-9A9,9,0,0,1,14,23Z"/>`;case Ae.ZOOM_OUT:return`<rect x="9" y="13" width="10" height="2"/>
						<path d="M22.45,21A10.87,10.87,0,0,0,25,14,11,11,0,1,0,14,25a10.87,10.87,0,0,0,7-2.55L28.59,30,30,28.59ZM14,23a9,9,0,1,1,9-9A9,9,0,0,1,14,23Z"/>`;case Ae.RESET_ZOOM:return'<path d="M22.4478,21A10.855,10.855,0,0,0,25,14,10.99,10.99,0,0,0,6,6.4658V2H4v8h8V8H7.332a8.9768,8.9768,0,1,1-2.1,8H3.1912A11.0118,11.0118,0,0,0,14,25a10.855,10.855,0,0,0,7-2.5522L28.5859,30,30,28.5859Z"/>';case Ae.MAKE_FULLSCREEN:return'<polygon points="21 2 21 4 26.59 4 17 13.58 18.41 15 28 5.41 28 11 30 11 30 2 21 2"/><polygon points="15 18.42 13.59 17 4 26.59 4 21 2 21 2 30 11 30 11 28 5.41 28 15 18.42"/>';case Ae.SHOW_AS_DATATABLE:return'<rect x="4" y="6" width="18" height="2"/><rect x="4" y="12" width="18" height="2"/><rect x="4" y="18" width="18" height="2"/><rect x="4" y="24" width="18" height="2"/><rect x="26" y="6" width="2" height="2"/><rect x="26" y="12" width="2" height="2"/><rect x="26" y="18" width="2" height="2"/><rect x="26" y="24" width="2" height="2"/>';case Ae.EXPORT_CSV:return'<path d="M22.4478,21A10.855,10.855,0,0,0,25,14,10.99,10.99,0,0,0,6,6.4658V2H4v8h8V8H7.332a8.9768,8.9768,0,1,1-2.1,8H3.1912A11.0118,11.0118,0,0,0,14,25a10.855,10.855,0,0,0,7-2.5522L28.5859,30,30,28.5859Z"/>';case Ae.EXPORT_JPG:return'<path d="M22.4478,21A10.855,10.855,0,0,0,25,14,10.99,10.99,0,0,0,6,6.4658V2H4v8h8V8H7.332a8.9768,8.9768,0,1,1-2.1,8H3.1912A11.0118,11.0118,0,0,0,14,25a10.855,10.855,0,0,0,7-2.5522L28.5859,30,30,28.5859Z"/>';case Ae.EXPORT_PNG:return'<path d="M22.4478,21A10.855,10.855,0,0,0,25,14,10.99,10.99,0,0,0,6,6.4658V2H4v8h8V8H7.332a8.9768,8.9768,0,1,1-2.1,8H3.1912A11.0118,11.0118,0,0,0,14,25a10.855,10.855,0,0,0,7-2.5522L28.5859,30,30,28.5859Z"/>';default:throw Error("Not supported toolbar control type: "+t)}},r.buttonID=0,r}(me),oU=globalThis&&globalThis.__extends||function(){var e=function(r,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var a in o)o.hasOwnProperty(a)&&(n[a]=o[a])},e(r,t)};return function(r,t){e(r,t);function n(){this.constructor=r}r.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Cn=function(e){oU(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.type="zero-line",t.renderType=oe.SVG,t}return r.prototype.render=function(t){var n=this,o=this.services.cartesianScales.getRangeAxisPosition({groups:this.configs.groups}),a=this.services.cartesianScales.getScaleByPosition(o),i=a.domain(),s=i[0],c=i[1],d=s>0&&c<0||s<0&&c>0,l=this.getComponentContainer();if(!d){l.selectAll("line.domain").remove();return}var f=this.services.cartesianScales.getDomainScale().range(),u=f[0],h=f[1],p=+a(0)+.5;p||(p=a.range()[0]);var m=v.flipSVGCoordinatesBasedOnOrientation({x0:u,x1:h,y0:p,y1:p},this.services.cartesianScales.getOrientation()),b=D.appendOrSelect(l,"line.domain");b.transition().call(function(y){return n.services.transitions.setupTransition({transition:y,name:"zero-line-update",animate:t})}).attr("y1",m.y0).attr("y2",m.y1).attr("x1",m.x0).attr("x2",m.x1)},r}(me),aU=globalThis&&globalThis.__extends||function(){var e=function(r,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var a in o)o.hasOwnProperty(a)&&(n[a]=o[a])},e(r,t)};return function(r,t){e(r,t);function n(){this.constructor=r}r.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),iU=function(e){aU(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.type="zoom-bar",t.renderType=oe.SVG,t.MIN_SELECTION_DIFF=9e-10,t.brushSelector="g.zoom-bar-brush",t.clipId="zoomBarClip-"+Math.floor(Math.random()*99999999999),t.brush=Zg(),t.highlightStrokeWidth=1,t}return r.prototype.init=function(){this.services.events.addEventListener(E.ZoomBar.UPDATE,this.render.bind(this));var t=v.getProperty(this.getOptions(),"zoomBar",q.TOP,"data");this.model.setZoomBarData(t)},r.prototype.render=function(t){var n=this,o=this.getComponentContainer(),a=this.services.zoom.isZoomBarLoading(q.TOP),i=this.services.zoom.isZoomBarLocked(q.TOP),s=v.getProperty(this.getOptions(),"zoomBar",q.TOP,"type"),c=v.getProperty(this.getOptions(),"axes",q.BOTTOM,"highlights"),d=at.height[s],l=D.getSVGElementSize(this.parent,{useAttrs:!0}).width;if(l!==0){var f=0,u=this.model.get("axesMargins");u&&u.left&&(f=u.left);var h=D.appendOrSelect(o,"svg.zoom-container").attr("width","100%").attr("height",d).attr("opacity",1);if(D.appendOrSelect(o,"rect.zoom-spacer").attr("x",0).attr("y",d).attr("width","100%").attr("height",at.spacerHeight).attr("opacity",1).attr("fill","none"),s===St.GRAPH_VIEW?D.appendOrSelect(h,"rect.zoom-bg").attr("x",f).attr("y",0).attr("width",l-f).attr("height","100%").classed("zoom-bg-skeleton",a).style("stroke",a?"url(#"+this.services.domUtils.generateElementIDString("shimmer-lines")+")":null):s===St.SLIDER_VIEW&&D.appendOrSelect(h,"rect.zoom-slider-bg").attr("x",f).attr("y",d/2-1).attr("width",l-f).attr("height",2).classed("zoom-slider-bg-skeleton",a).style("stroke",a?"url(#"+this.services.domUtils.generateElementIDString("shimmer-lines")+")":null),a){this.renderSkeleton(h,f,l);return}var p=this.services.cartesianScales,m=p.getMainXScale(),b=p.getMainYScale(),y=p.getMainXScaleType();if(m&&y===ne.TIME){var g=this.services.zoom.getZoomBarData();if(v.isEmpty(g)||g.length===1)return;this.xScale=m.copy(),this.yScale=b.copy();var w=this.services.zoom.getDefaultZoomBarDomain(g);g=this.compensateDataForDefaultDomain(g,w);var k=this.model.get("initialZoomDomain"),_=v.getProperty(this.getOptions(),"zoomBar",q.TOP,"initialZoomDomain");_&&_[0]&&_[1]&&(_[0]=new Date(_[0]),_[1]=new Date(_[1])),_&&!(k&&k[0].valueOf()===_[0].valueOf()&&k[1].valueOf()===_[1].valueOf())?this.model.set({initialZoomDomain:v.merge([],_),zoomDomain:_?v.merge([],_):w},{skipUpdate:!0}):_===null&&k!==null&&this.model.set({initialZoomDomain:null,zoomDomain:v.merge([],w)},{skipUpdate:!0}),this.xScale.range([f,l]).domain(w),this.maxSelectionRange=this.xScale.range(),this.yScale.range([0,d-6]).domain(zt(g,function(I){return I.value}));var x=this.model.get("zoomDomain");if(s===St.GRAPH_VIEW&&(this.renderZoomBarArea(h,"path.zoom-graph-area-unselected",g,null),this.updateClipPath(o,this.clipId,0,0,0,0),this.renderZoomBarArea(h,"path.zoom-graph-area",g,this.clipId),this.renderZoomBarBaseline(h,f,l),c)){var O=c.highlightStartMapsTo,M=c.highlightEndMapsTo,T=c.color,A=c.labelMapsTo;c.data.forEach(function(I,L){D.appendOrSelect(h,"rect.highlight-"+L).attr("height",d-2*n.highlightStrokeWidth).attr("y",n.highlightStrokeWidth).attr("x",n.xScale(I[O])).attr("width",n.xScale(I[M])-n.xScale(I[O])).style("fill",T&&T.scale[I[A]]?T.scale[I[A]]:null).style("fill-opacity",.1).style("stroke",T&&T.scale[I[A]]?T.scale[I[A]]:null).style("stroke-dasharray","2, 2").attr("stroke-width",1+"px")})}this.addBrushEventListener(x,f,l);var S=D.appendOrSelect(o,this.brushSelector).call(this.brush);if(x!==void 0)if(x[0].valueOf()===x[1].valueOf())S.call(this.brush.move,this.xScale.range()),this.updateBrushHandle(this.getComponentContainer(),this.xScale.range(),this.xScale.domain());else{var P=x.map(function(I){return n.xScale(I)});P[1]-P[0]<this.MIN_SELECTION_DIFF||(S.call(this.brush.move,P),this.updateBrushHandle(this.getComponentContainer(),P,x))}i&&(this.brush.filter(function(){return!1}),S.selectAll("rect").attr("cursor","auto"))}}},r.prototype.addBrushEventListener=function(t,n,o){var a=this,i=function(d){var l=d.selection;l===null?a.handleBrushedEvent(d,t,a.xScale,a.xScale.range()):l[0]===l[1]||a.handleBrushedEvent(d,t,a.xScale,l)},s=v.getProperty(this.getOptions(),"zoomBar",q.TOP,"type"),c=at.height[s];this.brush.extent([[n,0],[o,c]]).on("start brush end",null).on("start brush end",i)},r.prototype.handleBrushedEvent=function(t,n,o,a){var i=[o.invert(a[0]),o.invert(a[1])];if(this.updateBrushHandle(this.getComponentContainer(),a,i),t.sourceEvent!=null&&(t.sourceEvent.type==="mousemove"||t.sourceEvent.type==="mouseup"||t.sourceEvent.type==="mousedown"||t.sourceEvent.type==="touchstart"||t.sourceEvent.type==="touchmove"||t.sourceEvent.type==="touchend")){(n===void 0||n[0]!==i[0]||n[1]!==i[1])&&this.services.zoom.handleDomainChange(i,{dispatchEvent:!1});var s=void 0;t.type==="start"?s=E.ZoomBar.SELECTION_START:t.type==="brush"?s=E.ZoomBar.SELECTION_IN_PROGRESS:t.type==="end"&&(s=E.ZoomBar.SELECTION_END,this.services.events.dispatchEvent(E.ZoomDomain.CHANGE,{newDomain:i})),this.services.events.dispatchEvent(s,{selection:a,newDomain:i})}},r.prototype.updateBrushHandle=function(t,n,o){var a=this,i=at.handleWidth,s=v.getProperty(this.getOptions(),"zoomBar",q.TOP,"type"),c=at.height[s],d=-i/2,l=at.handleBarWidth,f=s===St.GRAPH_VIEW?at.handleBarHeight:6,u=-l/2,h=(c-f)/2;t.select(this.brushSelector).selectAll("rect.handle").data([{type:"w"},{type:"e"}]).attr("x",function(m){if(m.type==="w")return Math.max(n[0]+d,a.maxSelectionRange[0]);if(m.type==="e")return Math.min(n[1]+d,a.maxSelectionRange[1]-i)}).attr("y",0).attr("width",i).attr("height",c).attr("cursor","ew-resize").style("display",null);var p=t.select(this.brushSelector).selectAll("rect.handle-bar").data([{type:"w"},{type:"e"}]);p.enter().append("rect").attr("class",function(m){return"handle-bar handle-bar--"+m.type}),p.attr("x",function(m){if(m.type==="w")return Math.max(n[0]+u,a.maxSelectionRange[0]-d+u);if(m.type==="e")return Math.min(n[1]+u,a.maxSelectionRange[1]+d+u)}).attr("y",h).attr("width",l).attr("height",f).attr("cursor","ew-resize"),s===St.SLIDER_VIEW&&this.updateSliderSelectedArea(n),this.updateClipPath(t,this.clipId,n[0],0,n[1]-n[0],c)},r.prototype.updateSliderSelectedArea=function(t){var n=v.getProperty(this.getOptions(),"zoomBar",q.TOP,"type"),o=at.height[n];D.getSVGElementSize(this.parent,{useAttrs:!0}).width;var a=this.model.get("axesMargins");a&&a.left&&a.left;var i=this.getComponentContainer(),s=i.select("svg.zoom-container");D.appendOrSelect(s,"rect.zoom-slider-selected-area").attr("x",t[0]).attr("y",o/2-1).attr("width",t[1]-t[0]).attr("height",2)},r.prototype.renderZoomBarArea=function(t,n,o,a){var i=this.services.cartesianScales,s=i.getMainXAxisPosition(),c=i.getMainYAxisPosition(),d=i.getMainXScaleType(),l=i.getMainYScaleType(),f=function(g,w,k){return function(_,x){return i.getValueFromScale(g,w,k,_,x)}},u=f(this.xScale,d,s),h=f(this.yScale,l,c),p=v.getProperty(this.getOptions(),"zoomBar",q.TOP,"type"),m=at.height[p],b=Od().x(function(g,w){return u(g,w)}).y0(m).y1(function(g,w){return m-h(g,w)}),y=D.appendOrSelect(t,n).datum(o).attr("d",b);a&&y.attr("clip-path","url(#"+a+")")},r.prototype.updateClipPath=function(t,n,o,a,i,s){var c=D.appendOrSelect(t,"clipPath").attr("id",n);D.appendOrSelect(c,"rect").attr("x",o).attr("y",a).attr("width",i).attr("height",s)},r.prototype.compensateDataForDefaultDomain=function(t,n){if(!(!t||t.length<2)){var o=v.clone(t),a=this.services.cartesianScales.getDomainIdentifier(),i=this.services.cartesianScales.getRangeIdentifier();if(Number(n[0])<Number(o[0][a])){var s={};s[a]=n[0],s[i]=0,o.unshift(s)}if(Number(n[1])>Number(o[o.length-1][a])){var s={};s[a]=n[1],s[i]=0,o.push(s)}return o}},r.prototype.renderZoomBarBaseline=function(t,n,o,a){a===void 0&&(a=!1);var i=v.getProperty(this.model.getOptions(),"zoomBar",q.TOP,"type"),s=at.height[i],c=hi()([[n,s],[o,s]]);D.appendOrSelect(t,"path.zoom-bg-baseline").attr("d",c).classed("zoom-bg-baseline-skeleton",a).style("stroke",a?"url(#"+this.services.domUtils.generateElementIDString("shimmer-lines")+")":null)},r.prototype.renderSkeleton=function(t,n,o){this.renderZoomBarArea(t,"path.zoom-graph-area-unselected",[],null),this.renderZoomBarArea(t,"path.zoom-graph-area",[],this.clipId),this.brush.on("start brush end",null),D.appendOrSelect(this.getComponentContainer(),this.brushSelector).html(null);var a=v.getProperty(this.getOptions(),"zoomBar",q.TOP,"type");a===St.GRAPH_VIEW&&this.renderZoomBarBaseline(t,n,o,!0)},r.prototype.destroy=function(){this.brush.on("start brush end",null),this.services.events.removeEventListener(E.ZoomBar.UPDATE,this.render.bind(this))},r}(me),_u=globalThis&&globalThis.__spreadArrays||function(){for(var e=0,r=0,t=arguments.length;r<t;r++)e+=arguments[r].length;for(var n=Array(e),o=0,r=0;r<t;r++)for(var a=arguments[r],i=0,s=a.length;i<s;i++,o++)n[o]=a[i];return n},$t=function(){function e(r,t){this.services={domUtils:D,files:H4,events:V4,gradientUtils:vc,transitions:j4,canvasZoom:AS},this.model=new rr(this.services)}return e.prototype.init=function(r,t){var n=this;this.model.set({holder:r},{skipUpdate:!0}),Object.keys(this.services).forEach(function(o){var a=n.services[o];n.services[o]=new a(n.model,n.services)}),this.services.events.addEventListener(E.Model.UPDATE,function(o){var a=!!v.getProperty(o,"detail","animate");n.update(a)}),this.model.setData(t.data),this.services.events.addEventListener(E.Chart.RESIZE,function(){n.update(!1)}),this.components=this.getComponents(),this.update()},e.prototype.getComponents=function(){return console.error("getComponents() method is not implemented"),null},e.prototype.update=function(r){var t=this;if(r===void 0&&(r=!0),!!this.components){Object.keys(this.services).forEach(function(a){var i=t.services[a];i.update()}),this.components.forEach(function(a){return a.render(r)});var n=this.services.transitions.getPendingTransitions(),o=Object.keys(n).map(function(a){var i=n[a];return i.end().catch(function(s){return s})});Promise.all(o).then(function(){return t.services.events.dispatchEvent(E.Chart.RENDER_FINISHED)})}},e.prototype.destroy=function(){this.components.forEach(function(r){return r.destroy()}),this.services.domUtils.getHolder().remove(),this.model.set({destroyed:!0},{skipUpdate:!0})},e.prototype.getChartComponents=function(r,t){var n=this.model.getOptions(),o=v.getProperty(n,"toolbar","enabled"),a={id:"legend",components:[new Rd(this.model,this.services)],growth:ge.PREFERRED},i=v.getProperty(n,"canvasZoom","enabled");i&&i===!0&&r.push(new fM(this.model,this.services));var s=!!this.model.getOptions().title,c={id:"title",components:[new _i(this.model,this.services)],growth:ge.STRETCH},d={id:"toolbar",components:[new qd(this.model,this.services)],growth:ge.PREFERRED},l={id:"header",components:[new Rt(this.model,this.services,_u([c],o?[d]:[]),{direction:Be.ROW,alignItems:vn.CENTER})],growth:ge.PREFERRED},f={id:"graph-frame",components:r,growth:ge.STRETCH,renderType:v.getProperty(t,"graphFrameRenderType")||oe.SVG},u=v.getProperty(t,"excludeLegend")!==!0&&n.legend.enabled!==!1,h=Be.COLUMN;if(u){var p=v.getProperty(n,"legend","position");p==="left"?(h=Be.ROW,n.legend.orientation||(n.legend.orientation=mn.VERTICAL)):p==="right"?(h=Be.ROW_REVERSE,n.legend.orientation||(n.legend.orientation=mn.VERTICAL)):p==="bottom"&&(h=Be.COLUMN_REVERSE)}var m={id:"spacer",components:[new Lr(this.model,this.services)],growth:ge.PREFERRED},b={id:"full-frame",components:[new Rt(this.model,this.services,_u(u?[a]:[],u?[m]:[],[f]),{direction:h})],growth:ge.STRETCH},y=[];if(s||o){y.push(l);var g={id:"spacer",components:[new Lr(this.model,this.services,o?{size:15}:void 0)],growth:ge.PREFERRED};y.push(g)}return y.push(b),[new Sg(this.model,this.services),new Nd(this.model,this.services),new Rt(this.model,this.services,y,{direction:Be.COLUMN})]},e}(),sU=globalThis&&globalThis.__extends||function(){var e=function(r,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var a in o)o.hasOwnProperty(a)&&(n[a]=o[a])},e(r,t)};return function(r,t){e(r,t);function n(){this.constructor=r}r.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),os=globalThis&&globalThis.__spreadArrays||function(){for(var e=0,r=0,t=arguments.length;r<t;r++)e+=arguments[r].length;for(var n=Array(e),o=0,r=0;r<t;r++)for(var a=arguments[r],i=0,s=a.length;i<s;i++,o++)n[o]=a[i];return n},Gr=function(e){sU(r,e);function r(t){var n=e.call(this,t)||this;return n.axisFlavor=io.DEFAULT,n}return r.prototype.assignRangeAndDomains=function(){var t=this.services.cartesianScales,n=this.getOptions(),o=t.isDualAxes(),a={primaryDomain:t.domainAxisPosition,primaryRange:t.rangeAxisPosition,secondaryDomain:null,secondaryRange:null};return o&&(a.secondaryDomain=t.secondaryDomainAxisPosition,a.secondaryRange=t.secondaryRangeAxisPosition),Object.keys(a).forEach(function(i){var s=a[i];t.scales[s]?a[i]={position:s,label:t.getScaleLabel(s),identifier:v.getProperty(n,"axes",s,"mapsTo")}:a[i]=null}),a},r.prototype.getTabularDataArray=function(){var t=this.getDisplayData(),n=this.getOptions(),o=n.data.groupMapsTo,a=this.services.cartesianScales,i=this.assignRangeAndDomains(),s=i.primaryDomain,c=i.primaryRange,d=i.secondaryDomain,l=i.secondaryRange,f=a.getDomainAxisScaleType(),u;f===ne.TIME&&(u=function(p){return vo(p,"MMM d, yyyy")});var h=os([os(["Group",s.label,c.label],d?[d.label]:[],l?[l.label]:[])],t.map(function(p){return os([p[o],p[s.identifier]===null?"&ndash;":u?u(p[s.identifier]):p[s.identifier],p[c.identifier]===null||isNaN(p[c.identifier])?"&ndash;":p[c.identifier].toLocaleString()],d?[p[d.identifier]===null?"&ndash;":p[d.identifier]]:[],l?[p[l.identifier]===null||isNaN(p[l.identifier])?"&ndash;":p[l.identifier]]:[])}));return h},r.prototype.setData=function(t){var n;if(t&&(n=e.prototype.setData.call(this,t),v.getProperty(this.getOptions(),"zoomBar",q.TOP,"enabled"))){var o=v.getProperty(this.getOptions(),"zoomBar",q.TOP,"data");this.setZoomBarData(o)}return n},r.prototype.setZoomBarData=function(t){var n=t?this.sanitize(v.clone(t)):this.getDisplayData(),o=n,a=this.services.cartesianScales;if(n&&a.domainAxisPosition&&a.rangeAxisPosition){var i=a.getDomainIdentifier(),s=a.getRangeIdentifier(),c=n.map(function(d){return d[i].getTime()});c=v.removeArrayDuplicates(c).sort(),o=c.map(function(d){var l=0,f={};return n.forEach(function(u){u[i].getTime()===d&&(l+=u[s])}),f[i]=new Date(d),f[s]=l,f})}this.set({zoomBarData:o})},r.prototype.getZoomBarData=function(){return this.get("zoomBarData")},r.prototype.sanitizeDateValues=function(t){var n=this.getOptions();if(!n.axes)return t;var o=[];return Object.keys(q).forEach(function(a){var i=q[a],s=n.axes[i];if(s&&s.scaleType===ne.TIME){var c=s.mapsTo;(c!==null||c!==void 0)&&o.push(c)}}),o.length>0&&t.forEach(function(a){o.forEach(function(i){v.getProperty(a,i,"getTime")===null&&(a[i]=new Date(a[i]))})}),t},r.prototype.sanitize=function(t){return t=e.prototype.sanitize.call(this,t),t=this.sanitizeDateValues(t),t},r}(rr),cU=globalThis&&globalThis.__extends||function(){var e=function(r,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var a in o)o.hasOwnProperty(a)&&(n[a]=o[a])},e(r,t)};return function(r,t){e(r,t);function n(){this.constructor=r}r.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),xu=globalThis&&globalThis.__spreadArrays||function(){for(var e=0,r=0,t=arguments.length;r<t;r++)e+=arguments[r].length;for(var n=Array(e),o=0,r=0;r<t;r++)for(var a=arguments[r],i=0,s=a.length;i<s;i++,o++)n[o]=a[i];return n},lt=function(e){cU(r,e);function r(t,n){var o=e.call(this,t,n)||this;return o.services=Object.assign(o.services,{cartesianScales:_S,curves:MS,zoom:TS}),o.model=new Gr(o.services),o}return r.prototype.getAxisChartComponents=function(t,n){var o=this.model.getOptions(),a=v.getProperty(o,"zoomBar",q.TOP,"enabled"),i=v.getProperty(o,"toolbar","enabled");this.services.cartesianScales.determineAxisDuality(),this.services.cartesianScales.findDomainAndRangeAxes(),this.services.cartesianScales.determineOrientation();var s=this.services.cartesianScales.getMainXAxisPosition(),c=v.getProperty(o,"axes",s,"scaleType"),d=a&&s===q.BOTTOM&&c===ne.TIME,l=this.services.zoom.isZoomBarLocked(q.TOP),f=!!this.model.getOptions().title,u={id:"title",components:[new _i(this.model,this.services)],growth:ge.STRETCH},h={id:"toolbar",components:[new qd(this.model,this.services)],growth:ge.PREFERRED},p={id:"header",components:[new Rt(this.model,this.services,xu([u],i?[h]:[]),{direction:Be.ROW,alignItems:vn.CENTER})],growth:ge.PREFERRED},m={id:"legend",components:[new Rd(this.model,this.services)],growth:ge.PREFERRED};d&&!l&&t.push(new Eg(this.model,this.services),new XP(this.model,this.services)),t.push(new rM(this.model,this.services)),t.push(new pM(this.model,this.services));var b={id:"graph-frame",components:t,growth:ge.STRETCH,renderType:oe.SVG},y=v.getProperty(n,"legend","enabled")!==!1&&this.model.getOptions().legend.enabled!==!1,g=Be.COLUMN;if(y){var w=v.getProperty(this.model.getOptions(),"legend","position");w===dn.LEFT?(g=Be.ROW,this.model.getOptions().legend.orientation||(this.model.getOptions().legend.orientation=mn.VERTICAL)):w===dn.RIGHT?(g=Be.ROW_REVERSE,this.model.getOptions().legend.orientation||(this.model.getOptions().legend.orientation=mn.VERTICAL)):w===dn.BOTTOM&&(g=Be.COLUMN_REVERSE)}var k={id:"spacer",components:[new Lr(this.model,this.services)],growth:ge.PREFERRED},_={id:"full-frame",components:[new Rt(this.model,this.services,xu(y?[m]:[],y?[k]:[],[b]),{direction:g})],growth:ge.STRETCH},x={id:"zoom-bar",components:[new iU(this.model,this.services)],growth:ge.PREFERRED,renderType:oe.SVG},O=[];if(f||i){O.push(p);var M={id:"spacer",components:[new Lr(this.model,this.services,i?{size:15}:void 0)],growth:ge.PREFERRED};O.push(M)}return d&&O.push(x),O.push(_),[new Mg(this.model,this.services),new Nd(this.model,this.services),new Rt(this.model,this.services,O,{direction:Be.COLUMN})]},r}($t),dU=globalThis&&globalThis.__extends||function(){var e=function(r,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var a in o)o.hasOwnProperty(a)&&(n[a]=o[a])},e(r,t)};return function(r,t){e(r,t);function n(){this.constructor=r}r.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();(function(e){dU(r,e);function r(t,n){var o=e.call(this,t,n)||this;return o.model.setOptions(v.mergeDefaultChartOptions(v.clone(Me.areaChart),n.options)),o.init(t,n),o}return r.prototype.getComponents=function(){var t=[new dt(this.model,this.services),new vt(this.model,this.services),new gr(this.model,this.services),new hn(this.model,this.services),new Tg(this.model,this.services),new Dt(this.model,this.services,{fadeInOnChartHolderMouseover:!0,handleThresholds:!0}),new ot(this.model,this.services,{skeleton:Ne.GRID})],n=this.getAxisChartComponents(t);return n},r})(lt);var lU=globalThis&&globalThis.__extends||function(){var e=function(r,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var a in o)o.hasOwnProperty(a)&&(n[a]=o[a])},e(r,t)};return function(r,t){e(r,t);function n(){this.constructor=r}r.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),ku=function(e){lU(r,e);function r(t,n){var o=e.call(this,t,n)||this;return o.model.setOptions(v.mergeDefaultChartOptions(Me.stackedAreaChart,n.options)),o.init(t,n),o}return r.prototype.getComponents=function(){var t=[new dt(this.model,this.services),new vt(this.model,this.services),new Ka(this.model,this.services),new Og(this.model,this.services),new hn(this.model,this.services,{stacked:!0}),new Cg(this.model,this.services,{fadeInOnChartHolderMouseover:!0,handleThresholds:!0,stacked:!0}),new ot(this.model,this.services,{skeleton:Ne.GRID})],n=this.getAxisChartComponents(t);return n},r}(lt),fU=globalThis&&globalThis.__extends||function(){var e=function(r,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var a in o)o.hasOwnProperty(a)&&(n[a]=o[a])},e(r,t)};return function(r,t){e(r,t);function n(){this.constructor=r}r.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();(function(e){fU(r,e);function r(t,n){var o=e.call(this,t,n)||this;return o.model.setOptions(v.mergeDefaultChartOptions(Me.simpleBarChart,n.options)),o.init(t,n),o}return r.prototype.getComponents=function(){var t=[new dt(this.model,this.services),new vt(this.model,this.services),new Ag(this.model,this.services),new Cn(this.model,this.services),new ot(this.model,this.services,{skeleton:Ne.VERT_OR_HORIZ})],n=this.getAxisChartComponents(t);return n},r})(lt);var uU=globalThis&&globalThis.__extends||function(){var e=function(r,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var a in o)o.hasOwnProperty(a)&&(n[a]=o[a])},e(r,t)};return function(r,t){e(r,t);function n(){this.constructor=r}r.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();(function(e){uU(r,e);function r(t,n){var o=e.call(this,t,n)||this;return o.model.setOptions(v.mergeDefaultChartOptions(Me.groupedBarChart,n.options)),o.init(t,n),o}return r.prototype.getComponents=function(){var t=[new dt(this.model,this.services),new vt(this.model,this.services),new Pg(this.model,this.services),new Cn(this.model,this.services),new ot(this.model,this.services,{skeleton:Ne.VERT_OR_HORIZ})],n=this.getAxisChartComponents(t);return n},r})(lt);var pU=globalThis&&globalThis.__extends||function(){var e=function(r,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var a in o)o.hasOwnProperty(a)&&(n[a]=o[a])},e(r,t)};return function(r,t){e(r,t);function n(){this.constructor=r}r.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();(function(e){pU(r,e);function r(t,n){var o=e.call(this,t,n)||this;return o.model.setOptions(v.mergeDefaultChartOptions(Me.stackedBarChart,n.options)),o.init(t,n),o}return r.prototype.getComponents=function(){var t=[new dt(this.model,this.services),new vt(this.model,this.services),new Ka(this.model,this.services),new Ug(this.model,this.services),new ot(this.model,this.services,{skeleton:Ne.VERT_OR_HORIZ}),new Cn(this.model,this.services)],n=this.getAxisChartComponents(t);return n},r})(lt);var hU=globalThis&&globalThis.__extends||function(){var e=function(r,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var a in o)o.hasOwnProperty(a)&&(n[a]=o[a])},e(r,t)};return function(r,t){e(r,t);function n(){this.constructor=r}r.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),gU=globalThis&&globalThis.__spreadArrays||function(){for(var e=0,r=0,t=arguments.length;r<t;r++)e+=arguments[r].length;for(var n=Array(e),o=0,r=0;r<t;r++)for(var a=arguments[r],i=0,s=a.length;i<s;i++,o++)n[o]=a[i];return n},mU=function(e){hU(r,e);function r(t){return e.call(this,t)||this}return r.prototype.getBoxQuartiles=function(t){return{q_25:Ci(t,.25),q_50:Ci(t,.5),q_75:Ci(t,.75)}},r.prototype.getBoxplotData=function(){for(var t=this.getOptions(),n=t.data.groupMapsTo,o=this.getGroupedData(),a=[],i=function(h,p){for(var m,b=s.services.cartesianScales.getRangeIdentifier(),y=p.map(function(B){return B[b]}).sort(Or),g=(m={},m[n]=h,m.counts=y,m.quartiles=s.getBoxQuartiles(y),m.outliers=null,m.whiskers=null,m),w=g.quartiles.q_25,k=g.quartiles.q_75,_=(k-w)*1.5,x=w-_,O=k+_,M=[],T=[],A=0,S=y;A<S.length;A++){var P=S[A];P<x||P>O?M.push(P):T.push(P)}g.outliers=M;var I=ur(T),L=Br(T);g.whiskers={min:I||ur([g.quartiles.q_25,g.quartiles.q_50,g.quartiles.q_75]),max:L||Br([g.quartiles.q_25,g.quartiles.q_50,g.quartiles.q_75])},a.push(g)},s=this,c=0,d=o;c<d.length;c++){var l=d[c],f=l.name,u=l.data;i(f,u)}return a},r.prototype.getTabularDataArray=function(){var t=this.getOptions(),n=t.data.groupMapsTo,o=this.getBoxplotData(),a=gU([["Group","Minimum","Q1","Median","Q3","Maximum","IQR","Outlier(s)"]],o.map(function(i){var s=v.getProperty(i,"outliers");return(s===null||s.length===0)&&(s=["&ndash;"]),[i[n],v.getProperty(i,"whiskers","min")!==null?v.getProperty(i,"whiskers","min").toLocaleString():"&ndash;",v.getProperty(i,"quartiles","q_25")!==null?v.getProperty(i,"quartiles","q_25").toLocaleString():"&ndash;",v.getProperty(i,"quartiles","q_50")!==null?v.getProperty(i,"quartiles","q_50").toLocaleString():"&ndash;",v.getProperty(i,"quartiles","q_75")!==null?v.getProperty(i,"quartiles","q_75").toLocaleString():"&ndash;",v.getProperty(i,"whiskers","max")!==null?v.getProperty(i,"whiskers","max").toLocaleString():"&ndash;",v.getProperty(i,"quartiles","q_75")!==null&&v.getProperty(i,"quartiles","q_25")!==null?(v.getProperty(i,"quartiles","q_75")-v.getProperty(i,"quartiles","q_25")).toLocaleString():"&ndash;",s.map(function(c){return c.toLocaleString()}).join(",")]}));return a},r.prototype.setColorClassNames=function(){var t=1,n=v.getProperty(this.getOptions(),"color","pairing"),o=v.getProperty(n,"option"),a=Xc.pairingOptions;o=o<=a[t+"-color"]?o:1;var i=this.allDataGroups.map(function(s,c){return t+"-"+o+"-1"});this.colorClassNames=di().range(i).domain(this.allDataGroups)},r}(Gr),vU=globalThis&&globalThis.__extends||function(){var e=function(r,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var a in o)o.hasOwnProperty(a)&&(n[a]=o[a])},e(r,t)};return function(r,t){e(r,t);function n(){this.constructor=r}r.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();(function(e){vU(r,e);function r(t,n){var o=e.call(this,t,n)||this;return o.model=new mU(o.services),o.model.setOptions(v.mergeDefaultChartOptions(Me.boxplotChart,n.options)),o.init(t,n),o}return r.prototype.getComponents=function(){var t=[new dt(this.model,this.services),new vt(this.model,this.services),new _M(this.model,this.services),new Cn(this.model,this.services),new ot(this.model,this.services,{skeleton:Ne.VERT_OR_HORIZ})],n=this.getAxisChartComponents(t,{legend:{enabled:!1}});return n},r})(lt);var bU=globalThis&&globalThis.__extends||function(){var e=function(r,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var a in o)o.hasOwnProperty(a)&&(n[a]=o[a])},e(r,t)};return function(r,t){e(r,t);function n(){this.constructor=r}r.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();(function(e){bU(r,e);function r(t,n){var o=e.call(this,t,n)||this;return o.model.setOptions(v.mergeDefaultChartOptions(Me.bubbleChart,n.options)),o.init(t,n),o}return r.prototype.getComponents=function(){var t=[new dt(this.model,this.services),new vt(this.model,this.services),new gr(this.model,this.services),new SM(this.model,this.services),new ot(this.model,this.services,{skeleton:Ne.GRID})],n=this.getAxisChartComponents(t);return n},r})(lt);var yU=globalThis&&globalThis.__extends||function(){var e=function(r,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var a in o)o.hasOwnProperty(a)&&(n[a]=o[a])},e(r,t)};return function(r,t){e(r,t);function n(){this.constructor=r}r.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),wU=globalThis&&globalThis.__spreadArrays||function(){for(var e=0,r=0,t=arguments.length;r<t;r++)e+=arguments[r].length;for(var n=Array(e),o=0,r=0;r<t;r++)for(var a=arguments[r],i=0,s=a.length;i<s;i++,o++)n[o]=a[i];return n},_U=function(e){yU(r,e);function r(t){return e.call(this,t)||this}return r.prototype.getMatchingRangeIndexForDatapoint=function(t){for(var n,o=t.ranges.length-1;o>0;o--){var a=t.ranges[o];if(t.value>=a)return n=o,n}return 0},r.prototype.getTabularDataArray=function(){var t=this,n=this.getDisplayData(),o=this.getOptions(),a=o.data.groupMapsTo,i=this.services.cartesianScales.getRangeIdentifier(),s=v.getProperty(o,"bullet","performanceAreaTitles"),c=wU([["Title","Group","Value","Target","Percentage","Performance"]],n.map(function(d){return[d.title,d[a],d.value===null?"&ndash;":d.value,v.getProperty(d,"marker")===null?"&ndash;":d.marker,v.getProperty(d,"marker")===null?"&ndash;":Math.floor(d[i]/d.marker*100)+"%",s[t.getMatchingRangeIndexForDatapoint(d)]]}));return c},r}(Gr),xU=globalThis&&globalThis.__extends||function(){var e=function(r,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var a in o)o.hasOwnProperty(a)&&(n[a]=o[a])},e(r,t)};return function(r,t){e(r,t);function n(){this.constructor=r}r.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();(function(e){xU(r,e);function r(t,n){var o=e.call(this,t,n)||this;return o.model=new _U(o.services),o.model.setOptions(v.mergeDefaultChartOptions(Me.bulletChart,n.options)),o.init(t,n),o}return r.prototype.getComponents=function(){var t=[new dt(this.model,this.services),new vt(this.model,this.services),new EM(this.model,this.services),new ot(this.model,this.services,{skeleton:Ne.GRID})],n=this.getAxisChartComponents(t);return n},r})(lt);var kU=globalThis&&globalThis.__extends||function(){var e=function(r,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var a in o)o.hasOwnProperty(a)&&(n[a]=o[a])},e(r,t)};return function(r,t){e(r,t);function n(){this.constructor=r}r.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),as=globalThis&&globalThis.__spreadArrays||function(){for(var e=0,r=0,t=arguments.length;r<t;r++)e+=arguments[r].length;for(var n=Array(e),o=0,r=0;r<t;r++)for(var a=arguments[r],i=0,s=a.length;i<s;i++,o++)n[o]=a[i];return n},SU=function(e){kU(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}return r.prototype.getTabularDataArray=function(){var t=this.getOptions(),n=t.data.groupMapsTo,o=this.getBinnedStackedData(),a=as([as([Te(t,"bins.rangeLabel")||"Range"],o.map(function(i){return Te(i,"0."+n)}))],Te(o,0).map(function(i,s){return as([Te(i,"data.x0")+" \u2013 "+Te(i,"data.x1")],o.map(function(c){return Te(c[s],"data."+Te(c[s],n))}))}));return a},r}(Gr),MU=globalThis&&globalThis.__extends||function(){var e=function(r,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var a in o)o.hasOwnProperty(a)&&(n[a]=o[a])},e(r,t)};return function(r,t){e(r,t);function n(){this.constructor=r}r.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();(function(e){MU(r,e);function r(t,n){var o=e.call(this,t,n)||this;return o.model=new SU(o.services),o.model.setOptions(v.mergeDefaultChartOptions(Me.histogramChart,n.options)),o.init(t,n),o.update(),o}return r.prototype.getComponents=function(){var t=[new dt(this.model,this.services),new vt(this.model,this.services),new tU(this.model,this.services),new OM(this.model,this.services)],n=this.getAxisChartComponents(t);return n},r})(lt);var EU=globalThis&&globalThis.__extends||function(){var e=function(r,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var a in o)o.hasOwnProperty(a)&&(n[a]=o[a])},e(r,t)};return function(r,t){e(r,t);function n(){this.constructor=r}r.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();(function(e){EU(r,e);function r(t,n){var o=e.call(this,t,n)||this;return o.model.setOptions(v.mergeDefaultChartOptions(Me.lineChart,n.options)),o.init(t,n),o}return r.prototype.getComponents=function(){var t=[new dt(this.model,this.services),new vt(this.model,this.services),new gr(this.model,this.services),new hn(this.model,this.services),new Dt(this.model,this.services,{handleThresholds:!0}),new VM(this.model,this.services),new Cn(this.model,this.services)],n=this.getAxisChartComponents(t);return n},r})(lt);var TU=globalThis&&globalThis.__extends||function(){var e=function(r,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var a in o)o.hasOwnProperty(a)&&(n[a]=o[a])},e(r,t)};return function(r,t){e(r,t);function n(){this.constructor=r}r.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();(function(e){TU(r,e);function r(t,n){var o=e.call(this,t,n)||this;return o.model.setOptions(v.mergeDefaultChartOptions(Me.lollipopChart,n.options)),o.init(t,n),o}return r.prototype.getComponents=function(){var t=[new dt(this.model,this.services),new vt(this.model,this.services),new gr(this.model,this.services),new UM(this.model,this.services),new Dt(this.model,this.services),new ot(this.model,this.services,{skeleton:Ne.GRID})],n=this.getAxisChartComponents(t);return n},r})(lt);var OU=globalThis&&globalThis.__extends||function(){var e=function(r,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var a in o)o.hasOwnProperty(a)&&(n[a]=o[a])},e(r,t)};return function(r,t){e(r,t);function n(){this.constructor=r}r.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();(function(e){OU(r,e);function r(t,n){var o=e.call(this,t,n)||this;return o.model.setOptions(v.mergeDefaultChartOptions(Me.scatterChart,n.options)),o.init(t,n),o}return r.prototype.getComponents=function(){var t=[new dt(this.model,this.services),new vt(this.model,this.services),new gr(this.model,this.services),new Dt(this.model,this.services),new ot(this.model,this.services,{skeleton:Ne.GRID})],n=this.getAxisChartComponents(t);return n},r})(lt);var AU=globalThis&&globalThis.__extends||function(){var e=function(r,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var a in o)o.hasOwnProperty(a)&&(n[a]=o[a])},e(r,t)};return function(r,t){e(r,t);function n(){this.constructor=r}r.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),PU=globalThis&&globalThis.__spreadArrays||function(){for(var e=0,r=0,t=arguments.length;r<t;r++)e+=arguments[r].length;for(var n=Array(e),o=0,r=0;r<t;r++)for(var a=arguments[r],i=0,s=a.length;i<s;i++,o++)n[o]=a[i];return n},UU=function(e){AU(r,e);function r(t){return e.call(this,t)||this}return r.prototype.getTabularData=function(t){var n=e.prototype.getTabularData.call(this,t);return t!==n&&n.forEach(function(o){o.key&&o.key!==o.group&&(o.group=o.key)}),n},r.prototype.getTabularDataArray=function(){var t=this.getDisplayData(),n=this.getOptions(),o=n.data.groupMapsTo,a=PU([["Group","Value"]],t.map(function(i){return[i[o],i.value===null?"&ndash;":i.value.toLocaleString()]}));return a},r.prototype.sanitize=function(t){var n=this.getTabularData(t);return n.sort(function(o,a){return a.value-o.value})},r}(rr),CU=globalThis&&globalThis.__extends||function(){var e=function(r,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var a in o)o.hasOwnProperty(a)&&(n[a]=o[a])},e(r,t)};return function(r,t){e(r,t);function n(){this.constructor=r}r.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),BU=function(e){CU(r,e);function r(t,n,o){o===void 0&&(o=!1);var a=e.call(this,t,n)||this;return a.model=new UU(a.services),o||(a.model.setOptions(v.mergeDefaultChartOptions(Me.pieChart,n.options)),a.init(t,n)),a}return r.prototype.getComponents=function(){var t=[new Bg(this.model,this.services),new ot(this.model,this.services,{skeleton:Ne.PIE})],n=this.getChartComponents(t);return n},r}($t),IU=globalThis&&globalThis.__extends||function(){var e=function(r,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var a in o)o.hasOwnProperty(a)&&(n[a]=o[a])},e(r,t)};return function(r,t){e(r,t);function n(){this.constructor=r}r.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();(function(e){IU(r,e);function r(t,n){var o=e.call(this,t,n,!0)||this;return o.model.setOptions(v.mergeDefaultChartOptions(Me.donutChart,n.options)),o.init(t,n),o}return r.prototype.getComponents=function(){var t=[new RM(this.model,this.services),new ot(this.model,this.services,{skeleton:Ne.DONUT})],n=this.getChartComponents(t);return n},r})(BU);var zU=globalThis&&globalThis.__extends||function(){var e=function(r,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var a in o)o.hasOwnProperty(a)&&(n[a]=o[a])},e(r,t)};return function(r,t){e(r,t);function n(){this.constructor=r}r.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),is=globalThis&&globalThis.__spreadArrays||function(){for(var e=0,r=0,t=arguments.length;r<t;r++)e+=arguments[r].length;for(var n=Array(e),o=0,r=0;r<t;r++)for(var a=arguments[r],i=0,s=a.length;i<s;i++,o++)n[o]=a[i];return n},LU=function(e){zU(r,e);function r(t){return e.call(this,t)||this}return r.prototype.getMaximumDomain=function(t){var n=t.reduce(function(o,a){return o+a.value},0);return n},r.prototype.getFillColor=function(t){var n=this.getOptions(),o=v.getProperty(n,"color","scale"),a=this.getStatus();return o||!a?e.prototype.getFillColor.call(this,t):null},r.prototype.getStatus=function(){var t=this.getOptions(),n=v.getProperty(this.getDisplayData()),o=(n?n.reduce(function(c,d){return{value:c.value+d.value}}):0).value,a=v.getProperty(t,"meter","proportional")?o:o>100?100:o,i=v.getProperty(t,"meter","status","ranges");if(i){var s=i.filter(function(c){return c.range[0]<=a&&a<=c.range[1]});if(s.length>0)return s[0].status}return null},r.prototype.getTabularDataArray=function(){var t=this.getDisplayData(),n=this.getOptions(),o=n.data.groupMapsTo,a=this.getStatus(),i=v.getProperty(n,"meter","proportional"),s=[],c;if(i===null){c=100;var d=t[0];s=[is(["Group","Value"],a?["Status"]:[]),is([d[o],d.value],a?[a]:[])]}else{var l=v.getProperty(i,"total");c=l||this.getMaximumDomain(t),s=is([["Group","Value","Percentage of total"]],t.map(function(f){return[f[o],f.value,(f.value/c*100).toFixed(2)+" %"]}))}return s},r}(rr),DU=globalThis&&globalThis.__extends||function(){var e=function(r,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var a in o)o.hasOwnProperty(a)&&(n[a]=o[a])},e(r,t)};return function(r,t){e(r,t);function n(){this.constructor=r}r.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),sn=globalThis&&globalThis.__assign||function(){return sn=Object.assign||function(e){for(var r,t=1,n=arguments.length;t<n;t++){r=arguments[t];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},sn.apply(this,arguments)},RU=function(e){DU(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.type="meter",t.renderType=oe.SVG,t}return r.prototype.getStackedBounds=function(t,n){var o=0,a=t.map(function(i,s){return s!==0?(o+=n(i.value),sn(sn({},i),{width:Math.abs(n(i.value)-Ge.dividerWidth),x:o-n(i.value)})):(o=n(i.value),sn(sn({},i),{width:Math.abs(n(i.value)-Ge.dividerWidth),x:0}))});return a},r.prototype.render=function(t){var n=this;t===void 0&&(t=!0);var o=this,a=this.getComponentContainer(),i=this.getOptions(),s=v.getProperty(i,"meter","proportional"),c=this.model.getDisplayData(),d=this.model.getStatus(),l=D.getSVGElementSize(a,{useAttrs:!0}).width,f=i.data.groupMapsTo,u;if(v.getProperty(i,"meter","proportional")===null)u=100;else{var h=v.getProperty(i,"meter","proportional","total");u=h||this.model.getMaximumDomain(this.model.getDisplayData())}var p=Nt().domain([0,u]).range([0,l]),m=this.getStackedBounds(c,p),b=v.getProperty(i,"meter","height");D.appendOrSelect(a,"rect.container").attr("x",0).attr("y",0).attr("width",l).attr("height",b||(s?Ge.height.proportional:Ge.height.default)),D.appendOrSelect(a,"line.rangeIndicator").attr("x1",l).attr("x2",l).attr("y1",0).attr("y2",b||(s?Ge.height.proportional:Ge.height.default));var y=a.selectAll("rect.value").data(m),g=d!=null&&!o.model.isUserProvidedColorScaleValid()&&!s?"value status--"+d:"value";y.enter().append("rect").classed("value",!0).merge(y).attr("x",function(x){return x.x}).attr("y",0).attr("height",function(){var x=v.getProperty(i,"meter","height");return x||(s?Ge.height.proportional:Ge.height.default)}).attr("class",function(x){return n.model.getColorClassName({classNameTypes:[ie.FILL],dataGroupName:x[f],originalClassName:g})}).transition().call(function(x){return n.services.transitions.setupTransition({transition:x,name:"meter-bar-update",animate:t})}).attr("width",function(x,O){return x.value>u?p(u):x.width}).style("fill",function(x){return o.model.getFillColor(x[f])}).attr("role",fe.GRAPHICS_SYMBOL).attr("aria-roledescription","value").attr("aria-label",function(x){return x.value}),y.exit().remove();var w=v.getProperty(i,"meter","peak"),k=w;w!==null&&(w>u?k=u:w<c[0].value&&(k=c[0].value>u?u:c[0].value));var _=a.selectAll("line.peak").data(k==null?[]:[k]);_.enter().append("line").classed("peak",!0).merge(_).attr("y1",0).attr("y2",function(){var x=v.getProperty(i,"meter","height");return x||(s?Ge.height.proportional:Ge.height.default)}).transition().call(function(x){return n.services.transitions.setupTransition({transition:x,name:"peak-line-update",animate:t})}).attr("x1",function(x){return p(x)}).attr("x2",function(x){return p(x)}).attr("role",fe.GRAPHICS_SYMBOL).attr("aria-roledescription","peak").attr("aria-label",function(x){return x}),_.exit().remove(),this.services.domUtils.setSVGMaxHeight(),this.addEventListeners()},r.prototype.addEventListeners=function(){var t=this.getOptions(),n=t.data.groupMapsTo,o=this,a=v.getProperty(t,"meter","proportional");this.parent.selectAll("rect.value").on("mouseover",function(i,s){var c=R(this);o.services.events.dispatchEvent(E.Meter.METER_MOUSEOVER,{event:i,element:c,datum:s}),a&&(c.classed("hovered",!0),o.services.events.dispatchEvent(E.Tooltip.SHOW,{event:i,hoveredElement:c,items:[{label:s[n],value:s.value}]}))}).on("mousemove",function(i,s){var c=R(this);o.services.events.dispatchEvent(E.Meter.METER_MOUSEMOVE,{event:i,element:c,datum:s}),a&&o.services.events.dispatchEvent(E.Tooltip.MOVE,{event:i})}).on("click",function(i,s){o.services.events.dispatchEvent(E.Meter.METER_CLICK,{event:i,element:R(this),datum:s})}).on("mouseout",function(i,s){var c=R(this);o.services.events.dispatchEvent(E.Meter.METER_MOUSEOUT,{event:i,element:c,datum:s}),a&&(c.classed("hovered",!1),o.services.events.dispatchEvent(E.Tooltip.HIDE,{hoveredElement:c}))})},r.prototype.destroy=function(){this.parent.selectAll("rect.value").on("mouseover",null).on("mousemove",null).on("mouseout",null).on("click",null)},r}(me),FU=globalThis&&globalThis.__extends||function(){var e=function(r,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var a in o)o.hasOwnProperty(a)&&(n[a]=o[a])},e(r,t)};return function(r,t){e(r,t);function n(){this.constructor=r}r.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),NU=globalThis&&globalThis.__spreadArrays||function(){for(var e=0,r=0,t=arguments.length;r<t;r++)e+=arguments[r].length;for(var n=Array(e),o=0,r=0;r<t;r++)for(var a=arguments[r],i=0,s=a.length;i<s;i++,o++)n[o]=a[i];return n};(function(e){FU(r,e);function r(t,n){var o=e.call(this,t,n)||this;o.model=new LU(o.services);var a=n.options.meter.proportional?v.merge(v.clone(Me.proportionalMeterChart),n.options):v.merge(v.clone(Me.meterChart),n.options);return o.model.setOptions(a),o.init(t,n),o}return r.prototype.getComponents=function(){var t=v.getProperty(this.model.getOptions(),"meter","showLabels"),n=NU(t?[{id:"meter-title",components:[new aM(this.model,this.services)],growth:ge.STRETCH,renderType:oe.SVG},{id:"spacer",components:[new Lr(this.model,this.services,{size:8})],growth:ge.STRETCH}]:[],[{id:"meter-graph",components:[new RU(this.model,this.services)],growth:ge.STRETCH,renderType:oe.SVG}]),o=[new Rt(this.model,this.services,n,{direction:Be.COLUMN})],a=this.getChartComponents(o,{graphFrameRenderType:oe.HTML});return a},r})($t);var VU=globalThis&&globalThis.__extends||function(){var e=function(r,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var a in o)o.hasOwnProperty(a)&&(n[a]=o[a])},e(r,t)};return function(r,t){e(r,t);function n(){this.constructor=r}r.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),ss=globalThis&&globalThis.__spreadArrays||function(){for(var e=0,r=0,t=arguments.length;r<t;r++)e+=arguments[r].length;for(var n=Array(e),o=0,r=0;r<t;r++)for(var a=arguments[r],i=0,s=a.length;i<s;i++,o++)n[o]=a[i];return n},$U=function(e){VU(r,e);function r(t){return e.call(this,t)||this}return r.prototype.getTabularDataArray=function(){var t=this.getOptions(),n=this.getGroupedData(),o=v.getProperty(t,"radar","axes"),a=o.angle,i=o.value,s=v.getProperty(n,"0","data").map(function(d){return d[a]}),c=ss([ss(["Group"],s)],n.map(function(d){return ss([d.name],s.map(function(l,f){return v.getProperty(d,"data",f,i)!==null?v.getProperty(d,"data",f,i).toLocaleString():"&ndash;"}))}));return c},r}(Gr),HU=globalThis&&globalThis.__extends||function(){var e=function(r,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var a in o)o.hasOwnProperty(a)&&(n[a]=o[a])},e(r,t)};return function(r,t){e(r,t);function n(){this.constructor=r}r.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();(function(e){HU(r,e);function r(t,n){var o=e.call(this,t,n)||this;return o.model=new $U(o.services),o.model.setOptions(v.mergeDefaultChartOptions(Me.radarChart,n.options)),o.init(t,n),o}return r.prototype.getComponents=function(){var t=[new k9(this.model,this.services)],n=this.getChartComponents(t);return n},r})($t);var GU=globalThis&&globalThis.__extends||function(){var e=function(r,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var a in o)o.hasOwnProperty(a)&&(n[a]=o[a])},e(r,t)};return function(r,t){e(r,t);function n(){this.constructor=r}r.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),jU=globalThis&&globalThis.__spreadArrays||function(){for(var e=0,r=0,t=arguments.length;r<t;r++)e+=arguments[r].length;for(var n=Array(e),o=0,r=0;r<t;r++)for(var a=arguments[r],i=0,s=a.length;i<s;i++,o++)n[o]=a[i];return n},qU=function(e){GU(r,e);function r(t){return e.call(this,t)||this}return r.prototype.getDataGroups=function(){return e.prototype.getDataGroups.call(this).filter(function(t){return t.name!=="delta"})},r.prototype.getTabularDataArray=function(){var t=this.getDisplayData(),n=this.getOptions(),o=n.data.groupMapsTo,a=jU([["Group","Value"]],t.map(function(i){return[i[o],i.value===null?"&ndash;":i.value.toLocaleString()]}));return a},r}(rr),WU=globalThis&&globalThis.__extends||function(){var e=function(r,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var a in o)o.hasOwnProperty(a)&&(n[a]=o[a])},e(r,t)};return function(r,t){e(r,t);function n(){this.constructor=r}r.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();(function(e){WU(r,e);function r(t,n){var o=e.call(this,t,n)||this;return o.model=new qU(o.services),o.model.setOptions(v.mergeDefaultChartOptions(Me.gaugeChart,n.options)),o.init(t,n),o}return r.prototype.getComponents=function(){var t=[new LM(this.model,this.services)],n=this.getChartComponents(t);return n},r})($t);var YU=globalThis&&globalThis.__extends||function(){var e=function(r,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var a in o)o.hasOwnProperty(a)&&(n[a]=o[a])},e(r,t)};return function(r,t){e(r,t);function n(){this.constructor=r}r.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),XU=globalThis&&globalThis.__spreadArrays||function(){for(var e=0,r=0,t=arguments.length;r<t;r++)e+=arguments[r].length;for(var n=Array(e),o=0,r=0;r<t;r++)for(var a=arguments[r],i=0,s=a.length;i<s;i++,o++)n[o]=a[i];return n},Wt,Su=(Wt={},Wt[ut.LINE]=[hn,Dt],Wt[ut.SCATTER]=[Dt],Wt[ut.AREA]=[Tg,hn,Dt],Wt[ut.STACKED_AREA]=[Og,hn,Cg,Ka],Wt[ut.SIMPLE_BAR]=[Ag],Wt[ut.GROUPED_BAR]=[Pg,Cn],Wt[ut.STACKED_BAR]=[Ug,Ka],Wt);(function(e){YU(r,e);function r(t,n){var o=e.call(this,t,n)||this,a=v.mergeDefaultChartOptions(Me.comboChart,n.options);return n.options.comboChartTypes||(console.error("No comboChartTypes defined for the Combo Chart!"),a.comboChartTypes=[{type:ut.LINE,correspondingDatasets:[]}]),o.model.setOptions(a),o.init(t,n),o}return r.prototype.getGraphComponents=function(){var t=this,n=this.model.getOptions().comboChartTypes,o=0,a=n.map(function(i){var s=i.type,c;if(typeof i.type=="string"){if(!Object.keys(Su).includes(i.type))return console.error('Invalid chart type "'+i.type+'" specified for combo chart. Please refer to the ComboChart tutorial for more guidance.'),null;var d;return c=v.merge({},Me[v.camelCase(i.type)+"Chart"],t.model.getOptions(),i.options),i.type===ut.STACKED_AREA&&(d=!0),Su[i.type].map(function(l,f){return new l(t.model,t.services,{groups:i.correspondingDatasets,id:o++,options:c,stacked:d})})}else return c=v.merge({},t.model.getOptions(),i.options),new s(t.model,t.services,{groups:i.correspondingDatasets,id:o++,options:c})}).filter(function(i){return i!==null});return v.flatten(a)},r.prototype.getComponents=function(){var t=this.model.getOptions().comboChartTypes,n=t.some(function(i){return i.type===ut.STACKED_BAR||i.type===ut.STACKED_AREA}),o=XU([new dt(this.model,this.services),new vt(this.model,this.services),new ot(this.model,this.services,{skeleton:Ne.GRID})],n?[]:[new gr(this.model,this.services)],this.getGraphComponents()),a=this.getAxisChartComponents(o);return a},r})(lt);var ZU=globalThis&&globalThis.__extends||function(){var e=function(r,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var a in o)o.hasOwnProperty(a)&&(n[a]=o[a])},e(r,t)};return function(r,t){e(r,t);function n(){this.constructor=r}r.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),KU=function(e){ZU(r,e);function r(t){return e.call(this,t)||this}return r.prototype.getTabularDataArray=function(){var t=this,n=this.getDisplayData(),o=[["Child","Parent"]];return n.forEach(function(a){t.getChildrenDatums(a,o),o.push([a.name,"&ndash;"])}),o},r.prototype.getChildrenDatums=function(t,n){var o=this;n===void 0&&(n=[]),t.children&&t.children.length>0&&t.children.forEach(function(a){o.getChildrenDatums(a,n),n.push([a.name,t.name])})},r}(rr),QU=globalThis&&globalThis.__extends||function(){var e=function(r,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var a in o)o.hasOwnProperty(a)&&(n[a]=o[a])},e(r,t)};return function(r,t){e(r,t);function n(){this.constructor=r}r.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();(function(e){QU(r,e);function r(t,n){var o=e.call(this,t,n)||this;return o.model=new KU(o.services),o.model.setOptions(v.mergeDefaultChartOptions(Me.treeChart,n.options)),o.init(t,n),o}return r.prototype.getComponents=function(){var t=[new HE(this.model,this.services)],n=this.getChartComponents(t,{excludeLegend:!0});return n},r})($t);var JU=globalThis&&globalThis.__extends||function(){var e=function(r,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var a in o)o.hasOwnProperty(a)&&(n[a]=o[a])},e(r,t)};return function(r,t){e(r,t);function n(){this.constructor=r}r.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),eC=function(e){JU(r,e);function r(t){return e.call(this,t)||this}return r.prototype.getTabularDataArray=function(){var t=this.getDisplayData(),n=[["Child","Group","Value"]];return t.forEach(function(o){Array.isArray(o.children)?o.children.forEach(function(a){n.push([a.name,o.name,a.value])}):v.getProperty(o.name)!==null&&v.getProperty(o.value)&&n.push(["\u2013",o.name,o.value])}),n},r}(rr),tC=globalThis&&globalThis.__extends||function(){var e=function(r,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var a in o)o.hasOwnProperty(a)&&(n[a]=o[a])},e(r,t)};return function(r,t){e(r,t);function n(){this.constructor=r}r.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();(function(e){tC(r,e);function r(t,n){var o=e.call(this,t,n)||this;return o.model=new eC(o.services),o.model.setOptions(v.mergeDefaultChartOptions(Me.treemapChart,n.options)),o.init(t,n),o}return r.prototype.getComponents=function(){var t=[new y9(this.model,this.services)],n=this.getChartComponents(t);return n},r})($t);var rC=globalThis&&globalThis.__extends||function(){var e=function(r,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var a in o)o.hasOwnProperty(a)&&(n[a]=o[a])},e(r,t)};return function(r,t){e(r,t);function n(){this.constructor=r}r.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),cn=globalThis&&globalThis.__assign||function(){return cn=Object.assign||function(e){for(var r,t=1,n=arguments.length;t<n;t++){r=arguments[t];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},cn.apply(this,arguments)},nC=function(e){rC(r,e);function r(t){var n=e.call(this,t)||this;return n.parentNode=!1,n.set({depth:2},{skipUpdate:!0}),n}return r.prototype.setData=function(t){e.prototype.setData.call(this,t),this.setDataGroups(),t.length===1&&(this.parentNode=!0),this.setZoom()},r.prototype.setOptions=function(t){var n=this.getOptions(),o=v.merge({},t,this.getZoomOptions(t));v.updateLegendAdditionalItems(n,o);var a=this.getHierarchyLevel(),i=v.getProperty(n,"circlePack","hierarchyLevel");this.set({options:v.merge(n,o),depth:i&&i<4?i:a})},r.prototype.getZoomOptions=function(t){if(!this.getDisplayData())return{};var n=this.getDisplayData(),o=t||this.getOptions(),a=n.length===1&&v.getProperty(n,0,"children")?v.getProperty(n,0,"children"):n,i=this.getHierarchyLevel();return a.some(function(s){if(s.children&&s.children.some(function(c){return c.children}))return i=3,!1}),v.getProperty(o,"canvasZoom","enabled")===!0&&i>2?{legend:{additionalItems:[{type:Fe.ZOOM,name:"Click to zoom"}]}}:null},r.prototype.setZoom=function(t){this.setOptions(this.getZoomOptions(t))},r.prototype.updateHierarchyLevel=function(t){this.set({depth:t})},r.prototype.getHierarchyLevel=function(){return this.get("depth")},r.prototype.hasParentNode=function(){return this.parentNode},r.prototype.setDataGroups=function(){var t=this,n=this.getData(),o=this.getOptions(),a=o.data.groupMapsTo,i=n.map(function(s){var c=s[a];return t.setChildrenDataGroup(s,c)});this.set({data:i},{skipUpdate:!0})},r.prototype.setChildrenDataGroup=function(t,n){var o=this;return t.children?cn(cn({},t),{dataGroupName:n,children:t.children.map(function(a,i){return o.setChildrenDataGroup(a,n)})}):cn(cn({},t),{dataGroupName:n})},r.prototype.getTabularDataArray=function(){var t=this,n=this.getDisplayData(),o=[["Child","Parent","Value"]];return n.forEach(function(a){var i=a.value?a.value:0;a.children&&(i+=t.getChildrenDatums(a.children,a.name,o,0)),o.push(["&ndash;",a.name,i])}),o},r.prototype.getChildrenDatums=function(t,n,o,a){var i=this;o===void 0&&(o=[]),a===void 0&&(a=0);var s=n;return t.forEach(function(c){var d=c.name,l=0;if(c.children)c.children.length>0&&(typeof c.value=="number"&&(a+=c.value),l+=i.getChildrenDatums(c.children,d,o,l),o.push([d,s,l]),a+=l);else{var f=0;typeof c.value=="number"&&(f=c.value,a+=c.value),o.push([c.name,s,f])}}),a},r}(rr),oC=globalThis&&globalThis.__extends||function(){var e=function(r,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var a in o)o.hasOwnProperty(a)&&(n[a]=o[a])},e(r,t)};return function(r,t){e(r,t);function n(){this.constructor=r}r.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();(function(e){oC(r,e);function r(t,n){var o=e.call(this,t,n)||this;return o.model=new nC(o.services),o.model.setOptions(v.mergeDefaultChartOptions(Me.circlePackChart,n.options)),o.init(t,n),o}return r.prototype.getComponents=function(){var t=[new E9(this.model,this.services)],n=this.getChartComponents(t);return n},r})($t);var aC=globalThis&&globalThis.__extends||function(){var e=function(r,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var a in o)o.hasOwnProperty(a)&&(n[a]=o[a])},e(r,t)};return function(r,t){e(r,t);function n(){this.constructor=r}r.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),iC=globalThis&&globalThis.__spreadArrays||function(){for(var e=0,r=0,t=arguments.length;r<t;r++)e+=arguments[r].length;for(var n=Array(e),o=0,r=0;r<t;r++)for(var a=arguments[r],i=0,s=a.length;i<s;i++,o++)n[o]=a[i];return n},sC=function(e){aC(r,e);function r(t){return e.call(this,t)||this}return r.prototype.getTabularDataArray=function(){var t=this.getDisplayData(),n=this.getOptions(),o=n.wordCloud,a=o.fontSizeMapsTo,i=o.wordMapsTo,s=n.data.groupMapsTo,c=iC([[n.tooltip.wordLabel,"Group",n.tooltip.valueLabel]],t.map(function(d){return[d[i],d[s],d[a]]}));return c},r}(rr),cC=globalThis&&globalThis.__extends||function(){var e=function(r,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var a in o)o.hasOwnProperty(a)&&(n[a]=o[a])},e(r,t)};return function(r,t){e(r,t);function n(){this.constructor=r}r.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();(function(e){cC(r,e);function r(t,n){var o=e.call(this,t,n)||this;return o.model=new sC(o.services),o.model.setOptions(v.mergeDefaultChartOptions(Me.wordCloudChart,n.options)),o.init(t,n),o}return r.prototype.getComponents=function(){var t=[new Y9(this.model,this.services),new ot(this.model,this.services,{skeleton:Ne.PIE})],n=this.getChartComponents(t);return n},r})($t);var dC=globalThis&&globalThis.__extends||function(){var e=function(r,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var a in o)o.hasOwnProperty(a)&&(n[a]=o[a])},e(r,t)};return function(r,t){e(r,t);function n(){this.constructor=r}r.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),lC=globalThis&&globalThis.__spreadArrays||function(){for(var e=0,r=0,t=arguments.length;r<t;r++)e+=arguments[r].length;for(var n=Array(e),o=0,r=0;r<t;r++)for(var a=arguments[r],i=0,s=a.length;i<s;i++,o++)n[o]=a[i];return n},fC=function(e){dC(r,e);function r(t){return e.call(this,t)||this}return r.prototype.getTabularDataArray=function(){var t=this.getDisplayData();t.sort(function(o,a){return o.source.localeCompare(a.source)});var n=lC([["Source","Target","Value"]],t.map(function(o){return[o.source,o.target,o.value]}));return n},r}(Gr),uC=globalThis&&globalThis.__extends||function(){var e=function(r,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var a in o)o.hasOwnProperty(a)&&(n[a]=o[a])},e(r,t)};return function(r,t){e(r,t);function n(){this.constructor=r}r.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();(function(e){uC(r,e);function r(t,n){var o=e.call(this,t,n)||this;return o.model=new fC(o.services),o.model.setOptions(v.mergeDefaultChartOptions(Me.alluvialChart,n.options)),o.init(t,n),o}return r.prototype.getComponents=function(){var t=[new gA(this.model,this.services)],n=this.getChartComponents(t,{excludeLegend:!0});return n},r})($t);var pC=globalThis&&globalThis.__extends||function(){var e=function(r,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var a in o)o.hasOwnProperty(a)&&(n[a]=o[a])},e(r,t)};return function(r,t){e(r,t);function n(){this.constructor=r}r.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),hC=globalThis&&globalThis.__spreadArrays||function(){for(var e=0,r=0,t=arguments.length;r<t;r++)e+=arguments[r].length;for(var n=Array(e),o=0,r=0;r<t;r++)for(var a=arguments[r],i=0,s=a.length;i<s;i++,o++)n[o]=a[i];return n},gC=function(e){pC(r,e);function r(t){var n=e.call(this,t)||this;n.axisFlavor=io.HOVERABLE,n._colorScale=void 0,n._domains=[],n._ranges=[],n._matrix={};var o=v.getProperty(n.getOptions(),"axes");if(!!v.getProperty(o,"left","scaleType")&&v.getProperty(o,"left","scaleType")!==ne.LABELS||!!v.getProperty(o,"right","scaleType")&&v.getProperty(o,"right","scaleType")!==ne.LABELS||!!v.getProperty(o,"top","scaleType")&&v.getProperty(o,"top","scaleType")!==ne.LABELS||!!v.getProperty(o,"bottom","scaleType")&&v.getProperty(o,"bottom","scaleType")!==ne.LABELS)throw Error("Heatmap only supports label scaletypes.");return n}return r.prototype.getValueDomain=function(){var t=zt(this.getDisplayData(),function(o){return o.value}),n=Nt().domain(t).nice().domain();if(n[0]>0)n[0]=0;else if(n[0]===0&&n[1]===0)return[0,1];return n[0]<0&&n[1]>0&&(Math.abs(n[0])>n[1]?n[1]=Math.abs(n[0]):n[0]=-n[1]),n},r.prototype.getFillColor=function(t){return this._colorScale(t)},r.prototype.getUniqueDomain=function(){if(v.isEmpty(this._domains)){var t=this.getDisplayData(),n=this.services.cartesianScales,o=n.getDomainIdentifier(),a=n.getMainXAxisPosition(),i=n.getCustomDomainValuesByposition(a);if(i)return i;this._domains=Array.from(new Set(t.map(function(s){return s[o]})))}return this._domains},r.prototype.getUniqueRanges=function(){if(v.isEmpty(this._ranges)){var t=this.getDisplayData(),n=this.services.cartesianScales,o=n.getRangeIdentifier(),a=n.getMainYAxisPosition(),i=n.getCustomDomainValuesByposition(a);if(i)return i;this._ranges=Array.from(new Set(t.map(function(s){return s[o]})))}return this._ranges},r.prototype.getMatrix=function(){var t=this;if(v.isEmpty(this._matrix)){var n=this.getUniqueDomain(),o=this.getUniqueRanges(),a=this.services.cartesianScales.getDomainIdentifier(),i=this.services.cartesianScales.getRangeIdentifier(),s={};o.forEach(function(c){s[c]={value:null,index:-1}}),n.forEach(function(c){t._matrix[c]=v.clone(s)}),this.getDisplayData().forEach(function(c,d){t._matrix[c[a]][c[i]]={value:c.value,index:d}})}return this._matrix},r.prototype.setData=function(t){var n=this.sanitize(v.clone(t)),o=this.generateDataGroups(n);return this.set({data:n,dataGroups:o}),this._domains=[],this._ranges=[],this._matrix={},n},r.prototype.getMatrixAsArray=function(){var t=this;v.isEmpty(this._matrix)&&this.getMatrix();var n=this.getUniqueDomain(),o=this.getUniqueRanges(),a=this.services.cartesianScales.getDomainIdentifier(),i=this.services.cartesianScales.getRangeIdentifier(),s=[];return n.forEach(function(c){o.forEach(function(d){var l={value:t._matrix[c][d].value,index:t._matrix[c][d].index};l[a]=c,l[i]=d,s.push(l)})}),s},r.prototype.getTabularDataArray=function(){var t=this.getDisplayData(),n=this.assignRangeAndDomains(),o=n.primaryDomain,a=n.primaryRange,i=hC([[o.label,a.label,"Value"]],t.map(function(s){return[s[o.identifier]===null?"&ndash;":s[o.identifier],s[a.identifier]===null?"&ndash;":s[a.identifier].toLocaleString(),s.value]}));return i},r.prototype.getColorClassName=function(t){return t.originalClassName+" "+this._colorScale(t.value)},r.prototype.setColorClassNames=function(){var t=this.getOptions(),n=v.getProperty(t,"color","gradient","colors"),o=!v.isEmpty(n),a=v.getProperty(t,"color","pairing","option"),i=this.getValueDomain(),s=i[0]<0&&i[1]>0?"diverge":"mono";(a<1&&a>4&&s==="mono"||a<1&&a>2&&s==="diverge")&&(a=1);var c=o?n:[];if(!o)for(var d=s==="diverge"?17:11,l=1;l<d+1;l++)c.push("fill-"+s+"-"+a+"-"+l);this._colorScale=Oh().domain(i).range(c)},r}(Gr),mC=globalThis&&globalThis.__extends||function(){var e=function(r,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var a in o)o.hasOwnProperty(a)&&(n[a]=o[a])},e(r,t)};return function(r,t){e(r,t);function n(){this.constructor=r}r.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Mu=globalThis&&globalThis.__spreadArrays||function(){for(var e=0,r=0,t=arguments.length;r<t;r++)e+=arguments[r].length;for(var n=Array(e),o=0,r=0;r<t;r++)for(var a=arguments[r],i=0,s=a.length;i<s;i++,o++)n[o]=a[i];return n};(function(e){mC(r,e);function r(t,n){var o=e.call(this,t,n)||this;return o.model=new gC(o.services),o.model.setOptions(v.mergeDefaultChartOptions(Me.heatmapChart,n.options)),o.init(t,n),o}return r.prototype.getAxisChartComponents=function(t,n){var o=this.model.getOptions(),a=v.getProperty(o,"toolbar","enabled");this.services.cartesianScales.determineAxisDuality(),this.services.cartesianScales.findDomainAndRangeAxes(),this.services.cartesianScales.determineOrientation();var i=!!this.model.getOptions().title,s={id:"title",components:[new _i(this.model,this.services)],growth:ge.STRETCH},c={id:"toolbar",components:[new qd(this.model,this.services)],growth:ge.PREFERRED},d={id:"header",components:[new Rt(this.model,this.services,Mu([s],a?[c]:[]),{direction:Be.ROW,alignItems:vn.CENTER})],growth:ge.PREFERRED},l={id:"legend",components:[new NS(this.model,this.services)],growth:ge.PREFERRED,renderType:oe.SVG},f={id:"graph-frame",components:t,growth:ge.STRETCH,renderType:oe.SVG},u=v.getProperty(n,"legend","enabled")!==!1&&this.model.getOptions().legend.enabled!==!1,h=Be.COLUMN_REVERSE,p={id:"spacer",components:[new Lr(this.model,this.services,{size:15})],growth:ge.PREFERRED},m={id:"full-frame",components:[new Rt(this.model,this.services,Mu(u?[l]:[],u?[p]:[],[f]),{direction:h})],growth:ge.STRETCH},b=[];if(i||a){b.push(d);var y={id:"spacer",components:[new Lr(this.model,this.services,a?{size:15}:void 0)],growth:ge.PREFERRED};b.push(y)}return b.push(m),[new Mg(this.model,this.services),new Nd(this.model,this.services),new Rt(this.model,this.services,b,{direction:Be.COLUMN})]},r.prototype.getComponents=function(){var t=[new dt(this.model,this.services),new vA(this.model,this.services)],n=this.getAxisChartComponents(t);return n},r})(lt);function vC(e){let r,t=[e[3],{"data-carbon-theme":e[1]},{id:e[2]}],n={};for(let o=0;o<t.length;o+=1)n=gn(n,t[o]);return{c(){r=Q("div"),Zd(r,n)},m(o,a){De(o,r,a),e[8](r)},p(o,[a]){Zd(r,n=Fu(t,[a&8&&o[3],a&2&&{"data-carbon-theme":o[1]},a&4&&{id:o[2]}]))},i:we,o:we,d(o){o&&Ce(r),e[8](null)}}}function bC(e,r,t){const n=["Chart","chart","data","options","theme","id","ref"];let o=ga(r,n),{Chart:a=void 0}=r,{chart:i=null}=r,{data:s=[]}=r,{options:c={}}=r,{theme:d="white"}=r,{id:l="chart-"+Math.random().toString(36)}=r,{ref:f=null}=r;const u=lm();dm(()=>{const p=f||document.getElementById(l);return p&&(t(4,i=new a(p,{data:s,options:c})),u("load",i)),()=>{i&&(i.components.forEach(m=>m.destroy()),t(4,i=null),u("destroy"))}});function h(p){ao[p?"unshift":"push"](()=>{f=p,t(0,f)})}return e.$$set=p=>{r=gn(gn({},r),zu(p)),t(3,o=ga(r,n)),"Chart"in p&&t(5,a=p.Chart),"chart"in p&&t(4,i=p.chart),"data"in p&&t(6,s=p.data),"options"in p&&t(7,c=p.options),"theme"in p&&t(1,d=p.theme),"id"in p&&t(2,l=p.id),"ref"in p&&t(0,f=p.ref)},e.$$.update=()=>{e.$$.dirty&208&&i&&(i.model.setData(s),i.model.setOptions(c),u("update",{data:s,options:c}))},[f,d,l,o,i,a,s,c,h]}class yC extends ct{constructor(r){super(),st(this,r,bC,vC,nt,{Chart:5,chart:4,data:6,options:7,theme:1,id:2,ref:0})}}function wC(e){let r,t,n,o;const a=[e[2],{Chart:ku}];function i(d){e[3](d)}function s(d){e[4](d)}let c={};for(let d=0;d<a.length;d+=1)c=gn(c,a[d]);return e[1]!==void 0&&(c.ref=e[1]),e[0]!==void 0&&(c.chart=e[0]),r=new yC({props:c}),ao.push(()=>Qd(r,"ref",i)),ao.push(()=>Qd(r,"chart",s)),r.$on("load",e[5]),r.$on("update",e[6]),r.$on("destroy",e[7]),{c(){Le(r.$$.fragment)},m(d,l){Pe(r,d,l),o=!0},p(d,[l]){const f=l&4?Fu(a,[l&4&&hm(d[2]),l&0&&{Chart:ku}]):{};!t&&l&2&&(t=!0,f.ref=d[1],Kd(()=>t=!1)),!n&&l&1&&(n=!0,f.chart=d[0],Kd(()=>n=!1)),r.$set(f)},i(d){o||(be(r.$$.fragment,d),o=!0)},o(d){xe(r.$$.fragment,d),o=!1},d(d){Ue(r,d)}}}function _C(e,r,t){const n=["chart","ref"];let o=ga(r,n),{chart:a=null}=r,{ref:i=null}=r;function s(u){i=u,t(1,i)}function c(u){a=u,t(0,a)}function d(u){Si.call(this,e,u)}function l(u){Si.call(this,e,u)}function f(u){Si.call(this,e,u)}return e.$$set=u=>{r=gn(gn({},r),zu(u)),t(2,o=ga(r,n)),"chart"in u&&t(0,a=u.chart),"ref"in u&&t(1,i=u.ref)},[a,i,o,s,c,d,l,f]}class Eu extends ct{constructor(r){super(),st(this,r,_C,wC,nt,{chart:0,ref:1})}}const en=[];function Wd(e,r=we){let t;const n=new Set;function o(s){if(nt(e,s)&&(e=s,t)){const c=!en.length;for(const d of n)d[1](),en.push(d,e);if(c){for(let d=0;d<en.length;d+=2)en[d][0](en[d+1]);en.length=0}}}function a(s){o(s(e))}function i(s,c=we){const d=[s,c];return n.add(d),n.size===1&&(t=r(o)||we),s(e),()=>{n.delete(d),n.size===0&&(t(),t=null)}}return{set:o,update:a,subscribe:i}}const Yd=Wd("main"),Tu=Wd([]),Ou=Wd([]);function xC(e){let r,t,n,o,a,i,s,c,d,l;return o=new Eu({props:{data:e[0],options:{axes:{left:{stacked:!0,scaleType:"linear",mapsTo:"count"},bottom:{scaleType:"time",mapsTo:"date"}},curve:"curveMonotoneX",height:"400px"}}}),d=new Eu({props:{data:e[1],options:{axes:{left:{stacked:!0,scaleType:"linear",mapsTo:"count"},bottom:{scaleType:"labels",mapsTo:"version"}},curve:"curveMonotoneX",height:"400px"}}}),{c(){r=Q("div"),r.innerHTML="<span>Estimated Active users</span>",t=re(),n=Q("div"),Le(o.$$.fragment),a=re(),i=Q("div"),i.innerHTML="<span>Version Downloads</span>",s=re(),c=Q("div"),Le(d.$$.fragment),j(r,"class","h-12 pl-4 bg-slate-200 w-screen flex items-center"),j(n,"class","pr-10 pl-10 pb-10"),j(i,"class","h-12 pl-4 bg-slate-200 w-screen flex items-center"),j(c,"class","pr-10 pl-10 ")},m(f,u){De(f,r,u),De(f,t,u),De(f,n,u),Pe(o,n,null),De(f,a,u),De(f,i,u),De(f,s,u),De(f,c,u),Pe(d,c,null),l=!0},p(f,[u]){const h={};u&1&&(h.data=f[0]),o.$set(h);const p={};u&2&&(p.data=f[1]),d.$set(p)},i(f){l||(be(o.$$.fragment,f),be(d.$$.fragment,f),l=!0)},o(f){xe(o.$$.fragment,f),xe(d.$$.fragment,f),l=!1},d(f){f&&Ce(r),f&&Ce(t),f&&Ce(n),Ue(o),f&&Ce(a),f&&Ce(i),f&&Ce(s),f&&Ce(c),Ue(d)}}}function kC(e,r,t){fetch("https://api.github.com/repos/poketrax/pokepull/releases").then(a=>a.json()).then(a=>{let i=[];for(let s=a.length-1;s>=0;s--){let c=a[s],d=c.assets[0].download_count;i.push({date:c.published_at,count:d,group:"Users"})}console.log(`stats: ${i}`),Ou.set(i)});let n=[];Ou.subscribe(a=>{console.log(a),t(0,n=a)}),fetch("https://api.github.com/repos/poketrax/poketrax/releases").then(a=>a.json()).then(a=>{let i=[];for(let s=a.length-1;s>=0;s--){let c=a[s];c.assets.forEach((d,l)=>{let f="";switch(l){case 0:f="DMG";break;case 1:f="EXE";break;case 2:f="SNAP";break;default:f=""}i.push({group:f,version:c.tag_name,count:d.download_count})})}Tu.set(i)});let o=[];return Tu.subscribe(a=>{t(1,o=a)}),[n,o]}class SC extends ct{constructor(r){super(),st(this,r,kC,xC,nt,{})}}var MC="/PokeTrax/assets/icon.f2679d31.png";function EC(e){let r,t;return{c(){r=fr("svg"),t=fr("path"),j(t,"d","M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"),j(r,"xmlns","http://www.w3.org/2000/svg"),j(r,"viewBox","0 0 496 512"),j(r,"class","w-6 h-6 fill-white")},m(n,o){De(n,r,o),H(r,t)},p:we,i:we,o:we,d(n){n&&Ce(r)}}}class TC extends ct{constructor(r){super(),st(this,r,null,EC,nt,{})}}function OC(e){let r,t;return{c(){r=fr("svg"),t=fr("path"),j(t,"d","M201.5 305.5c-13.8 0-24.9-11.1-24.9-24.6 0-13.8 11.1-24.9 24.9-24.9 13.6 0 24.6 11.1 24.6 24.9 0 13.6-11.1 24.6-24.6 24.6zM504 256c0 137-111 248-248 248S8 393 8 256 119 8 256 8s248 111 248 248zm-132.3-41.2c-9.4 0-17.7 3.9-23.8 10-22.4-15.5-52.6-25.5-86.1-26.6l17.4-78.3 55.4 12.5c0 13.6 11.1 24.6 24.6 24.6 13.8 0 24.9-11.3 24.9-24.9s-11.1-24.9-24.9-24.9c-9.7 0-18 5.8-22.1 13.8l-61.2-13.6c-3-.8-6.1 1.4-6.9 4.4l-19.1 86.4c-33.2 1.4-63.1 11.3-85.5 26.8-6.1-6.4-14.7-10.2-24.1-10.2-34.9 0-46.3 46.9-14.4 62.8-1.1 5-1.7 10.2-1.7 15.5 0 52.6 59.2 95.2 132 95.2 73.1 0 132.3-42.6 132.3-95.2 0-5.3-.6-10.8-1.9-15.8 31.3-16 19.8-62.5-14.9-62.5zM302.8 331c-18.2 18.2-76.1 17.9-93.6 0-2.2-2.2-6.1-2.2-8.3 0-2.5 2.5-2.5 6.4 0 8.6 22.8 22.8 87.3 22.8 110.2 0 2.5-2.2 2.5-6.1 0-8.6-2.2-2.2-6.1-2.2-8.3 0zm7.7-75c-13.6 0-24.6 11.1-24.6 24.9 0 13.6 11.1 24.6 24.6 24.6 13.8 0 24.9-11.1 24.9-24.6 0-13.8-11-24.9-24.9-24.9z"),j(r,"xmlns","http://www.w3.org/2000/svg"),j(r,"viewBox","0 0 512 512"),j(r,"class","w-6 h-6 fill-white")},m(n,o){De(n,r,o),H(r,t)},p:we,i:we,o:we,d(n){n&&Ce(r)}}}class AC extends ct{constructor(r){super(),st(this,r,null,OC,nt,{})}}function PC(e){let r,t;return{c(){r=fr("svg"),t=fr("path"),j(t,"d","M549.655 124.083c-6.281-23.65-24.787-42.276-48.284-48.597C458.781 64 288 64 288 64S117.22 64 74.629 75.486c-23.497 6.322-42.003 24.947-48.284 48.597-11.412 42.867-11.412 132.305-11.412 132.305s0 89.438 11.412 132.305c6.281 23.65 24.787 41.5 48.284 47.821C117.22 448 288 448 288 448s170.78 0 213.371-11.486c23.497-6.321 42.003-24.171 48.284-47.821 11.412-42.867 11.412-132.305 11.412-132.305s0-89.438-11.412-132.305zm-317.51 213.508V175.185l142.739 81.205-142.739 81.201z"),j(r,"xmlns","http://www.w3.org/2000/svg"),j(r,"viewBox","0 0 576 512"),j(r,"class","w-6 h-6 fill-white")},m(n,o){De(n,r,o),H(r,t)},p:we,i:we,o:we,d(n){n&&Ce(r)}}}class UC extends ct{constructor(r){super(),st(this,r,null,PC,nt,{})}}function CC(e){let r,t;return{c(){r=fr("svg"),t=fr("path"),j(t,"d","M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"),j(r,"xmlns","http://www.w3.org/2000/svg"),j(r,"viewBox","0 0 512 512"),j(r,"class","w-6 h-6 fill-white")},m(n,o){De(n,r,o),H(r,t)},p:we,i:we,o:we,d(n){n&&Ce(r)}}}class BC extends ct{constructor(r){super(),st(this,r,null,CC,nt,{})}}function IC(e){let r,t,n;return{c(){r=Q("div"),r.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" class="h-8 w-8"><path d="M64 400C64 408.8 71.16 416 80 416H480C497.7 416 512 430.3 512 448C512 465.7 497.7 480 480 480H80C35.82 480 0 444.2 0 400V64C0 46.33 14.33 32 32 32C49.67 32 64 46.33 64 64V400zM342.6 278.6C330.1 291.1 309.9 291.1 297.4 278.6L240 221.3L150.6 310.6C138.1 323.1 117.9 323.1 105.4 310.6C92.88 298.1 92.88 277.9 105.4 265.4L217.4 153.4C229.9 140.9 250.1 140.9 262.6 153.4L320 210.7L425.4 105.4C437.9 92.88 458.1 92.88 470.6 105.4C483.1 117.9 483.1 138.1 470.6 150.6L342.6 278.6z"></path></svg>',j(r,"class","h-4 w-4 m-2 hover:fill-white fill-transparent portrait:w-0 flex items-center cursor-pointer")},m(o,a){De(o,r,a),t||(n=Lu(r,"click",e[0]),t=!0)},p:we,i:we,o:we,d(o){o&&Ce(r),t=!1,n()}}}function zC(e){function r(){Yd.set("metrics")}return[r]}class Au extends ct{constructor(r){super(),st(this,r,zC,IC,nt,{})}}function LC(e){let r,t,n,o,a,i,s,c,d,l,f,u,h,p,m,b,y,g,w,k,_,x,O,M,T,A,S,P,I,L,B,C,z,F,U,N,V,X,de,ae;return t=new Au({}),M=new TC({}),S=new AC({}),L=new UC({}),z=new BC({}),V=new Au({}),{c(){r=Q("div"),Le(t.$$.fragment),n=re(),o=Q("div"),a=re(),i=Q("img"),c=re(),d=Q("div"),l=re(),f=Q("a"),f.textContent="Pok\xE9trax",u=re(),h=Q("div"),p=re(),m=Q("a"),m.textContent="Issues",b=re(),y=Q("div"),g=re(),w=Q("span"),w.textContent="Install",k=re(),_=Q("div"),x=re(),O=Q("a"),Le(M.$$.fragment),T=re(),A=Q("a"),Le(S.$$.fragment),P=re(),I=Q("a"),Le(L.$$.fragment),B=re(),C=Q("a"),Le(z.$$.fragment),F=re(),U=Q("div"),N=re(),Le(V.$$.fragment),j(o,"class","flex-grow"),j(i,"class","h-16 w-16 portrait:h-10 portrait:w-10"),kt(i.src,s=MC)||j(i,"src",s),j(i,"alt","icon"),j(d,"class","w-4"),j(f,"class","text-white text-4xl portrait:text-xl title-font cursor-pointer"),j(f,"href","."),j(h,"class","w-96"),j(m,"class","text-white hover:text-red-600 cursor-pointer portrait:hidden"),j(m,"href","https://github.com/poketrax/PokeTrax/issues"),j(y,"class","w-4"),j(w,"class","text-white hover:text-red-600 cursor-pointer portrait:hidden"),j(_,"class","w-4"),j(O,"class","m-2"),j(O,"href","https://github.com/poketrax/PokeTrax"),j(A,"class","m-2"),j(A,"href","https://www.reddit.com/r/poketraxapp/"),j(I,"class","m-2"),j(I,"href","https://www.youtube.com/channel/UCDGebTpvhiRCy3Aw6_CDylg"),j(C,"class","p-2"),j(C,"href","https://twitter.com/poketrax_app"),j(U,"class","flex-grow"),j(r,"class","h-16 w-screen bg-blue-800 flex items-center")},m(Y,te){De(Y,r,te),Pe(t,r,null),H(r,n),H(r,o),H(r,a),H(r,i),H(r,c),H(r,d),H(r,l),H(r,f),H(r,u),H(r,h),H(r,p),H(r,m),H(r,b),H(r,y),H(r,g),H(r,w),H(r,k),H(r,_),H(r,x),H(r,O),Pe(M,O,null),H(r,T),H(r,A),Pe(S,A,null),H(r,P),H(r,I),Pe(L,I,null),H(r,B),H(r,C),Pe(z,C,null),H(r,F),H(r,U),H(r,N),Pe(V,r,null),X=!0,de||(ae=Lu(w,"click",e[0]),de=!0)},p:we,i(Y){X||(be(t.$$.fragment,Y),be(M.$$.fragment,Y),be(S.$$.fragment,Y),be(L.$$.fragment,Y),be(z.$$.fragment,Y),be(V.$$.fragment,Y),X=!0)},o(Y){xe(t.$$.fragment,Y),xe(M.$$.fragment,Y),xe(S.$$.fragment,Y),xe(L.$$.fragment,Y),xe(z.$$.fragment,Y),xe(V.$$.fragment,Y),X=!1},d(Y){Y&&Ce(r),Ue(t),Ue(M),Ue(S),Ue(L),Ue(z),Ue(V),de=!1,ae()}}}function DC(e){function r(){Yd.set("install")}return[r]}class RC extends ct{constructor(r){super(),st(this,r,DC,LC,nt,{})}}function FC(e){let r;return{c(){r=Q("span"),r.textContent=`The information presented on this application about the
    Pok\xE9mon Trading Card Game, including images and text, is
    copyright of The Pok\xE9mon Company, Nintendo, Game Freak,
    Creatures and/or Wizards of the Coast. This website is not
    produced by, endorsed by, supported by, or affiliated with
    any of these companies.`,j(r,"class","text-xs")},m(t,n){De(t,r,n)},p:we,i:we,o:we,d(t){t&&Ce(r)}}}class Kg extends ct{constructor(r){super(),st(this,r,null,FC,nt,{})}}var Qg="/PokeTrax/assets/macos.ca8865f4.png",Jg="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFAAAABQCAYAAACOEfKtAAAAAXNSR0IArs4c6QAAAIRlWElmTU0AKgAAAAgABQESAAMAAAABAAEAAAEaAAUAAAABAAAASgEbAAUAAAABAAAAUgEoAAMAAAABAAIAAIdpAAQAAAABAAAAWgAAAAAAAABIAAAAAQAAAEgAAAABAAOgAQADAAAAAQABAACgAgAEAAAAAQAAAFCgAwAEAAAAAQAAAFAAAAAAwtohTAAAAAlwSFlzAAALEwAACxMBAJqcGAAAAVlpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IlhNUCBDb3JlIDYuMC4wIj4KICAgPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4KICAgICAgPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIKICAgICAgICAgICAgeG1sbnM6dGlmZj0iaHR0cDovL25zLmFkb2JlLmNvbS90aWZmLzEuMC8iPgogICAgICAgICA8dGlmZjpPcmllbnRhdGlvbj4xPC90aWZmOk9yaWVudGF0aW9uPgogICAgICA8L3JkZjpEZXNjcmlwdGlvbj4KICAgPC9yZGY6UkRGPgo8L3g6eG1wbWV0YT4KGV7hBwAACVtJREFUeAHtnM1v3MYZxp8hubtaW1ZiG4pj5KuSHX/Jsq18t0Bb6dICBlqgSeRb/4Xk2CYIEF4K9NBeeukf0EMBOzkECdI0DuDNIQ5aoEAPaS4t+oWmQeMkSqTI0u6SM33eIblarTb2kiuuuTZH4MeSM7Pz/uZ5Z6gZzgJlKAmUBEoCJYGSQEmgJFASKAmUBFITUKlT3AYJjIG6cAnO3DSs/S8vIlQKJotpXpZE45SmFxbehSYsTRvCS7EhPo++geNH1+Orgx1uK4CDwBIs/puYgoOjWmGeEjxH6X07vIzneeu95YtwL11AOBg+YGwBDgrrp29gf8XFUeXgFJX3FIGdpPxOOAqH6ntg/darANdXURdoy9wSZQ4CcSwA9sLqarM6bijG/uQy7qpqnHAdHDchvmkU5tjKHXNdHKpMAAQITW2FbR4DmM11tn38GFRQo+bErVOHwgEcBJZPM194Bwe9No7RFeddhTN0wwUimHUruLdSY4QuWAFhacISOownHKXLcLj3+H2O4wCBlhTpwy0F6APOy9wpf6v2aZ30hh1l8Tb83+MeWj/De+eUwSM09QxxHHNqOFClsiQkyhJYYbAFi7forRaOtbVDqXNik2fejQygL7CWaci1RdVAA4sN6z7a543u8OI7OFQ1mNEGj1IYC6Q5R9866Xl0zwRWQMXQDQnKbH61BUtAcWOyqG3fJUbdxdtxngtAvwfWUgMBr2nfts6NTiGuPf3Q4bpWh37x/D8/8JcY52380Gi8SgRefW8UjW1VX1i8219ZndxHczI0QOPT3L9EygKVRXn1hfXJ+W/cW6my9zPOKcZ+nOqYo+Oeo7o+JLxz1lyNe/bcDW99FW0qywpI2qyiwOpXJZkAilGNRbiirK32q9HJX5Q1EeBEqJxH6VOn2aqdYZIjE46aqrLFl9AKDeR8ra03k4R8LmvTLYWYRLJli2InMYp3TA1Q4NEoQ7HRVGDl/MxDnufMGujHqMU5GGV7w6qnJhNYIRu0ZrRpHpPHBUMf5BNYpDTJi5/lb6xCKoDirqK4L5+ZfZjPWT9XxswqpY7XXNQrjmsNDwiqtROWYJHGPdkkbigfYheVzzaMGb+U/4lIWych0LN31StPt1oabT5IbYZGy2bvRZC6gcWXb89DKgUmCBzjtpqER6XxYcJWQreykmiZjlTkWAUxPHUI2ZV61BiNFb8dN69Lbe+NEmQCKBnmpZRxq43MAG9UK3fSvcIBzEvZeVVq4QCWLpxXVRc038IpsHThIZVSuvCQAMcteenCQ9ZY4QAOac/Ik2cGmFdblVe+eZHNNJjA2QwTED2NlTHBaBwrfQnDwMDlkJidLbPJ+WaA5pgOe2K5Fk0v5UU07u45uBnyO6ucmcv0AJANoKu9WsWDF+iqI8Or1lp7uOlOSikpQmNct+KguWH2JYk4s1arTxKgRi0eXkxu5XYkPLfGKfX1lZRDe3GJ0gHkeLOdtnfcT1eb6iqnVDcI0BKkcNJpxRitQuyBcv+c0OEE+L9XP8EfCXmVmblWg3wRKLm/q8fkZSINE2zwrQSDTyX/D5ezKXHgstG4fAzKC9TAltmIqW1LnUC+xveNMzX1fm11/+FM7UZi09TKx8rzvtDPPXe+KdcMX+z5D1ANpnNWQVKA+Ohdg7p/GU36UjKq3hPj6z+mA3jRuLhAx/vNZ9/iexGvcHpJJh+jntzwTZRUgfkAk8aYP5gfH/iRJDVv1Z+B2vw181zhTIEds81L8SxsUvma3zWplHlWfR9XpRLVCN7O2mv27T+MjXXOgGR8EpLuVmbP11ZmEu6hUXe7BzCNVUwr6duFXspqSfK66THBJ9/BTiRYQzyVf9OU2yKk60SSpMYN0eR0btiWt1AyEmTKVlOmNTvzwq6jAogz8w4fkLKVLSnjoEdx2yb45oh9dBo0VSdetkI6AedvWW3RG05ZAbLbkKR2ZwsU8g2peN5d3pzKmm/HuIFORIlUeda3s0ZTyIEsyf5EPmD2uUQrFMBcLMw500IB3PqfLmerdzH7QgHM+k/1LvJInVWhAKYufQESFApg6cIFUMSoi1AoBZZt4JDVX7rwkADHMXl2F87hn/w7x4WVq2WRBv+HlDkRGUNLxjbGUURDlTnbYAJ0FVNcqXe9WrULz2TVi5G1QgQp40/GiLJFo6l0KhmMmwrTAVyOR2wD84H6/MufGYQnOSAoazzuR21vFbLsUcb5gla0pYQ6bvBod8oxNw7bUl0cylIfEdNLkgF+9dcaDk7fh9b6PJqGS0rVE8TMxTTqQUxMTsBlHcn75wK1zW0LashVbdHEkc1oPHfpFCg2JhAb9LZrdNkLSoZA/x5vr9nG8OJFF5vfexCttdOEeZrEH2FCzunpGUzsnYBX5fBl4IFTo1yTtNWRyeAmWdPxWVE8jkFID1CMEojUVGQfFenTZFnAJb9BEEGV5uwf8fa6ZcGJKDz8xQNorp/C5voCqc2bTfUk50Q6I9KUZ80ue96gZ3DlDnMTnLzMwdVoCU6qNtWmzXmXDeC2QhGm36uXGCoaDr67iC6o/2JS2X5nyUhn89v16StXfG9pyWeFtP6Gzy34g5jgsvwqwUlEqSpZUCGLomOoss6X/ZUAvaVQdwEgTdgROlAjBdn7PUp9tyFKFjT/W+KOQNh8Bld4PILLOIzrXGPXxFmtnbOOMguM8gDXle+zUPlBCdAeqHKZW/IEwNP8Q04A+xW8A7XrJqGKf7NJoJrozQLRXvkvr8r2tjxmynULtYnjXJq4wCXmBGrmef8IoU4mUK1S2U8xiVRcUnk3hhp9H6NnCyME2K+AhNrlgBaiqMjn1tWm8rq0qQnUKwmb66/jvrrhsv+WrAh1HiNUPlbhBIHuI9iocxKNR1ClqiQfCVtQt5Uguplmf4sB7iwqLdvRptLy7VCFABdo7/kBPuKpbB2o5i26fxszhPYEJ/yoUsOltoTssU1l/8/z3ja1Taw1b6RvZ9lSjG7XD6p8u/GpskSpcmHR/gLRxzyT7WqiVMOfEWB7elS38bjDHyxiyrOskqPEuZ9qrfEVJ+CzGC5P04QuB0qTrLhxe6GKUvuVdu1NTPNNOvurH+x3vgOlf8lXO/7E9lZ696T97Jd027XbDuA26+IPthPib2XZ51S5FilV2sShwx0BsB+lHVCX7K+I7ArUft9XXisJlARKAiWBkkBJoCRQEigJlAS6CPwfUKEKwPsh64oAAAAASUVORK5CYII=",NC="/PokeTrax/assets/ubuntu.d1be8797.png",VC="/PokeTrax/assets/track_prices.d055bf98.png",$C="/PokeTrax/assets/sets.3a8de6e2.png",HC="/PokeTrax/assets/track_collection.2897e81c.png";function GC(e){let r,t,n,o,a,i,s,c,d,l,f,u,h,p,m,b,y,g,w,k,_,x,O,M,T,A,S,P,I,L,B,C,z,F,U,N,V,X,de,ae,Y,te,J,ce,K,ee,le,W,pe,se,G,Z,$,ve,bt,We,Io,Ht,et,jr,Gt,zo,Bn,or,Lo,qr,ue,$e,Do,Wr,Ro;return Wr=new Kg({}),{c(){r=Q("div"),t=Q("div"),n=Q("div"),o=re(),a=Q("div"),i=Q("div"),s=re(),c=Q("span"),c.textContent=`A simple, free, fully featured, and open source Pok\xE9mon TCG
                collection manager for Windows, Mac, and Ubuntu`,d=re(),l=Q("div"),f=re(),u=Q("div"),h=Q("div"),p=re(),m=Q("a"),b=Q("img"),g=re(),w=Q("div"),k=re(),_=Q("a"),x=Q("img"),M=re(),T=Q("div"),A=re(),S=Q("a"),P=Q("img"),L=re(),B=Q("div"),C=re(),z=Q("div"),F=re(),U=Q("div"),U.innerHTML=`<div class="flex-grow"></div> 
                <iframe class="lg:w-[960px] lg:h-[540px] md:w-[480px] md:h-[270px] w-[240px] h-[135px]" src="https://www.youtube.com/embed/IG4EF-xuJho?autoplay=1&amp;vq=hd720" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe> 
                <div class="flex-grow"></div>`,N=re(),V=Q("div"),X=re(),de=Q("div"),ae=re(),Y=Q("div"),te=Q("div"),J=Q("img"),K=re(),ee=Q("div"),ee.textContent="Analyze card prices over time",le=re(),W=Q("div"),pe=re(),se=Q("div"),G=Q("div"),Z=re(),$=Q("div"),$.textContent="Track cards and sealed products in your collection",ve=re(),bt=Q("div"),We=Q("img"),Ht=re(),et=Q("div"),jr=Q("div"),Gt=Q("img"),Bn=re(),or=Q("div"),Lo=re(),qr=Q("div"),qr.textContent="Browse sets for cards",ue=re(),$e=Q("div"),Do=re(),Le(Wr.$$.fragment),j(n,"class","flex-grow"),j(i,"class","h-10"),j(c,"class","flex text-3xl portrait:text-xl text-center p-4"),j(l,"class","h-10"),j(h,"class","flex-grow"),j(b,"class","h-20 object-contain cursor-pointer"),kt(b.src,y=Qg)||j(b,"src",y),j(b,"alt","macos"),j(m,"href","https://github.com/poketrax/PokeTrax/releases/latest/download/poketrax.dmg"),j(w,"class","w-6"),j(x,"class","h-20 object-contain cursor-pointer"),kt(x.src,O=Jg)||j(x,"src",O),j(x,"alt","win"),j(_,"href","https://github.com/poketrax/PokeTrax/releases/latest/download/poketrax.exe"),j(T,"class","w-6"),j(P,"class","h-20 object-contain cursor-pointer"),kt(P.src,I=NC)||j(P,"src",I),j(P,"alt","linux"),j(S,"href","https://github.com/poketrax/PokeTrax/releases/latest/download/poketrax.snap"),j(B,"class","flex-grow"),j(u,"class","flex"),j(z,"class","h-10"),j(U,"class","flex"),j(V,"class","flex-grow"),j(t,"class","w-screen flex"),j(de,"class","h-12"),kt(J.src,ce=VC)||j(J,"src",ce),j(J,"class","h-96 portrait:h-48 object-contain"),j(J,"alt","track prices"),j(te,"class","p-16 portrait:p-4"),j(ee,"class","text-3xl portrait:text-xl portrait:m-4"),j(W,"class","flex-grow"),j(Y,"class","flex w-screen bg-gray-200 items-center"),j(G,"class","flex-grow"),j($,"class","text-3xl portrait:text-xl portrait:m-4"),kt(We.src,Io=HC)||j(We,"src",Io),j(We,"class","h-96 portrait:h-48 object-contain"),j(We,"alt","track cards"),j(bt,"class","p-16"),j(se,"class","flex w-screen items-center"),kt(Gt.src,zo=$C)||j(Gt,"src",zo),j(Gt,"class","h-96 portrait:h-48 object-contain"),j(Gt,"alt","sets"),j(jr,"class","p-16"),j(or,"class","w-8"),j(qr,"class","text-3xl portrait:text-xl portrait:m-4"),j($e,"class","flex-grow"),j(et,"class","flex w-screen bg-gray-200 items-center"),j(r,"class","w-screen h-[calc(100vh-4rem)] overflow-x-hidden overflow-auto")},m(mr,em){De(mr,r,em),H(r,t),H(t,n),H(t,o),H(t,a),H(a,i),H(a,s),H(a,c),H(a,d),H(a,l),H(a,f),H(a,u),H(u,h),H(u,p),H(u,m),H(m,b),H(u,g),H(u,w),H(u,k),H(u,_),H(_,x),H(u,M),H(u,T),H(u,A),H(u,S),H(S,P),H(u,L),H(u,B),H(a,C),H(a,z),H(a,F),H(a,U),H(t,N),H(t,V),H(r,X),H(r,de),H(r,ae),H(r,Y),H(Y,te),H(te,J),H(Y,K),H(Y,ee),H(Y,le),H(Y,W),H(r,pe),H(r,se),H(se,G),H(se,Z),H(se,$),H(se,ve),H(se,bt),H(bt,We),H(r,Ht),H(r,et),H(et,jr),H(jr,Gt),H(et,Bn),H(et,or),H(et,Lo),H(et,qr),H(et,ue),H(et,$e),H(r,Do),Pe(Wr,r,null),Ro=!0},p:we,i(mr){Ro||(be(Wr.$$.fragment,mr),Ro=!0)},o(mr){xe(Wr.$$.fragment,mr),Ro=!1},d(mr){mr&&Ce(r),Ue(Wr)}}}class jC extends ct{constructor(r){super(),st(this,r,null,GC,nt,{})}}function Pu(e){let r,t,n;return{c(){r=Q("div"),t=Q("img"),kt(t.src,n=e[2])||j(t,"src",n),j(t,"alt",e[1]),j(r,"class","flex ml-32")},m(o,a){De(o,r,a),H(r,t)},p(o,a){a&4&&!kt(t.src,n=o[2])&&j(t,"src",n),a&2&&j(t,"alt",o[1])},d(o){o&&Ce(r)}}}function qC(e){let r,t,n,o,a,i,s,c,d=e[2]!=null&&Pu(e);return{c(){r=Q("div"),t=Q("div"),n=Q("div"),o=Q("div"),a=Yc(e[0]),i=re(),s=Q("div"),c=re(),d&&d.c(),j(n,"class","flex h-10 w-10 bg-slate-200 rounded-full items-center justify-center mr-10 ml-10 mt-5 mb-5"),j(t,"class","flex items-center")},m(l,f){De(l,r,f),H(r,t),H(t,n),H(n,o),H(o,a),H(t,i),H(t,s),s.innerHTML=e[1],H(r,c),d&&d.m(r,null)},p(l,[f]){f&1&&sm(a,l[0]),f&2&&(s.innerHTML=l[1]),l[2]!=null?d?d.p(l,f):(d=Pu(l),d.c(),d.m(r,null)):d&&(d.d(1),d=null)},i:we,o:we,d(l){l&&Ce(r),d&&d.d()}}}function WC(e,r,t){let{number:n}=r,{text:o}=r,{img:a}=r;return e.$$set=i=>{"number"in i&&t(0,n=i.number),"text"in i&&t(1,o=i.text),"img"in i&&t(2,a=i.img)},[n,o,a]}class dr extends ct{constructor(r){super(),st(this,r,WC,qC,nt,{number:0,text:1,img:2})}}var YC="/PokeTrax/assets/windows_warning.7888c921.png",XC="/PokeTrax/assets/windows_accept.5ab132f6.png",ZC="/PokeTrax/assets/macos_open_err.ac30a4ee.png",KC="/PokeTrax/assets/macos_open_sys_pref.358f8004.png",QC="/PokeTrax/assets/macos_sys_pref.48581166.png",JC="/PokeTrax/assets/macos_sec.db5c020c.png";function e7(e){let r,t,n,o,a,i,s,c,d,l,f,u,h,p,m,b,y,g,w,k,_,x,O,M,T,A,S,P,I,L,B,C,z,F,U,N,V;return l=new dr({props:{number:1,text:'Download exe from <a class="text-blue-600" href="https://github.com/poketrax/PokeTrax/releases/latest/download/poketrax.exe">here</a> and install PokeTrax',img:null}}),u=new dr({props:{number:2,text:"You will get an error that looks like this. Click 'More Info'",img:YC}}),p=new dr({props:{number:3,text:"Click 'Run anyway'",img:XC}}),A=new dr({props:{number:1,text:'Download dmg from <a class="text-blue-600" href="https://github.com/poketrax/PokeTrax/releases/latest/download/poketrax.dmg">here</a> and install PokeTrax',img:null}}),P=new dr({props:{number:2,text:"Run PokeTrax you will get the following error. Click 'Cancel'",img:ZC}}),L=new dr({props:{number:3,text:"Click the Apple logo at the top left of you screen, Then click 'System Preferences'",img:KC}}),C=new dr({props:{number:4,text:"On the system preferences window. Click 'Security & Privacy'",img:QC}}),F=new dr({props:{number:5,text:"On the General Tab in the 'Security & Privacy' window. Click 'Open Anyway'",img:JC}}),N=new Kg({}),{c(){r=Q("div"),t=Q("div"),n=Q("div"),o=Q("img"),i=re(),s=Q("div"),s.textContent="Windows install instructions",c=re(),d=Q("div"),Le(l.$$.fragment),f=re(),Le(u.$$.fragment),h=re(),Le(p.$$.fragment),m=re(),b=Q("div"),y=re(),g=Q("div"),w=Q("div"),k=Q("img"),x=re(),O=Q("div"),O.textContent="Mac OS install instructions",M=re(),T=Q("div"),Le(A.$$.fragment),S=re(),Le(P.$$.fragment),I=re(),Le(L.$$.fragment),B=re(),Le(C.$$.fragment),z=re(),Le(F.$$.fragment),U=re(),Le(N.$$.fragment),j(o,"class","h-20 object-contain cursor-pointer"),kt(o.src,a=Jg)||j(o,"src",a),j(o,"alt","windows"),j(s,"class","pl-8 text-3xl"),j(n,"class","flex w-screen h-20 bg-gray-200 items-center"),j(d,"class","w-screen"),j(b,"class","h-8"),j(k,"class","h-20 object-contain cursor-pointer"),kt(k.src,_=Qg)||j(k,"src",_),j(k,"alt","macos"),j(O,"class","pl-8 text-3xl"),j(w,"class","flex w-screen h-20 bg-gray-200 items-center"),j(T,"class","w-screen"),j(r,"class","w-screen h-[calc(100vh-4rem)] overflow-x-hidden overflow-auto")},m(X,de){De(X,r,de),H(r,t),H(t,n),H(n,o),H(n,i),H(n,s),H(t,c),H(t,d),Pe(l,d,null),H(d,f),Pe(u,d,null),H(d,h),Pe(p,d,null),H(r,m),H(r,b),H(r,y),H(r,g),H(g,w),H(w,k),H(w,x),H(w,O),H(g,M),H(g,T),Pe(A,T,null),H(T,S),Pe(P,T,null),H(T,I),Pe(L,T,null),H(T,B),Pe(C,T,null),H(T,z),Pe(F,T,null),H(r,U),Pe(N,r,null),V=!0},p:we,i(X){V||(be(l.$$.fragment,X),be(u.$$.fragment,X),be(p.$$.fragment,X),be(A.$$.fragment,X),be(P.$$.fragment,X),be(L.$$.fragment,X),be(C.$$.fragment,X),be(F.$$.fragment,X),be(N.$$.fragment,X),V=!0)},o(X){xe(l.$$.fragment,X),xe(u.$$.fragment,X),xe(p.$$.fragment,X),xe(A.$$.fragment,X),xe(P.$$.fragment,X),xe(L.$$.fragment,X),xe(C.$$.fragment,X),xe(F.$$.fragment,X),xe(N.$$.fragment,X),V=!1},d(X){X&&Ce(r),Ue(l),Ue(u),Ue(p),Ue(A),Ue(P),Ue(L),Ue(C),Ue(F),Ue(N)}}}class t7 extends ct{constructor(r){super(),st(this,r,null,e7,nt,{})}}function Uu(e){let r,t;return r=new jC({}),{c(){Le(r.$$.fragment)},m(n,o){Pe(r,n,o),t=!0},i(n){t||(be(r.$$.fragment,n),t=!0)},o(n){xe(r.$$.fragment,n),t=!1},d(n){Ue(r,n)}}}function Cu(e){let r,t;return r=new t7({}),{c(){Le(r.$$.fragment)},m(n,o){Pe(r,n,o),t=!0},i(n){t||(be(r.$$.fragment,n),t=!0)},o(n){xe(r.$$.fragment,n),t=!1},d(n){Ue(r,n)}}}function Bu(e){let r,t;return r=new SC({}),{c(){Le(r.$$.fragment)},m(n,o){Pe(r,n,o),t=!0},i(n){t||(be(r.$$.fragment,n),t=!0)},o(n){xe(r.$$.fragment,n),t=!1},d(n){Ue(r,n)}}}function r7(e){let r,t,n,o,a,i;r=new RC({});let s=e[0]==="main"&&Uu(),c=e[0]==="install"&&Cu(),d=e[0]==="metrics"&&Bu();return{c(){Le(r.$$.fragment),t=re(),s&&s.c(),n=re(),c&&c.c(),o=re(),d&&d.c(),a=am()},m(l,f){Pe(r,l,f),De(l,t,f),s&&s.m(l,f),De(l,n,f),c&&c.m(l,f),De(l,o,f),d&&d.m(l,f),De(l,a,f),i=!0},p(l,[f]){l[0]==="main"?s?f&1&&be(s,1):(s=Uu(),s.c(),be(s,1),s.m(n.parentNode,n)):s&&(Ei(),xe(s,1,1,()=>{s=null}),Ti()),l[0]==="install"?c?f&1&&be(c,1):(c=Cu(),c.c(),be(c,1),c.m(o.parentNode,o)):c&&(Ei(),xe(c,1,1,()=>{c=null}),Ti()),l[0]==="metrics"?d?f&1&&be(d,1):(d=Bu(),d.c(),be(d,1),d.m(a.parentNode,a)):d&&(Ei(),xe(d,1,1,()=>{d=null}),Ti())},i(l){i||(be(r.$$.fragment,l),be(s),be(c),be(d),i=!0)},o(l){xe(r.$$.fragment,l),xe(s),xe(c),xe(d),i=!1},d(l){Ue(r,l),l&&Ce(t),s&&s.d(l),l&&Ce(n),c&&c.d(l),l&&Ce(o),d&&d.d(l),l&&Ce(a)}}}function n7(e,r,t){let n;return Yd.subscribe(o=>{t(0,n=o)}),[n]}class o7 extends ct{constructor(r){super(),st(this,r,n7,r7,nt,{})}}new o7({target:document.getElementById("app")})});export default a7();
